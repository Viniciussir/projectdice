"use strict";(self.webpackChunkprojectdice=self.webpackChunkprojectdice||[]).push([[179],{673:(ov,bD,av)=>{var zu={};function $t(n){return"function"==typeof n}function lv(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}av.r(zu),av.d(zu,{FirebaseError:()=>ci,SDK_VERSION:()=>Ks,_DEFAULT_ENTRY_NAME:()=>Oo,_addComponent:()=>xg,_addOrOverwriteComponent:()=>OL,_apps:()=>Fo,_clearComponents:()=>die,_components:()=>fh,_getProvider:()=>FL,_registerComponent:()=>qs,_removeServiceInstance:()=>uie,deleteApp:()=>LL,getApp:()=>fie,getApps:()=>mie,initializeApp:()=>AC,onLog:()=>NL,registerVersion:()=>vr,setLogLevel:()=>VL});const cv=lv(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function gf(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Hi{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if($t(i))try{i()}catch(s){t=s instanceof cv?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{ID(s)}catch(o){t=t??[],o instanceof cv?t=[...t,...o.errors]:t.push(o)}}if(t)throw new cv(t)}}add(t){var e;if(t&&t!==this)if(this.closed)ID(t);else{if(t instanceof Hi){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&gf(e,t)}remove(t){const{_finalizers:e}=this;e&&gf(e,t),t instanceof Hi&&t._removeParent(this)}}Hi.EMPTY=(()=>{const n=new Hi;return n.closed=!0,n})();const wD=Hi.EMPTY;function CD(n){return n instanceof Hi||n&&"closed"in n&&$t(n.remove)&&$t(n.add)&&$t(n.unsubscribe)}function ID(n){$t(n)?n():n.unsubscribe()}const ga={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_f={setTimeout(n,t,...e){const{delegate:i}=_f;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=_f;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function TD(n){_f.setTimeout(()=>{const{onUnhandledError:t}=ga;if(!t)throw n;t(n)})}function ED(){}const $$=uv("C",void 0,void 0);function uv(n,t,e){return{kind:n,value:t,error:e}}let _a=null;function yf(n){if(ga.useDeprecatedSynchronousErrorHandling){const t=!_a;if(t&&(_a={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=_a;if(_a=null,e)throw i}}else n()}class dv extends Hi{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,CD(t)&&t.add(this)):this.destination=Y$}static create(t,e,i){return new Al(t,e,i)}next(t){this.isStopped?pv(function G$(n){return uv("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?pv(function j$(n){return uv("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?pv($$,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const W$=Function.prototype.bind;function hv(n,t){return W$.call(n,t)}class K${constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){vf(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){vf(i)}else vf(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){vf(e)}}}class Al extends dv{constructor(t,e,i){let r;if(super(),$t(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&ga.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&hv(t.next,s),error:t.error&&hv(t.error,s),complete:t.complete&&hv(t.complete,s)}):r=t}this.destination=new K$(r)}}function vf(n){ga.useDeprecatedSynchronousErrorHandling?function q$(n){ga.useDeprecatedSynchronousErrorHandling&&_a&&(_a.errorThrown=!0,_a.error=n)}(n):TD(n)}function pv(n,t){const{onStoppedNotification:e}=ga;e&&_f.setTimeout(()=>e(n,t))}const Y$={closed:!0,next:ED,error:function Q$(n){throw n},complete:ED},fv="function"==typeof Symbol&&Symbol.observable||"@@observable";function ya(n){return n}function SD(n){return 0===n.length?ya:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let Zt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function X$(n){return n&&n instanceof dv||function J$(n){return n&&$t(n.next)&&$t(n.error)&&$t(n.complete)}(n)&&CD(n)}(e)?e:new Al(e,i,r);return yf(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=xD(i))((r,s)=>{const o=new Al({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[fv](){return this}pipe(...e){return SD(e)(this)}toPromise(e){return new(e=xD(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function xD(n){var t;return null!==(t=n??ga.Promise)&&void 0!==t?t:Promise}const ej=lv(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Lt=(()=>{class n extends Zt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new DD(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new ej}next(e){yf(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){yf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){yf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?wD:(this.currentObservers=null,s.push(e),new Hi(()=>{this.currentObservers=null,gf(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new Zt;return e.source=this,e}}return n.create=(t,e)=>new DD(t,e),n})();class DD extends Lt{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:wD}}function AD(n){return $t(n?.lift)}function On(n){return t=>{if(AD(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function En(n,t,e,i,r){return new tj(n,t,e,i,r)}class tj extends dv{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function je(n,t){return On((e,i)=>{let r=0;e.subscribe(En(i,s=>{i.next(n.call(t,s,r++))}))})}function bf(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}function go(n){return this instanceof go?(this.v=n,this):new go(n)}function RD(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(g){return new Promise(function(b,T){s.push([h,g,b,T])>1||a(h,g)})})}function a(h,g){try{!function l(h){h.value instanceof go?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(i[h](g))}catch(b){d(s[0][3],b)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,g){h(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function PD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function yv(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const OD=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function FD(n){return $t(n?.then)}function LD(n){return $t(n[fv])}function ND(n){return Symbol.asyncIterator&&$t(n?.[Symbol.asyncIterator])}function VD(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const BD=function vj(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function UD(n){return $t(n?.[BD])}function HD(n){return RD(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield go(e.read());if(r)return yield go(void 0);yield yield go(i)}}finally{e.releaseLock()}})}function zD(n){return $t(n?.getReader)}function Sr(n){if(n instanceof Zt)return n;if(null!=n){if(LD(n))return function bj(n){return new Zt(t=>{const e=n[fv]();if($t(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(OD(n))return function wj(n){return new Zt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(FD(n))return function Cj(n){return new Zt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,TD)})}(n);if(ND(n))return $D(n);if(UD(n))return function Ij(n){return new Zt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(zD(n))return function Tj(n){return $D(HD(n))}(n)}throw VD(n)}function $D(n){return new Zt(t=>{(function Ej(n,t){var e,i,r,s;return function kD(n,t,e,i){return new(e||(e=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof e?s:new e(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=PD(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Is(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function jn(n,t,e=1/0){return $t(t)?jn((i,r)=>je((s,o)=>t(i,s,r,o))(Sr(n(i,r))),e):("number"==typeof t&&(e=t),On((i,r)=>function Sj(n,t,e,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},g=T=>c<i?b(T):l.push(T),b=T=>{s&&t.next(T),c++;let E=!1;Sr(e(T,u++)).subscribe(En(t,D=>{r?.(D),s?g(D):t.next(D)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;l.length&&c<i;){const D=l.shift();o?Is(t,o,()=>b(D)):b(D)}h()}catch(D){t.error(D)}}))};return n.subscribe(En(t,g,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,e)))}function kl(n=1/0){return jn(ya,n)}const Ts=new Zt(n=>n.complete());function jD(n){return n&&$t(n.schedule)}function vv(n){return n[n.length-1]}function GD(n){return $t(vv(n))?n.pop():void 0}function $u(n){return jD(vv(n))?n.pop():void 0}function qD(n,t=0){return On((e,i)=>{e.subscribe(En(i,r=>Is(i,n,()=>i.next(r),t),()=>Is(i,n,()=>i.complete(),t),r=>Is(i,n,()=>i.error(r),t)))})}function WD(n,t=0){return On((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function KD(n,t){if(!n)throw new Error("Iterable cannot be null");return new Zt(e=>{Is(e,t,()=>{const i=n[Symbol.asyncIterator]();Is(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function _n(n,t){return t?function Oj(n,t){if(null!=n){if(LD(n))return function Aj(n,t){return Sr(n).pipe(WD(t),qD(t))}(n,t);if(OD(n))return function Mj(n,t){return new Zt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(FD(n))return function kj(n,t){return Sr(n).pipe(WD(t),qD(t))}(n,t);if(ND(n))return KD(n,t);if(UD(n))return function Rj(n,t){return new Zt(e=>{let i;return Is(e,t,()=>{i=n[BD](),Is(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>$t(i?.return)&&i.return()})}(n,t);if(zD(n))return function Pj(n,t){return KD(HD(n),t)}(n,t)}throw VD(n)}(n,t):Sr(n)}function bv(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Al({next:()=>{i.unsubscribe(),n()}});return t(...e).subscribe(i)}function yt(n){for(let t in n)if(n[t]===yt)return t;throw Error("Could not find renamed property on target object.")}function wv(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function vt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(vt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Cv(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Nj=yt({__forward_ref__:yt});function Fe(n){return n.__forward_ref__=Fe,n.toString=function(){return vt(this())},n}function De(n){return Iv(n)?n():n}function Iv(n){return"function"==typeof n&&n.hasOwnProperty(Nj)&&n.__forward_ref__===Fe}class V extends Error{constructor(t,e){super(function wf(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function Pe(n){return"string"==typeof n?n:null==n?"":String(n)}function Cf(n,t){throw new V(-201,!1)}function $i(n,t){null==n&&function ut(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function ue(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function de(n){return{providers:n.providers||[],imports:n.imports||[]}}function If(n){return QD(n,Tf)||QD(n,ZD)}function QD(n,t){return n.hasOwnProperty(t)?n[t]:null}function YD(n){return n&&(n.hasOwnProperty(Tv)||n.hasOwnProperty(qj))?n[Tv]:null}const Tf=yt({\u0275prov:yt}),Tv=yt({\u0275inj:yt}),ZD=yt({ngInjectableDef:yt}),qj=yt({ngInjectorDef:yt});var Te=(()=>((Te=Te||{})[Te.Default=0]="Default",Te[Te.Host=1]="Host",Te[Te.Self=2]="Self",Te[Te.SkipSelf=4]="SkipSelf",Te[Te.Optional=8]="Optional",Te))();let Ev;function cr(n){const t=Ev;return Ev=n,t}function JD(n,t,e){const i=If(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Te.Optional?null:void 0!==t?t:void Cf(vt(n))}function _o(n){return{toString:n}.toString()}var xr=(()=>((xr=xr||{})[xr.OnPush=0]="OnPush",xr[xr.Default=1]="Default",xr))(),Dr=(()=>{return(n=Dr||(Dr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Dr;var n})();const wt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ml={},ct=[],Ef=yt({\u0275cmp:yt}),Sv=yt({\u0275dir:yt}),xv=yt({\u0275pipe:yt}),XD=yt({\u0275mod:yt}),Ss=yt({\u0275fac:yt}),ju=yt({__NG_ELEMENT_ID__:yt});let Kj=0;function Ae(n){return _o(()=>{const e=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===xr.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||ct,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Dr.Emulated,id:"c"+Kj++,styles:n.styles||ct,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,o=n.features;return r.inputs=iA(n.inputs,i),r.outputs=iA(n.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(tA).filter(nA):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(bi).filter(nA):null,r})}function tA(n){return ht(n)||vi(n)}function nA(n){return null!==n}function he(n){return _o(()=>({type:n.type,bootstrap:n.bootstrap||ct,declarations:n.declarations||ct,imports:n.imports||ct,exports:n.exports||ct,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function iA(n,t){if(null==n)return Ml;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}const _e=Ae;function yi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ht(n){return n[Ef]||null}function vi(n){return n[Sv]||null}function bi(n){return n[xv]||null}function ji(n,t){const e=n[XD]||null;if(!e&&!0===t)throw new Error(`Type ${vt(n)} does not have '\u0275mod' property.`);return e}function Oi(n){return Array.isArray(n)&&"object"==typeof n[1]}function kr(n){return Array.isArray(n)&&!0===n[1]}function kv(n){return 0!=(8&n.flags)}function Af(n){return 2==(2&n.flags)}function kf(n){return 1==(1&n.flags)}function Mr(n){return null!==n.template}function Xj(n){return 0!=(256&n[2])}function Ia(n,t){return n.hasOwnProperty(Ss)?n[Ss]:null}class n6{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ln(){return oA}function oA(n){return n.type.prototype.ngOnChanges&&(n.setInput=s6),r6}function r6(){const n=lA(this),t=n?.current;if(t){const e=n.previous;if(e===Ml)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function s6(n,t,e,i){const r=lA(n)||function o6(n,t){return n[aA]=t}(n,{previous:Ml,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[e],l=o[a];s[a]=new n6(l&&l.currentValue,t,o===Ml),n[i]=t}Ln.ngInherit=!0;const aA="__ngSimpleChanges__";function lA(n){return n[aA]||null}function yn(n){for(;Array.isArray(n);)n=n[0];return n}function Mf(n,t){return yn(t[n])}function qi(n,t){return yn(t[n.index])}function Fv(n,t){return n.data[t]}function Ll(n,t){return n[t]}function Wi(n,t){const e=t[n];return Oi(e)?e:e[0]}function Rf(n){return 64==(64&n[2])}function yo(n,t){return null==t?null:n[t]}function cA(n){n[18]=0}function Lv(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Me={lFrame:vA(null),bindingsEnabled:!0};function dA(){return Me.bindingsEnabled}function H(){return Me.lFrame.lView}function et(){return Me.lFrame.tView}function C(n){return Me.lFrame.contextLView=n,n[8]}function I(n){return Me.lFrame.contextLView=null,n}function Sn(){let n=hA();for(;null!==n&&64===n.type;)n=n.parent;return n}function hA(){return Me.lFrame.currentTNode}function Zr(n,t){const e=Me.lFrame;e.currentTNode=n,e.isParent=t}function Nv(){return Me.lFrame.isParent}function Vv(){Me.lFrame.isParent=!1}function wi(){const n=Me.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Nl(){return Me.lFrame.bindingIndex++}function Ds(n){const t=Me.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function w6(n,t){const e=Me.lFrame;e.bindingIndex=e.bindingRootIndex=n,Bv(t)}function Bv(n){Me.lFrame.currentDirectiveIndex=n}function gA(){return Me.lFrame.currentQueryIndex}function Hv(n){Me.lFrame.currentQueryIndex=n}function I6(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function _A(n,t,e){if(e&Te.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&Te.Host||(r=I6(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,n=s}const i=Me.lFrame=yA();return i.currentTNode=t,i.lView=n,!0}function zv(n){const t=yA(),e=n[1];Me.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function yA(){const n=Me.lFrame,t=null===n?null:n.child;return null===t?vA(n):t}function vA(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function bA(){const n=Me.lFrame;return Me.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const wA=bA;function $v(){const n=bA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ci(){return Me.lFrame.selectedIndex}function vo(n){Me.lFrame.selectedIndex=n}function jt(){const n=Me.lFrame;return Fv(n.tView,n.selectedIndex)}function Pf(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function Of(n,t,e){CA(n,t,3,e)}function Ff(n,t,e,i){(3&n[2])===e&&CA(n,t,e,i)}function jv(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function CA(n,t,e,i){const s=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(R6(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function R6(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Yu{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Lf(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],a=e[i++];n.setAttribute(t,o,a,s)}else{const s=r,o=e[++i];TA(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function IA(n){return 3===n||4===n||6===n}function TA(n){return 64===n.charCodeAt(0)}function Nf(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||EA(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function EA(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function SA(n){return-1!==n}function Vl(n){return 32767&n}function Bl(n,t){let e=function N6(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let qv=!0;function Vf(n){const t=qv;return qv=n,t}let V6=0;const Jr={};function Ju(n,t){const e=Kv(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,Wv(i.data,n),Wv(t,null),Wv(i.blueprint,null));const r=Bf(n,t),s=n.injectorIndex;if(SA(r)){const o=Vl(r),a=Bl(r,t),l=a[1].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function Wv(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Kv(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Bf(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=FA(r),null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Uf(n,t,e){!function B6(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ju)&&(i=e[ju]),null==i&&(i=e[ju]=V6++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function AA(n,t,e){if(e&Te.Optional||void 0!==n)return n;Cf()}function kA(n,t,e,i){if(e&Te.Optional&&void 0===i&&(i=null),0==(e&(Te.Self|Te.Host))){const r=n[9],s=cr(void 0);try{return r?r.get(t,i,e&Te.Optional):JD(t,i,e&Te.Optional)}finally{cr(s)}}return AA(i,0,e)}function MA(n,t,e,i=Te.Default,r){if(null!==n){if(1024&t[2]){const o=function j6(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=RA(s,o,e,i|Te.Self,Jr);if(a!==Jr)return a;let l=s.parent;if(!l){const c=o[21];if(c){const u=c.get(e,Jr,i);if(u!==Jr)return u}l=FA(o),o=o[15]}s=l}return r}(n,t,e,i,Jr);if(o!==Jr)return o}const s=RA(n,t,e,i,Jr);if(s!==Jr)return s}return kA(t,e,i,r)}function RA(n,t,e,i,r){const s=function z6(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(ju)?n[ju]:void 0;return"number"==typeof t?t>=0?255&t:$6:t}(e);if("function"==typeof s){if(!_A(t,n,i))return i&Te.Host?AA(r,0,i):kA(t,e,i,r);try{const o=s(i);if(null!=o||i&Te.Optional)return o;Cf()}finally{wA()}}else if("number"==typeof s){let o=null,a=Kv(n,t),l=-1,c=i&Te.Host?t[16][6]:null;for((-1===a||i&Te.SkipSelf)&&(l=-1===a?Bf(n,t):t[a+8],-1!==l&&OA(i,!1)?(o=t[1],a=Vl(l),t=Bl(l,t)):a=-1);-1!==a;){const u=t[1];if(PA(s,a,u.data)){const d=H6(a,t,e,o,i,c);if(d!==Jr)return d}l=t[a+8],-1!==l&&OA(i,t[1].data[a+8]===c)&&PA(s,a,t)?(o=u,a=Vl(l),t=Bl(l,t)):a=-1}}return r}function H6(n,t,e,i,r,s){const o=t[1],a=o.data[n+8],u=Hf(a,o,e,null==i?Af(a)&&qv:i!=o&&0!=(3&a.type),r&Te.Host&&s===a);return null!==u?Xu(t,o,u,a):Jr}function Hf(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let g=i?a:a+u;g<h;g++){const b=o[g];if(g<l&&e===b||g>=l&&b.type===e)return g}if(r){const g=o[l];if(g&&Mr(g)&&g.type===e)return l}return null}function Xu(n,t,e,i){let r=n[e];const s=t.data;if(function P6(n){return n instanceof Yu}(r)){const o=r;o.resolving&&function Vj(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new V(-200,`Circular dependency in DI detected for ${n}${e}`)}(function lt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Pe(n)}(s[e]));const a=Vf(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?cr(o.injectImpl):null;_A(n,i,Te.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function M6(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=oA(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==l&&cr(l),Vf(a),o.resolving=!1,wA()}}return r}function PA(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function OA(n,t){return!(n&Te.Self||n&Te.Host&&t)}class Ul{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return MA(this._tNode,this._lView,t,i,e)}}function $6(){return new Ul(Sn(),H())}function ri(n){return _o(()=>{const t=n.prototype.constructor,e=t[Ss]||Qv(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Ss]||Qv(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Qv(n){return Iv(n)?()=>{const t=Qv(De(n));return t&&t()}:Ia(n)}function FA(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}const zl="__parameters__";function jl(n,t,e){return _o(()=>{const i=function Yv(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(zl)?l[zl]:Object.defineProperty(l,zl,{value:[]})[zl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class ve{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ue({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ki(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),Ki(i,t)):t!==n&&t.push(i)}return t}function As(n,t){n.forEach(e=>Array.isArray(e)?As(e,t):t(e))}function NA(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function zf(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function id(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Qi(n,t,e){let i=Gl(n,t);return i>=0?n[1|i]=e:(i=~i,function K6(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Jv(n,t){const e=Gl(n,t);if(e>=0)return n[1|e]}function Gl(n,t){return function UA(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const rd={},eb="__NG_DI_FLAG__",jf="ngTempTokenPath",nG=/\n/gm,HA="__source";let sd;function ql(n){const t=sd;return sd=n,t}function rG(n,t=Te.Default){if(void 0===sd)throw new V(-203,!1);return null===sd?JD(n,void 0,t):sd.get(n,t&Te.Optional?null:void 0,t)}function ee(n,t=Te.Default){return(function Wj(){return Ev}()||rG)(De(n),t)}function on(n,t=Te.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),ee(n,t)}function tb(n){const t=[];for(let e=0;e<n.length;e++){const i=De(n[e]);if(Array.isArray(i)){if(0===i.length)throw new V(900,!1);let r,s=Te.Default;for(let o=0;o<i.length;o++){const a=i[o],l=sG(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(ee(r,s))}else t.push(ee(i))}return t}function od(n,t){return n[eb]=t,n.prototype[eb]=t,n}function sG(n){return n[eb]}const ad=od(jl("Optional"),8),ld=od(jl("SkipSelf"),4);var Fi=(()=>((Fi=Fi||{})[Fi.Important=1]="Important",Fi[Fi.DashCase=2]="DashCase",Fi))();const ob=new Map;let IG=0;const lb="__ngContext__";function si(n,t){Oi(t)?(n[lb]=t[20],function EG(n){ob.set(n[20],n)}(t)):n[lb]=t}function ub(n,t){return undefined(n,t)}function hd(n){const t=n[3];return kr(t)?t[3]:t}function db(n){return lk(n[13])}function hb(n){return lk(n[4])}function lk(n){for(;null!==n&&!kr(n);)n=n[4];return n}function Kl(n,t,e,i,r){if(null!=i){let s,o=!1;kr(i)?s=i:Oi(i)&&(o=!0,i=i[0]);const a=yn(i);0===n&&null!==e?null==r?fk(t,e,a):Ta(t,e,a,r||null,!0):1===n&&null!==e?Ta(t,e,a,r||null,!0):2===n?function vb(n,t,e){const i=Wf(n,t);i&&function WG(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function YG(n,t,e,i,r){const s=e[7];s!==yn(e)&&Kl(t,n,i,s,r);for(let a=10;a<e.length;a++){const l=e[a];pd(l[1],l,n,t,i,s)}}(t,n,s,e,r)}}function fb(n,t,e){return n.createElement(t,e)}function uk(n,t){const e=n[9],i=e.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,Lv(r,-1)),e.splice(i,1)}function mb(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&uk(r,i),t>0&&(n[e-1][4]=i[4]);const s=zf(n,10+t);!function BG(n,t){pd(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function dk(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&pd(n,t,e,3,null,null),function zG(n){let t=n[13];if(!t)return gb(n[1],n);for(;t;){let e=null;if(Oi(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Oi(t)&&gb(t[1],t),t=t[3];null===t&&(t=n),Oi(t)&&gb(t[1],t),e=t&&t[4]}t=e}}(t)}}function gb(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function qG(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Yu)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(n,t),function GG(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+1],a="function"==typeof o?o(t):yn(t[o]),l=i[r=e[s+2]],c=e[s+3];"boolean"==typeof c?a.removeEventListener(e[s],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),s+=2}else{const o=i[r=e[s+1]];e[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&kr(t[3])){e!==t[3]&&uk(e,t);const i=t[19];null!==i&&i.detachView(n)}!function SG(n){ob.delete(n[20])}(t)}}function hk(n,t,e){return function pk(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Dr.None||r===Dr.Emulated)return null}return qi(i,e)}(n,t.parent,e)}function Ta(n,t,e,i,r){n.insertBefore(t,e,i,r)}function fk(n,t,e){n.appendChild(t,e)}function mk(n,t,e,i,r){null!==i?Ta(n,t,e,i,r):fk(n,t,e)}function Wf(n,t){return n.parentNode(t)}function gk(n,t,e){return yk(n,t,e)}let Yf,Ib,Zf,yk=function _k(n,t,e){return 40&n.type?qi(n,e):null};function Kf(n,t,e,i){const r=hk(n,i,t),s=t[11],a=gk(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)mk(s,r,e[l],a,!1);else mk(s,r,e,a,!1)}function Qf(n,t){if(null!==t){const e=t.type;if(3&e)return qi(t,n);if(4&e)return yb(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Qf(n,i);{const r=n[t.index];return kr(r)?yb(-1,r):yn(r)}}if(32&e)return ub(t,n)()||yn(n[t.index]);{const i=bk(n,t);return null!==i?Array.isArray(i)?i[0]:Qf(hd(n[16]),i):Qf(n,t.next)}}return null}function bk(n,t){return null!==t?n[16][6].projection[t.projection]:null}function yb(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return Qf(i,r)}return t[7]}function bb(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&si(yn(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)bb(n,t,e.child,i,r,s,!1),Kl(t,n,r,a,s);else if(32&l){const c=ub(e,i);let u;for(;u=c();)Kl(t,n,r,u,s);Kl(t,n,r,a,s)}else 16&l?wk(n,t,i,e,r,s):Kl(t,n,r,a,s);e=o?e.projectionNext:e.next}}function pd(n,t,e,i,r,s){bb(e,i,n.firstChild,t,r,s,!1)}function wk(n,t,e,i,r,s){const o=e[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Kl(t,n,r,l[c],s);else bb(n,t,l,o[3],r,s,!0)}function Ck(n,t,e){n.setAttribute(t,"style",e)}function wb(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function Ea(n){return function Cb(){if(void 0===Yf&&(Yf=null,wt.trustedTypes))try{Yf=wt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Yf}()?.createHTML(n)||n}function Tk(n){return function Tb(){if(void 0===Zf&&(Zf=null,wt.trustedTypes))try{Zf=wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zf}()?.createHTML(n)||n}class Sa{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class n9 extends Sa{getTypeName(){return"HTML"}}class r9 extends Sa{getTypeName(){return"Style"}}class s9 extends Sa{getTypeName(){return"Script"}}class o9 extends Sa{getTypeName(){return"URL"}}class a9 extends Sa{getTypeName(){return"ResourceURL"}}function Yi(n){return n instanceof Sa?n.changingThisBreaksApplicationSecurity:n}function Xr(n,t){const e=function l9(n){return n instanceof Sa&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}class f9{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Ea(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class m9{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Ea(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=Ea(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const o=e.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const _9=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Jf(n){return(n=String(n)).match(_9)?n:"unsafe:"+n}function ks(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function fd(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Dk=ks("area,br,col,hr,img,wbr"),Ak=ks("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kk=ks("rp,rt"),Eb=fd(Dk,fd(Ak,ks("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fd(kk,ks("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fd(kk,Ak)),Sb=ks("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mk=fd(Sb,ks("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ks("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),y9=ks("script,style,template");class v9{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Eb.hasOwnProperty(e))return this.sanitizedSomething=!0,!y9.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!Mk.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Sb[a]&&(l=Jf(l)),this.buf.push(" ",o,'="',Rk(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Eb.hasOwnProperty(e)&&!Dk.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Rk(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const b9=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w9=/([^\#-~ |!])/g;function Rk(n){return n.replace(/&/g,"&amp;").replace(b9,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(w9,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xf;function Pk(n,t){let e=null;try{Xf=Xf||function xk(n){const t=new m9(n);return function g9(){try{return!!(new window.DOMParser).parseFromString(Ea(""),"text/html")}catch{return!1}}()?new f9(t):t}(n);let i=t?String(t):"";e=Xf.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=Xf.getInertBodyElement(i)}while(i!==s);return Ea((new v9).sanitizeChildren(xb(e)||e))}finally{if(e){const i=xb(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function xb(n){return"content"in n&&function C9(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var It=(()=>((It=It||{})[It.NONE=0]="NONE",It[It.HTML=1]="HTML",It[It.STYLE=2]="STYLE",It[It.SCRIPT=3]="SCRIPT",It[It.URL=4]="URL",It[It.RESOURCE_URL=5]="RESOURCE_URL",It))();function Db(n){const t=md();return t?Tk(t.sanitize(It.HTML,n)||""):Xr(n,"HTML")?Tk(Yi(n)):Pk(function Ik(){return void 0!==Ib?Ib:typeof document<"u"?document:void 0}(),Pe(n))}function xa(n){const t=md();return t?t.sanitize(It.URL,n)||"":Xr(n,"URL")?Yi(n):Jf(Pe(n))}function md(){const n=H();return n&&n[12]}const Ab=new ve("ENVIRONMENT_INITIALIZER"),Fk=new ve("INJECTOR",-1),Lk=new ve("INJECTOR_DEF_TYPES");class Nk{get(t,e=rd){if(e===rd){const i=new Error(`NullInjectorError: No provider for ${vt(t)}!`);throw i.name="NullInjectorError",i}return e}}function A9(...n){return{\u0275providers:Vk(0,n)}}function Vk(n,...t){const e=[],i=new Set;let r;return As(t,s=>{const o=s;kb(o,e,[],i)&&(r||(r=[]),r.push(o))}),void 0!==r&&Bk(r,e),e}function Bk(n,t){for(let e=0;e<n.length;e++){const{providers:r}=n[e];As(r,s=>{t.push(s)})}}function kb(n,t,e,i){if(!(n=De(n)))return!1;let r=null,s=YD(n);const o=!s&&ht(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=YD(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)kb(c,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{As(s.imports,u=>{kb(u,t,e,i)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&Bk(c,t)}if(!a){const c=Ia(r)||(()=>new r);t.push({provide:r,useFactory:c,deps:ct},{provide:Lk,useValue:r,multi:!0},{provide:Ab,useValue:()=>ee(r),multi:!0})}const l=s.providers;null==l||a||As(l,u=>{t.push(u)})}}return r!==n&&void 0!==n.providers}const k9=yt({provide:String,useValue:yt});function Mb(n){return null!==n&&"object"==typeof n&&k9 in n}function Da(n){return"function"==typeof n}const Rb=new ve("Set Injector scope."),em={},R9={};let Pb;function tm(){return void 0===Pb&&(Pb=new Nk),Pb}class wo{}class zk extends wo{constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fb(t,o=>this.processProvider(o)),this.records.set(Fk,Ql(void 0,this)),r.has("environment")&&this.records.set(wo,Ql(void 0,this));const s=this.records.get(Rb);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Lk.multi,ct,Te.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=ql(this),i=cr(void 0);try{return t()}finally{ql(e),cr(i)}}get(t,e=rd,i=Te.Default){this.assertNotDestroyed();const r=ql(this),s=cr(void 0);try{if(!(i&Te.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function N9(n){return"function"==typeof n||"object"==typeof n&&n instanceof ve}(t)&&If(t);a=l&&this.injectableDefInScope(l)?Ql(Ob(t),em):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&Te.Self?tm():this.parent).get(t,e=i&Te.Optional&&e===rd?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[jf]=o[jf]||[]).unshift(vt(t)),r)throw o;return function oG(n,t,e,i){const r=n[jf];throw t[HA]&&r.unshift(t[HA]),n.message=function aG(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=vt(t);if(Array.isArray(t))r=t.map(vt).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):vt(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(nG,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[jf]=null,n}(o,t,"R3InjectorError",this.source)}throw o}finally{cr(s),ql(r)}}resolveInjectorInitializers(){const t=ql(this),e=cr(void 0);try{const i=this.get(Ab.multi,ct,Te.Self);for(const r of i)r()}finally{ql(t),cr(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(vt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(t){let e=Da(t=De(t))?t:De(t&&t.provide);const i=function O9(n){return Mb(n)?Ql(void 0,n.useValue):Ql($k(n),em)}(t);if(Da(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Ql(void 0,em,!0),r.factory=()=>tb(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===em&&(e.value=R9,e.value=e.factory()),"object"==typeof e.value&&e.value&&function L9(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=De(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Ob(n){const t=If(n),e=null!==t?t.factory:Ia(n);if(null!==e)return e;if(n instanceof ve)throw new V(204,!1);if(n instanceof Function)return function P9(n){const t=n.length;if(t>0)throw id(t,"?"),new V(204,!1);const e=function jj(n){const t=n&&(n[Tf]||n[ZD]);if(t){const e=function Gj(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new V(204,!1)}function $k(n,t,e){let i;if(Da(n)){const r=De(n);return Ia(r)||Ob(r)}if(Mb(n))i=()=>De(n.useValue);else if(function Hk(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...tb(n.deps||[]));else if(function Uk(n){return!(!n||!n.useExisting)}(n))i=()=>ee(De(n.useExisting));else{const r=De(n&&(n.useClass||n.provide));if(!function F9(n){return!!n.deps}(n))return Ia(r)||Ob(r);i=()=>new r(...tb(n.deps))}return i}function Ql(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function V9(n){return!!n.\u0275providers}function Fb(n,t){for(const e of n)Array.isArray(e)?Fb(e,t):V9(e)?Fb(e.\u0275providers,t):t(e)}class jk{}class H9{resolveComponentFactory(t){throw function U9(n){const t=Error(`No component factory found for ${vt(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let gd=(()=>{class n{}return n.NULL=new H9,n})();function z9(){return Yl(Sn(),H())}function Yl(n,t){return new ze(qi(n,t))}let ze=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=z9,n})();function $9(n){return n instanceof ze?n.nativeElement:n}class _d{}let Gn=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function j9(){const n=H(),e=Wi(Sn().index,n);return(Oi(e)?e:n)[11]}(),n})(),G9=(()=>{class n{}return n.\u0275prov=ue({token:n,providedIn:"root",factory:()=>null}),n})();class yd{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const q9=new yd("14.3.0"),Lb={};function Vb(n){return n.ngOriginalError}class Zl{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Vb(t);for(;e&&Vb(e);)e=Vb(e);return e||null}}function Ms(n){return n instanceof Function?n():n}function Wk(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}const Kk="ng-template";function r8(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==Wk(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Qk(n){return 4===n.type&&n.value!==Kk}function s8(n,t,e){return t===(4!==n.type||e?n.value:Kk)}function o8(n,t,e){let i=4;const r=n.attrs||[],s=function c8(n){for(let t=0;t<n.length;t++)if(IA(n[t]))return t;return n.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!s8(n,l,e)||""===l&&1===t.length){if(Rr(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!r8(n.attrs,c,e)){if(Rr(i))return!1;o=!0}continue}const d=a8(8&i?"class":l,r,Qk(n),e);if(-1===d){if(Rr(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const g=8&i?h:null;if(g&&-1!==Wk(g,c,0)||2&i&&c!==h){if(Rr(i))return!1;o=!0}}}}else{if(!o&&!Rr(i)&&!Rr(l))return!1;if(o&&Rr(l))continue;o=!1,i=l|1&i}}return Rr(i)||o}function Rr(n){return 0==(1&n)}function a8(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function u8(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Yk(n,t,e=!1){for(let i=0;i<t.length;i++)if(o8(n,t[i],e))return!0;return!1}function d8(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Zk(n,t){return n?":not("+t.trim()+")":t}function h8(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Rr(o)&&(t+=Zk(s,r),r=""),i=o,s=s||!Rr(i);e++}return""!==r&&(t+=Zk(s,r)),t}const Oe={};function m(n){Jk(et(),H(),Ci()+n,!1)}function Jk(n,t,e,i){if(!i)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&Of(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Ff(t,s,0,e)}vo(e)}function nM(n,t=null,e=null,i){const r=iM(n,t,e,i);return r.resolveInjectorInitializers(),r}function iM(n,t=null,e=null,i,r=new Set){const s=[e||ct,A9(n)];return i=i||("object"==typeof n?void 0:vt(n)),new zk(s,t||tm(),i||null,r)}let Ti=(()=>{class n{static create(e,i){if(Array.isArray(e))return nM({name:""},i,e,"");{const r=e.name??"";return nM({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=rd,n.NULL=new Nk,n.\u0275prov=ue({token:n,providedIn:"any",factory:()=>ee(Fk)}),n.__NG_ELEMENT_ID__=-1,n})();function x(n,t=Te.Default){const e=H();return null===e?ee(n,t):MA(Sn(),e,De(n),t)}function $b(){throw new Error("invalid")}function im(n,t){return n<<17|t<<2}function Pr(n){return n>>17&32767}function jb(n){return 2|n}function Rs(n){return(131068&n)>>2}function Gb(n,t){return-131069&n|t<<2}function qb(n){return 1|n}function bM(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const o=n.data[s];Hv(r),o.contentQueries(2,t[s],s)}}}function om(n,t,e,i,r,s,o,a,l,c,u){const d=t.blueprint.slice();return d[0]=r,d[2]=76|i,(null!==u||n&&1024&n[2])&&(d[2]|=1024),cA(d),d[3]=d[15]=n,d[8]=e,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=s,d[20]=function TG(){return IG++}(),d[21]=u,d[16]=2==t.type?n[16]:d,d}function ec(n,t,e,i,r){let s=n.data[t];if(null===s)s=function ew(n,t,e,i,r){const s=hA(),o=Nv(),l=n.data[t]=function K8(n,t,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,t,e,i,r),function b6(){return Me.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function Qu(){const n=Me.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Zr(s,!0),s}function tc(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function tw(n,t,e){zv(t);try{const i=n.viewQuery;null!==i&&cw(1,i,e);const r=n.template;null!==r&&wM(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&bM(n,t),n.staticViewQueries&&cw(2,n.viewQuery,e);const s=n.components;null!==s&&function G8(n,t){for(let e=0;e<t.length;e++)uq(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,$v()}}function am(n,t,e,i){const r=t[2];if(128!=(128&r)){zv(t);try{cA(t),function fA(n){return Me.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&wM(n,t,e,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&Of(t,c,null)}else{const c=n.preOrderHooks;null!==c&&Ff(t,c,0,null),jv(t,0)}if(function lq(n){for(let t=db(n);null!==t;t=hb(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(512&r[2])&&Lv(s,1),r[2]|=512}}}(t),function aq(n){for(let t=db(n);null!==t;t=hb(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];Rf(i)&&am(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&bM(n,t),o){const c=n.contentCheckHooks;null!==c&&Of(t,c)}else{const c=n.contentHooks;null!==c&&Ff(t,c,1),jv(t,1)}!function $8(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)vo(~r);else{const s=r,o=e[++i],a=e[++i];w6(o,s),a(2,t[s])}}}finally{vo(-1)}}(n,t);const a=n.components;null!==a&&function j8(n,t){for(let e=0;e<t.length;e++)cq(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&cw(2,l,i),o){const c=n.viewCheckHooks;null!==c&&Of(t,c)}else{const c=n.viewHooks;null!==c&&Ff(t,c,2),jv(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Lv(t[3],-1))}finally{$v()}}}function wM(n,t,e,i,r){const s=Ci(),o=2&i;try{vo(-1),o&&t.length>22&&Jk(n,t,22,!1),e(i,r)}finally{vo(s)}}function CM(n,t,e){if(kv(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function nw(n,t,e){!dA()||(function X8(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||Ju(e,t),si(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=Mr(l);c&&rq(t,e,l);const u=Xu(t,n,a,e);si(u,t),null!==o&&sq(0,a-r,u,l,0,o),c&&(Wi(e.index,t)[8]=u)}}(n,t,e,qi(e,t)),128==(128&e.flags)&&function eq(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function C6(){return Me.lFrame.currentDirectiveIndex}();try{vo(s);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];Bv(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&AM(l,c)}}finally{vo(-1),Bv(o)}}(n,t,e))}function iw(n,t,e=qi){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function IM(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=rw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function rw(n,t,e,i,r,s,o,a,l,c){const u=22+i,d=u+r,h=function q8(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Oe);return e}(u,d),g="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1}}function TM(n,t,e,i){const r=OM(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&FM(n).push(i,r.length-1))}function EM(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function SM(n,t){const i=t.directiveEnd,r=n.data,s=t.attrs,o=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const u=r[c],d=u.inputs,h=null===s||Qk(t)?null:oq(d,s);o.push(h),a=EM(d,c,a),l=EM(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=l}function xM(n,t){const e=Wi(t,n);16&e[2]||(e[2]|=32)}function sw(n,t,e,i){let r=!1;if(dA()){const s=function tq(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];Yk(e,o.selectors,!1)&&(r||(r=[]),Uf(Ju(e,t),n,o.type),Mr(o)?(kM(n,e),r.unshift(o)):r.push(o))}return r}(n,t,e),o=null===i?null:{"":-1};if(null!==s){r=!0,MM(e,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=tc(n,t,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];e.mergedAttrs=Nf(e.mergedAttrs,d.hostAttrs),RM(n,e,t,c,d),iq(c,d,o),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}SM(n,e)}o&&function nq(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new V(-301,!1);i.push(t[r],s)}}}(e,i,o)}return e.mergedAttrs=Nf(e.mergedAttrs,e.attrs),r}function DM(n,t,e,i,r,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function J8(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,o)}}function AM(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function kM(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function iq(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Mr(t)&&(e[""]=n)}}function MM(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function RM(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=Ia(r.type)),o=new Yu(s,Mr(r),x);n.blueprint[i]=o,e[i]=o,DM(n,t,0,i,tc(n,e,r.hostVars,Oe),r)}function rq(n,t,e){const i=qi(t,n),r=IM(e),s=n[10],o=lm(n,om(n,r,null,e.onPush?32:16,i,t,s,s.createRenderer(i,e),null,null,null));n[t.index]=o}function es(n,t,e,i,r,s){const o=qi(n,t);!function ow(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const a=null==o?Pe(s):o(s,i||"",r);n.setAttribute(t,r,a,e)}}(t[11],o,s,n.value,e,i,r)}function sq(n,t,e,i,r,s){const o=s[t];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?i.setInput(e,d,c,u):e[u]=d}}}function oq(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function PM(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function cq(n,t){const e=Wi(t,n);if(Rf(e)){const i=e[1];48&e[2]?am(i,e,i.template,e[8]):e[5]>0&&aw(e)}}function aw(n){for(let i=db(n);null!==i;i=hb(i))for(let r=10;r<i.length;r++){const s=i[r];if(Rf(s))if(512&s[2]){const o=s[1];am(o,s,o.template,s[8])}else s[5]>0&&aw(s)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Wi(e[i],n);Rf(r)&&r[5]>0&&aw(r)}}function uq(n,t){const e=Wi(t,n),i=e[1];(function dq(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),tw(i,e,e[8])}function lm(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function lw(n){for(;n;){n[2]|=32;const t=hd(n);if(Xj(n)&&!t)return n;n=t}return null}function cm(n,t,e,i=!0){const r=t[10];r.begin&&r.begin();try{am(n,t,n.template,e)}catch(o){throw i&&NM(t,o),o}finally{r.end&&r.end()}}function cw(n,t,e){Hv(0),t(n,e)}function OM(n){return n[7]||(n[7]=[])}function FM(n){return n.cleanup||(n.cleanup=[])}function NM(n,t){const e=n[9],i=e?e.get(Zl,null):null;i&&i.handleError(t)}function uw(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],l=t[o],c=n.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Ps(n,t,e){const i=Mf(t,n);!function ck(n,t,e){n.setValue(t,e)}(n[11],i,e)}function um(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=Cv(r,a):2==s&&(i=Cv(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function dm(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(yn(s)),kr(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&dm(l[1],l,c,i)}const o=e.type;if(8&o)dm(n,t,e.child,i);else if(32&o){const a=ub(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=bk(t,e);if(Array.isArray(a))i.push(...a);else{const l=hd(t[16]);dm(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class vd{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return dm(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(kr(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(mb(t,i),zf(e,i))}this._attachedToViewContainer=!1}dk(this._lView[1],this._lView)}onDestroy(t){TM(this._lView[1],this._lView,null,t)}markForCheck(){lw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){cm(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function HG(n,t){pd(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=t}}class hq extends vd{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;cm(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class dw extends gd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ht(t);return new bd(e,this.ngModule)}}function VM(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class fq{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){const r=this.injector.get(t,Lb,i);return r!==Lb||e===Lb?r:this.parentInjector.get(t,e,i)}}class bd extends jk{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function p8(n){return n.map(h8).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return VM(this.componentDef.inputs)}get outputs(){return VM(this.componentDef.outputs)}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof wo?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new fq(t,s):t,a=o.get(_d,null);if(null===a)throw new V(407,!1);const l=o.get(G9,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=i?function W8(n,t,e){return n.selectRootElement(t,e===Dr.ShadowDom)}(c,i,this.componentDef.encapsulation):fb(c,u,function pq(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(u)),h=this.componentDef.onPush?288:272,g=rw(0,null,null,1,0,null,null,null,null,null),b=om(null,g,null,h,null,null,a,c,l,o,null);let T,E;zv(b);try{const D=function _q(n,t,e,i,r,s){const o=e[1];e[22]=n;const l=ec(o,22,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(um(l,c,!0),null!==n&&(Lf(r,n,c),null!==l.classes&&wb(r,n,l.classes),null!==l.styles&&Ck(r,n,l.styles)));const u=i.createRenderer(n,t),d=om(e,IM(t),null,t.onPush?32:16,e[22],l,i,u,s||null,null,null);return o.firstCreatePass&&(Uf(Ju(l,e),o,t.type),kM(o,l),MM(l,e.length,1)),lm(e,d),e[22]=d}(d,this.componentDef,b,a,c);if(d)if(i)Lf(c,d,["ng-version",q9.full]);else{const{attrs:M,classes:A}=function f8(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!Rr(r))break;r=s}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);M&&Lf(c,d,M),A&&A.length>0&&wb(c,d,A.join(" "))}if(E=Fv(g,22),void 0!==e){const M=E.projection=[];for(let A=0;A<this.ngContentSelectors.length;A++){const O=e[A];M.push(null!=O?Array.from(O):null)}}T=function yq(n,t,e,i){const r=e[1],s=function Z8(n,t,e){const i=Sn();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),RM(n,i,t,tc(n,t,1,null),e),SM(n,i));const r=Xu(t,n,i.directiveStart,i);si(r,t);const s=qi(i,t);return s&&si(s,t),r}(r,e,t);if(n[8]=e[8]=s,null!==i)for(const a of i)a(s,t);if(t.contentQueries){const a=Sn();t.contentQueries(1,s,a.directiveStart)}const o=Sn();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(vo(o.index),DM(e[1],o,0,o.directiveStart,o.directiveEnd,t),AM(t,s)),s}(D,this.componentDef,b,[vq]),tw(g,b,null)}finally{$v()}return new gq(this.componentType,T,Yl(E,b),b,E)}}class gq extends class B9{}{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new hq(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const s=this._rootLView;uw(s[1],s,r,t,e),xM(s,this._tNode.index)}}get injector(){return new Ul(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function vq(){const n=Sn();Pf(H()[1],n)}function pt(n){let t=function BM(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Mr(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new V(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=hw(n.inputs),o.declaredInputs=hw(n.declaredInputs),o.outputs=hw(n.outputs);const a=r.hostBindings;a&&Iq(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&wq(n,l),c&&Cq(n,c),wv(n.inputs,r.inputs),wv(n.declaredInputs,r.declaredInputs),wv(n.outputs,r.outputs),Mr(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===pt&&(e=!1)}}t=Object.getPrototypeOf(t)}!function bq(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Nf(r.hostAttrs,e=Nf(e,r.hostAttrs))}}(i)}function hw(n){return n===Ml?{}:n===ct?[]:n}function wq(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function Cq(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function Iq(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let hm=null;function Aa(){if(!hm){const n=wt.Symbol;if(n&&n.iterator)hm=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(hm=i)}}}return hm}function wd(n){return!!pw(n)&&(Array.isArray(n)||!(n instanceof Map)&&Aa()in n)}function pw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ts(n,t,e){return n[t]=e}function Cd(n,t){return n[t]}function oi(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function ka(n,t,e,i){const r=oi(n,t,e);return oi(n,t+1,i)||r}function pm(n,t,e,i,r){const s=ka(n,t,e,i);return oi(n,t+2,r)||s}function hr(n,t,e,i,r,s){const o=ka(n,t,e,i);return ka(n,t+2,r,s)||o}function ie(n,t,e,i){const r=H();return oi(r,Nl(),t)&&(et(),es(jt(),r,n,t,e,i)),ie}function rc(n,t,e,i,r,s){const a=ka(n,function xs(){return Me.lFrame.bindingIndex}(),e,r);return Ds(2),a?t+Pe(e)+i+Pe(r)+s:Oe}function v(n,t,e,i,r,s,o,a){const l=H(),c=et(),u=n+22,d=c.firstCreatePass?function Mq(n,t,e,i,r,s,o,a,l){const c=t.consts,u=ec(t,n,4,o||null,yo(c,a));sw(t,e,u,yo(c,l)),Pf(t,u);const d=u.tViews=rw(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,s,o):c.data[u];Zr(d,!1);const h=l[11].createComment("");Kf(c,l,h,d),si(h,l),lm(l,l[u]=PM(h,l,h,d)),kf(d)&&nw(c,l,d),null!=o&&iw(l,d,a)}function Ge(n){return Ll(function v6(){return Me.lFrame.contextLView}(),22+n)}function p(n,t,e){const i=H();return oi(i,Nl(),t)&&function Zi(n,t,e,i,r,s,o,a){const l=qi(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(uw(n,e,u,i,r),Af(t)&&xM(e,t.index)):3&t.type&&(i=function Q8(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(l,i,r))}(et(),jt(),i,n,t,i[11],e,!1),p}function fw(n,t,e,i,r){const o=r?"class":"style";uw(n,e,t.inputs[o],o,i)}function _(n,t,e,i){const r=H(),s=et(),o=22+n,a=r[11],l=r[o]=fb(a,t,function k6(){return Me.lFrame.currentNamespace}()),c=s.firstCreatePass?function Pq(n,t,e,i,r,s,o){const a=t.consts,c=ec(t,n,2,r,yo(a,s));return sw(t,e,c,yo(a,o)),null!==c.attrs&&um(c,c.attrs,!1),null!==c.mergedAttrs&&um(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,s,r,0,t,e,i):s.data[o];Zr(c,!0);const u=c.mergedAttrs;null!==u&&Lf(a,l,u);const d=c.classes;null!==d&&wb(a,l,d);const h=c.styles;return null!==h&&Ck(a,l,h),64!=(64&c.flags)&&Kf(s,r,l,c),0===function f6(){return Me.lFrame.elementDepthCount}()&&si(l,r),function m6(){Me.lFrame.elementDepthCount++}(),kf(c)&&(nw(s,r,c),CM(s,c,r)),null!==i&&iw(r,c),_}function y(){let n=Sn();Nv()?Vv():(n=n.parent,Zr(n,!1));const t=n;!function g6(){Me.lFrame.elementDepthCount--}();const e=et();return e.firstCreatePass&&(Pf(e,n),kv(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function F6(n){return 0!=(16&n.flags)}(t)&&fw(e,t,H(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function L6(n){return 0!=(32&n.flags)}(t)&&fw(e,t,H(),t.stylesWithoutHost,!1),y}function j(n,t,e,i){return _(n,t,e,i),y(),j}function ae(n,t,e){const i=H(),r=et(),s=n+22,o=r.firstCreatePass?function Oq(n,t,e,i,r){const s=t.consts,o=yo(s,i),a=ec(t,n,8,"ng-container",o);return null!==o&&um(a,o,!0),sw(t,e,a,yo(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,e):r.data[s];Zr(o,!0);const a=i[s]=i[11].createComment("");return Kf(r,i,a,o),si(a,i),kf(o)&&(nw(r,i,o),CM(r,o,i)),null!=e&&iw(i,o),ae}function le(){let n=Sn();const t=et();return Nv()?Vv():(n=n.parent,Zr(n,!1)),t.firstCreatePass&&(Pf(t,n),kv(n)&&t.queries.elementEnd(n)),le}function $(n,t,e){return ae(n,t,e),le(),$}function N(){return H()}function Id(n){return!!n&&"function"==typeof n.then}const mw=function QM(n){return!!n&&"function"==typeof n.subscribe};function S(n,t,e,i){const r=H(),s=et(),o=Sn();return function ZM(n,t,e,i,r,s,o,a){const l=kf(i),u=n.firstCreatePass&&FM(n),d=t[8],h=OM(t);let g=!0;if(3&i.type||a){const E=qi(i,t),D=a?a(E):E,M=h.length,A=a?W=>a(yn(W[i.index])):i.index;let O=null;if(!a&&l&&(O=function Fq(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[7],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=s,O.__ngLastListenerFn__=s,g=!1;else{s=XM(i,t,d,s,!1);const W=e.listen(D,r,s);h.push(s,W),u&&u.push(r,A,M,M+1)}}else s=XM(i,t,d,s,!1);const b=i.outputs;let T;if(g&&null!==b&&(T=b[r])){const E=T.length;if(E)for(let D=0;D<E;D+=2){const K=t[T[D]][T[D+1]].subscribe(s),be=h.length;h.push(s,K),u&&u.push(r,i.index,be,-(be+1))}}}(s,r,r[11],o,n,t,0,i),S}function JM(n,t,e,i){try{return!1!==e(i)}catch(r){return NM(n,r),!1}}function XM(n,t,e,i,r){return function s(o){if(o===Function)return i;lw(2&n.flags?Wi(n.index,t):t);let l=JM(t,0,i,o),c=s.__ngNextListenerFn__;for(;c;)l=JM(t,0,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function f(n=1){return function T6(n){return(Me.lFrame.contextLView=function E6(n,t){for(;n>0;)t=t[15],n--;return t}(n,Me.lFrame.contextLView))[8]}(n)}function Lq(n,t){let e=null;const i=function l8(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?Yk(n,s,!0):d8(i,s))return r}else e=r}return e}function pr(n){const t=H()[16][6];if(!t.projection){const i=t.projection=id(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?Lq(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Dn(n,t=0,e){const i=H(),r=et(),s=ec(r,22+n,16,null,e||null);null===s.projection&&(s.projection=t),Vv(),64!=(64&s.flags)&&function QG(n,t,e){wk(t[11],0,t,e,hk(n,e,t),gk(e.parent||t[6],e,t))}(r,i,s)}function cR(n,t,e,i,r){const s=n[e+1],o=null===t;let a=i?Pr(s):Rs(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];Bq(n[a],t)&&(l=!0,n[a+1]=i?qb(u):jb(u)),a=i?Pr(u):Rs(u)}l&&(n[e+1]=i?jb(s):qb(s))}function Bq(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Gl(n,t)>=0}const An={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uR(n){return n.substring(An.key,An.keyEnd)}function Uq(n){return n.substring(An.value,An.valueEnd)}function dR(n,t){const e=An.textEnd;return e===t?-1:(t=An.keyEnd=function $q(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,An.key=t,e),dc(n,t,e))}function hR(n,t){const e=An.textEnd;let i=An.key=dc(n,t,e);return e===i?-1:(i=An.keyEnd=function jq(n,t,e){let i;for(;t<e&&(45===(i=n.charCodeAt(t))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)t++;return t}(n,i,e),i=fR(n,i,e),i=An.value=dc(n,i,e),i=An.valueEnd=function Gq(n,t,e){let i=-1,r=-1,s=-1,o=t,a=o;for(;o<e;){const l=n.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=mR(n,l,o,e):t===o-4&&85===s&&82===r&&76===i&&40===l?a=o=mR(n,41,o,e):l>32&&(a=o),s=r,r=i,i=-33&l}return a}(n,i,e),fR(n,i,e))}function pR(n){An.key=0,An.keyEnd=0,An.value=0,An.valueEnd=0,An.textEnd=n.length}function dc(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function fR(n,t,e,i){return(t=dc(n,t,e))<e&&t++,t}function mR(n,t,e,i){let r=-1,s=e;for(;s<i;){const o=n.charCodeAt(s++);if(o==t&&92!==r)return s;r=92==o&&92===r?0:o}throw new Error}function Or(n,t,e){return Fr(n,t,e,!1),Or}function ai(n,t){return Fr(n,t,null,!0),ai}function Tt(n){Lr(yR,qq,n,!1)}function qq(n,t){for(let e=function zq(n){return pR(n),hR(n,dc(n,0,An.textEnd))}(t);e>=0;e=hR(t,e))yR(n,uR(t),Uq(t))}function ce(n){Lr(Qi,ns,n,!0)}function ns(n,t){for(let e=function Hq(n){return pR(n),dR(n,dc(n,0,An.textEnd))}(t);e>=0;e=dR(t,e))Qi(n,uR(t),!0)}function Fr(n,t,e,i){const r=H(),s=et(),o=Ds(2);s.firstUpdatePass&&_R(s,n,o,i),t!==Oe&&oi(r,o,t)&&vR(s,s.data[Ci()],r,r[11],n,r[o+1]=function Xq(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=vt(Yi(n)))),n}(t,e),i,o)}function Lr(n,t,e,i){const r=et(),s=Ds(2);r.firstUpdatePass&&_R(r,null,s,i);const o=H();if(e!==Oe&&oi(o,s,e)){const a=r.data[Ci()];if(wR(a,i)&&!gR(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Cv(l,e||"")),fw(r,a,o,e,i)}else!function Jq(n,t,e,i,r,s,o,a){r===Oe&&(r=ct);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,g=c<s.length?s[c+1]:void 0;let T,b=null;u===d?(l+=2,c+=2,h!==g&&(b=d,T=g)):null===d||null!==u&&u<d?(l+=2,b=u):(c+=2,b=d,T=g),null!==b&&vR(n,t,e,i,b,T,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function Zq(n,t,e){if(null==e||""===e)return ct;const i=[],r=Yi(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}function gR(n,t){return t>=n.expandoStartIndex}function _R(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[Ci()],o=gR(n,e);wR(s,i)&&null===t&&!o&&(t=!1),t=function Wq(n,t,e,i){const r=function Uv(n){const t=Me.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Td(e=_w(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=_w(r,n,t,e,i),null===s){let l=function Kq(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Rs(i))return n[Pr(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=_w(null,n,t,l[1],i),l=Td(l,t.attrs,i),function Qq(n,t,e,i){n[Pr(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else s=function Yq(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Td(i,n[s].hostAttrs,e);return Td(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function Nq(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=Pr(o),l=Rs(o);n[i]=e;let u,c=!1;if(Array.isArray(e)){const d=e;u=d[1],(null===u||Gl(d,u)>0)&&(c=!0)}else u=e;if(r)if(0!==l){const h=Pr(n[a+1]);n[i+1]=im(h,a),0!==h&&(n[h+1]=Gb(n[h+1],i)),n[a+1]=function P8(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=im(a,0),0!==a&&(n[a+1]=Gb(n[a+1],i)),a=i;else n[i+1]=im(l,0),0===a?a=i:n[l+1]=Gb(n[l+1],i),l=i;c&&(n[i+1]=jb(n[i+1])),cR(n,u,i,!0),cR(n,u,i,!1),function Vq(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&Gl(s,t)>=0&&(e[i+1]=qb(e[i+1]))}(t,u,n,i,s),o=im(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function _w(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=Td(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Td(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Qi(n,o,!!e||t[++s]))}return void 0===n?null:n}function yR(n,t,e){Qi(n,t,Yi(e))}function vR(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];fm(function hM(n){return 1==(1&n)}(c)?bR(l,t,e,r,Rs(c),o):void 0)||(fm(s)||function dM(n){return 2==(2&n)}(c)&&(s=bR(l,null,e,r,a,o)),function ZG(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:Fi.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Fi.Important),n.setStyle(e,i,r,s))}}(i,o,Mf(Ci(),e),r,s))}function bR(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[r+1];h===Oe&&(h=d?ct:void 0);let g=d?Jv(h,i):u===i?h:void 0;if(c&&!fm(g)&&(g=Jv(l,i)),fm(g)&&(a=g,o))return a;const b=n[r+1];r=o?Pr(b):Rs(b)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=Jv(l,i))}return a}function fm(n){return void 0!==n}function wR(n,t){return 0!=(n.flags&(t?16:32))}function L(n,t=""){const e=H(),i=et(),r=n+22,s=i.firstCreatePass?ec(i,r,1,t,null):i.data[r],o=e[r]=function pb(n,t){return n.createText(t)}(e[11],t);Kf(i,e,o,s),Zr(s,!1)}function se(n){return Gt("",n,""),se}function Gt(n,t,e){const i=H(),r=function ic(n,t,e,i){return oi(n,Nl(),e)?t+Pe(e)+i:Oe}(i,n,t,e);return r!==Oe&&Ps(i,Ci(),r),Gt}function mm(n,t,e,i,r){const s=H(),o=rc(s,n,t,e,i,r);return o!==Oe&&Ps(s,Ci(),o),mm}const pc="en-US";let zR=pc;function bw(n,t,e,i,r){if(n=De(n),Array.isArray(n))for(let s=0;s<n.length;s++)bw(n[s],t,e,i,r);else{const s=et(),o=H();let a=Da(n)?n:De(n.provide),l=$k(n);const c=Sn(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Da(n)||!n.multi){const g=new Yu(l,r,x),b=Cw(a,t,r?u:u+h,d);-1===b?(Uf(Ju(c,o),s,a),ww(s,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(g),o.push(g)):(e[b]=g,o[b]=g)}else{const g=Cw(a,t,u+h,d),b=Cw(a,t,u,u+h),T=g>=0&&e[g],E=b>=0&&e[b];if(r&&!E||!r&&!T){Uf(Ju(c,o),s,a);const D=function y7(n,t,e,i,r){const s=new Yu(n,e,x);return s.multi=[],s.index=t,s.componentProviders=0,pP(s,r,i&&!e),s}(r?_7:g7,e.length,r,i,l);!r&&E&&(e[b].providerFactory=D),ww(s,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(D),o.push(D)}else ww(s,n,g>-1?g:b,pP(e[r?b:g],l,!r&&i));!r&&i&&E&&e[b].componentProviders++}}}function ww(n,t,e,i){const r=Da(t),s=function M9(n){return!!n.useClass}(t);if(r||s){const l=(s?De(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function pP(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Cw(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function g7(n,t,e,i){return Iw(this.multi,[])}function _7(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Xu(e,e[1],this.providerFactory.index,i);s=a.slice(0,o),Iw(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Iw(r,s);return s}function Iw(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Ue(n,t=[]){return e=>{e.providersResolver=(i,r)=>function m7(n,t,e){const i=et();if(i.firstCreatePass){const r=Mr(n);bw(e,i.data,i.blueprint,r,!0),bw(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Ra{}class fP{}class mP extends Ra{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dw(this);const i=ji(t);this._bootstrapComponents=Ms(i.bootstrap),this._r3Injector=iM(t,e,[{provide:Ra,useValue:this},{provide:gd,useValue:this.componentFactoryResolver}],vt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Tw extends fP{constructor(t){super(),this.moduleType=t}create(t){return new mP(this.moduleType,t)}}class b7 extends Ra{constructor(t,e,i){super(),this.componentFactoryResolver=new dw(this),this.instance=null;const r=new zk([...t,{provide:Ra,useValue:this},{provide:gd,useValue:this.componentFactoryResolver}],e||tm(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function bm(n,t,e=null){return new b7(n,t,e).injector}let w7=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=Vk(0,e.type),r=i.length>0?bm([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ue({token:n,providedIn:"environment",factory:()=>new n(ee(wo))}),n})();function gP(n){n.getStandaloneInjector=t=>t.get(w7).getOrCreateStandaloneInjector(n)}function en(n,t,e){const i=wi()+n,r=H();return r[i]===Oe?ts(r,i,e?t.call(e):t()):Cd(r,i)}function B(n,t,e,i){return function TP(n,t,e,i,r,s){const o=t+e;return oi(n,o,r)?ts(n,o+1,s?i.call(s,r):i(r)):Md(n,o+1)}(H(),wi(),n,t,e,i)}function ye(n,t,e,i,r){return EP(H(),wi(),n,t,e,i,r)}function an(n,t,e,i,r,s){return function SP(n,t,e,i,r,s,o,a){const l=t+e;return pm(n,l,r,s,o)?ts(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):Md(n,l+3)}(H(),wi(),n,t,e,i,r,s)}function Ji(n,t,e,i,r,s,o){return function xP(n,t,e,i,r,s,o,a,l){const c=t+e;return hr(n,c,r,s,o,a)?ts(n,c+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):Md(n,c+4)}(H(),wi(),n,t,e,i,r,s,o)}function kd(n,t,e,i,r,s,o,a){const l=wi()+n,c=H(),u=hr(c,l,e,i,r,s);return oi(c,l+4,o)||u?ts(c,l+5,a?t.call(a,e,i,r,s,o):t(e,i,r,s,o)):Cd(c,l+5)}function fc(n,t,e,i,r,s,o,a,l){const c=wi()+n,u=H(),d=hr(u,c,e,i,r,s);return ka(u,c+4,o,a)||d?ts(u,c+6,l?t.call(l,e,i,r,s,o,a):t(e,i,r,s,o,a)):Cd(u,c+6)}function Sw(n,t,e,i){return function DP(n,t,e,i,r,s){let o=t+e,a=!1;for(let l=0;l<r.length;l++)oi(n,o++,r[l])&&(a=!0);return a?ts(n,o,i.apply(s,r)):Md(n,o)}(H(),wi(),n,t,e,i)}function Md(n,t){const e=n[t];return e===Oe?void 0:e}function EP(n,t,e,i,r,s,o){const a=t+e;return ka(n,a,r,s)?ts(n,a+2,o?i.call(o,r,s):i(r,s)):Md(n,a+2)}function mc(n,t){const e=et();let i;const r=n+22;e.firstCreatePass?(i=function M7(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=Ia(i.type)),o=cr(x);try{const a=Vf(!1),l=s();return Vf(a),function Rq(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,H(),r,l),l}finally{cr(o)}}function gc(n,t,e,i){const r=n+22,s=H(),o=Ll(s,r);return function Rd(n,t){return n[1].data[t].pure}(s,r)?EP(s,wi(),t,o.transform,e,i,o):o.transform(e,i)}function xw(n){return t=>{setTimeout(n,void 0,t)}}const R=class L7 extends Lt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=xw(s),r&&(r=xw(r)),o&&(o=xw(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof Hi&&t.add(a),a}};function N7(){return this._results[Aa()]()}class Dw{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Aa(),i=Dw.prototype;i[e]||(i[e]=N7)}get changes(){return this._changes||(this._changes=new R)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=Ki(t);(this._changesDetected=!function q6(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Nr=(()=>{class n{}return n.__NG_ELEMENT_ID__=U7,n})();const V7=Nr,B7=class extends V7{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tViews,r=om(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(i)),tw(i,r,t),new vd(r)}};function U7(){return wm(Sn(),H())}function wm(n,t){return 4&n.type?new B7(t,n,Yl(n,t)):null}let Vr=(()=>{class n{}return n.__NG_ELEMENT_ID__=H7,n})();function H7(){return MP(Sn(),H())}const z7=Vr,AP=class extends z7{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Yl(this._hostTNode,this._hostLView)}get injector(){return new Ul(this._hostTNode,this._hostLView)}get parentInjector(){const t=Bf(this._hostTNode,this._hostLView);if(SA(t)){const e=Bl(t,this._hostLView),i=Vl(t);return new Ul(e[1].data[i+8],e)}return new Ul(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=kP(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=t.createEmbeddedView(e||{},s);return this.insert(o,r),o}createComponent(t,e,i,r,s){const o=t&&!function nd(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const d=e||{};a=d.index,i=d.injector,r=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?t:new bd(ht(t)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(wo,null);h&&(s=h)}const u=l.create(c,r,void 0,s);return this.insert(u.hostView,a),u}insert(t,e){const i=t._lView,r=i[1];if(function p6(n){return kr(n[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=i[3],h=new AP(d,d[6],d[3]);h.detach(h.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;!function $G(n,t,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=t),i<s-10?(t[4]=e[r],NA(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function jG(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=64}(r,i,o,s);const a=yb(s,o),l=i[11],c=Wf(l,o[7]);return null!==c&&function UG(n,t,e,i,r,s){i[0]=r,i[6]=t,pd(n,i,e,1,r,s)}(r,o[6],l,i,c,a),t.attachToViewContainerRef(),NA(Aw(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=kP(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=mb(this._lContainer,e);i&&(zf(Aw(this._lContainer),e),dk(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=mb(this._lContainer,e);return i&&null!=zf(Aw(this._lContainer),e)?new vd(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function kP(n){return n[8]}function Aw(n){return n[8]||(n[8]=[])}function MP(n,t){let e;const i=t[n.index];if(kr(i))e=i;else{let r;if(8&n.type)r=yn(i);else{const s=t[11];r=s.createComment("");const o=qi(n,t);Ta(s,Wf(s,o),r,function KG(n,t){return n.nextSibling(t)}(s,o),!1)}t[n.index]=e=PM(i,t,r,n),lm(t,e)}return new AP(e,n,t)}class kw{constructor(t){this.queryList=t,this.matches=null}clone(){return new kw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mw{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new Mw(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==LP(t,e).matches&&this.queries[e].setDirty()}}class RP{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class Rw{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new Rw(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Pw{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Pw(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,G7(e,s)),this.matchTNodeWithReadOption(t,e,Hf(e,t,s,!1,!1))}else i===Nr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Hf(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ze||r===Vr||r===Nr&&4&e.type)this.addMatch(e.index,-2);else{const s=Hf(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function G7(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function W7(n,t,e,i){return-1===e?function q7(n,t){return 11&n.type?Yl(n,t):4&n.type?wm(n,t):null}(t,n):-2===e?function K7(n,t,e){return e===ze?Yl(t,n):e===Nr?wm(t,n):e===Vr?MP(t,n):void 0}(n,t,i):Xu(n,n[1],e,t)}function PP(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:W7(t,s[c],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function Ow(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=PP(n,t,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=t[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&Ow(h[1],h,c,i)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const g=d[h];Ow(g[1],g,c,i)}}}}}return i}function Q(n){const t=H(),e=et(),i=gA();Hv(i+1);const r=LP(e,i);if(n.dirty&&function h6(n){return 4==(4&n[2])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?Ow(e,t,i,[]):PP(e,t,r,i);n.reset(s,$9),n.notifyOnChanges()}return!0}return!1}function ge(n,t,e){const i=et();i.firstCreatePass&&(FP(i,new RP(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),OP(i,H(),t)}function dt(n,t,e,i){const r=et();if(r.firstCreatePass){const s=Sn();FP(r,new RP(t,e,i),s.index),function Y7(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}OP(r,H(),e)}function Y(){return function Q7(n,t){return n[19].queries[t].queryList}(H(),gA())}function OP(n,t,e){const i=new Dw(4==(4&e));TM(n,t,i,i.destroy),null===t[19]&&(t[19]=new Mw),t[19].queries.push(new kw(i))}function FP(n,t,e){null===n.queries&&(n.queries=new Rw),n.queries.track(new Pw(t,e))}function LP(n,t){return n.queries.getByIndex(t)}function ln(n,t){return wm(n,t)}function Im(...n){}const Tm=new ve("Application Initializer");let Em=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Im,this.reject=Im,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Id(s))e.push(s);else if(mw(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(ee(Tm,8))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Od=new ve("AppId",{providedIn:"root",factory:function tO(){return`${Bw()}${Bw()}${Bw()}`}});function Bw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nO=new ve("Platform Initializer"),Uw=new ve("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iO=new ve("appBootstrapListener"),rO=new ve("AnimationModuleType");let gK=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Os=new ve("LocaleId",{providedIn:"root",factory:()=>on(Os,Te.Optional|Te.SkipSelf)||function _K(){return typeof $localize<"u"&&$localize.locale||pc}()});class vK{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let Hw=(()=>{class n{compileModuleSync(e){return new Tw(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=Ms(ji(e).declarations).reduce((o,a)=>{const l=ht(a);return l&&o.push(new bd(l)),o},[]);return new vK(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CK=(()=>Promise.resolve(0))();function zw(n){typeof Zone>"u"?CK.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class st{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new R(!1),this.onMicrotaskEmpty=new R(!1),this.onStable=new R(!1),this.onError=new R(!1),typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function IK(){let n=wt.requestAnimationFrame,t=wt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function SK(n){const t=()=>{!function EK(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(wt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,jw(n),n.isCheckStableRunning=!0,$w(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),jw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{try{return aO(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),lO(n)}},onInvoke:(e,i,r,s,o,a,l)=>{try{return aO(n),e.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),lO(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,jw(n),$w(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!st.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(st.isInAngularZone())throw new V(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,TK,Im,Im);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const TK={};function $w(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function jw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function aO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function lO(n){n._nesting--,$w(n)}class xK{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new R,this.onMicrotaskEmpty=new R,this.onStable=new R,this.onError=new R}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const cO=new ve(""),Sm=new ve("");let Ww,Gw=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ww||(function DK(n){Ww=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{st.assertNotInAngularZone(),zw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zw(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(ee(st),ee(qw),ee(Sm))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),qw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Ww?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),To=null;const uO=new ve("AllowMultipleToken"),Kw=new ve("PlatformDestroyListeners");class dO{constructor(t,e){this.name=t,this.token=e}}function pO(n,t,e=[]){const i=`Platform: ${t}`,r=new ve(i);return(s=[])=>{let o=Qw();if(!o||o.injector.get(uO,!1)){const a=[...e,...s,{provide:r,useValue:!0}];n?n(a):function MK(n){if(To&&!To.get(uO,!1))throw new V(400,!1);To=n;const t=n.get(mO);(function hO(n){const t=n.get(nO,null);t&&t.forEach(e=>e())})(n)}(function fO(n=[],t){return Ti.create({name:t,providers:[{provide:Rb,useValue:"platform"},{provide:Kw,useValue:new Set([()=>To=null])},...n]})}(a,i))}return function PK(n){const t=Qw();if(!t)throw new V(401,!1);return t}()}}function Qw(){return To?.get(mO)??null}let mO=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function _O(n,t){let e;return e="noop"===n?new xK:("zone.js"===n?void 0:n)||new st(t),e}(i?.ngZone,function gO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:st,useValue:r}];return r.run(()=>{const o=Ti.create({providers:s,parent:this.injector,name:e.moduleType.name}),a=e.create(o),l=a.injector.get(Zl,null);if(!l)throw new V(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{xm(this._modules,a),c.unsubscribe()})}),function yO(n,t,e){try{const i=e();return Id(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const c=a.injector.get(Em);return c.runInitializers(),c.donePromise.then(()=>(function $R(n){$i(n,"Expected localeId to be defined"),"string"==typeof n&&(zR=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Os,pc)||pc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,i=[]){const r=vO({},i);return function AK(n,t,e){const i=new Tw(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(Fd);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new V(403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new V(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Kw,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(ee(Ti))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function vO(n,t){return Array.isArray(t)?t.reduce(vO,n):{...n,...t}}let Fd=(()=>{class n{constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Zt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Zt(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{st.assertNotInAngularZone(),zw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{st.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function Fj(...n){const t=$u(n),e=function Dj(n,t){return"number"==typeof vv(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Sr(i[0]):kl(e)(_n(i,t)):Ts}(s,o.pipe(function Lj(n={}){const{connector:t=(()=>new Lt),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},g=()=>{h(),o=l=void 0,u=d=!1},b=()=>{const T=o;g(),T?.unsubscribe()};return On((T,E)=>{c++,!d&&!u&&h();const D=l=l??t();E.add(()=>{c--,0===c&&!d&&!u&&(a=bv(b,r))}),D.subscribe(E),!o&&c>0&&(o=new Al({next:M=>D.next(M),error:M=>{d=!0,h(),a=bv(g,e,M),D.error(M)},complete:()=>{u=!0,h(),a=bv(g,i),D.complete()}}),Sr(T).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof jk;if(!this._injector.get(Em).done)throw!r&&function Rl(n){const t=ht(n)||vi(n)||bi(n);return null!==t&&t.standalone}(e),new V(405,false);let o;o=r?e:this._injector.get(gd).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function kK(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Ra),c=o.create(Ti.NULL,[],i||o.selector,a),u=c.location.nativeElement,d=c.injector.get(cO,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),xm(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new V(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;xm(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(iO,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>xm(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new V(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(ee(st),ee(wo),ee(Zl))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xm(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let wO=!0,tt=(()=>{class n{}return n.__NG_ELEMENT_ID__=LK,n})();function LK(n){return function NK(n,t,e){if(Af(n)&&!e){const i=Wi(n.index,t);return new vd(i,i)}return 47&n.type?new vd(t[16],t):null}(Sn(),H(),16==(16&n))}class SO{constructor(){}supports(t){return wd(t)}create(t){return new $K(t)}}const zK=(n,t)=>t;class $K{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||zK}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<DO(i,r,s)?e:i,a=DO(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const g=h<s.length?s[h]:s[h]=0,b=g+h;u<=b&&b<c&&(s[h]=g+1)}s[o.previousIndex]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!wd(t))throw new V(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function Dq(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Aa()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new jK(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new xO),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xO),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class jK{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class GK{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class xO{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new GK,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DO(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class AO{constructor(){}supports(t){return t instanceof Map||pw(t)}create(){return new qK}}class qK{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||pw(t)))throw new V(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new WK(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class WK{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kO(){return new Ld([new SO])}let Ld=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||kO()),deps:[[n,new ld,new ad]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new V(901,!1)}}return n.\u0275prov=ue({token:n,providedIn:"root",factory:kO}),n})();function MO(){return new Nd([new AO])}let Nd=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||MO()),deps:[[n,new ld,new ad]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new V(901,!1)}}return n.\u0275prov=ue({token:n,providedIn:"root",factory:MO}),n})();const YK=pO(null,"core",[]);let ZK=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(ee(Fd))},n.\u0275mod=he({type:n}),n.\u0275inj=de({}),n})();let km=null;function is(){return km}const cn=new ve("DocumentToken");let e0=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:function(){return function tQ(){return ee(RO)}()},providedIn:"platform"}),n})();const nQ=new ve("Location Initialized");let RO=(()=>{class n extends e0{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return is().getBaseHref(this._doc)}onPopState(e){const i=is().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=is().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){PO()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){PO()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(ee(cn))},n.\u0275prov=ue({token:n,factory:function(){return function iQ(){return new RO(ee(cn))}()},providedIn:"platform"}),n})();function PO(){return!!window.history.pushState}function t0(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function OO(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ns(n){return n&&"?"!==n[0]?"?"+n:n}let Oa=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:function(){return on(LO)},providedIn:"root"}),n})();const FO=new ve("appBaseHref");let LO=(()=>{class n extends Oa{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??on(cn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return t0(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ns(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+Ns(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+Ns(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(ee(e0),ee(FO,8))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rQ=(()=>{class n extends Oa{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=t0(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+Ns(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+Ns(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(ee(e0),ee(FO,8))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),n0=(()=>{class n{constructor(e){this._subject=new R,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=OO(NO(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ns(i))}normalize(e){return n.stripTrailingSlash(function oQ(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,NO(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ns(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ns(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ns,n.joinWithSlash=t0,n.stripTrailingSlash=OO,n.\u0275fac=function(e){return new(e||n)(ee(Oa))},n.\u0275prov=ue({token:n,factory:function(){return function sQ(){return new n0(ee(Oa))}()},providedIn:"root"}),n})();function NO(n){return n.replace(/\/index.html$/,"")}function qO(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let Ze=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(wd(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${vt(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(x(Ld),x(Nd),x(ze),x(Gn))},n.\u0275dir=_e({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class jQ{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qn=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new jQ(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),QO(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{QO(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(x(Vr),x(Nr),x(Ld))},n.\u0275dir=_e({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function QO(n,t){n.context.$implicit=t.item}let qe=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new qQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){YO("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){YO("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(x(Vr),x(Nr))},n.\u0275dir=_e({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qQ{constructor(){this.$implicit=null,this.ngIf=null}}function YO(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${vt(t)}'.`)}let at=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),o=-1===r.indexOf("-")?void 0:Fi.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(Nd),x(Gn))},n.\u0275dir=_e({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),St=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(x(Vr))},n.\u0275dir=_e({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ln]}),n})(),Ee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({}),n})();let bY=(()=>{class n{}return n.\u0275prov=ue({token:n,providedIn:"root",factory:()=>new wY(ee(cn),window)}),n})();class wY{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function CY(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=e2(this.window.history)||e2(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function e2(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class t2{}class v0 extends class QY extends class eQ{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function XK(n){km||(km=n)}(new v0)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function YY(){return Hd=Hd||document.querySelector("base"),Hd?Hd.getAttribute("href"):null}();return null==e?null:function ZY(n){zm=zm||document.createElement("a"),zm.setAttribute("href",n);const t=zm.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Hd=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return qO(document.cookie,t)}}let zm,Hd=null;const a2=new ve("TRANSITION_ID"),XY=[{provide:Tm,useFactory:function JY(n,t,e){return()=>{e.get(Em).donePromise.then(()=>{const i=is(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[a2,cn,Ti],multi:!0}];let tZ=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const $m=new ve("EventManagerPlugins");let jm=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(ee($m),ee(st))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class l2{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=is().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let c2=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),zd=(()=>{class n extends c2{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(u2),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(u2))}}return n.\u0275fac=function(e){return new(e||n)(ee(cn))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();function u2(n){is().remove(n)}const b0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},w0=/%COMP%/g;function Gm(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Gm(n,r,e):(r=r.replace(w0,n),e.push(r))}return e}function p2(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let qm=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new C0(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Dr.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new aZ(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Dr.ShadowDom:return new lZ(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Gm(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(ee(jm),ee(zd),ee(Od))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class C0{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(b0[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(m2(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(m2(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=b0[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=b0[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Fi.DashCase|Fi.Important)?t.style.setProperty(e,i,r&Fi.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Fi.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,p2(i)):this.eventManager.addEventListener(t,e,p2(i))}}function m2(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class aZ extends C0{constructor(t,e,i,r){super(t),this.component=i;const s=Gm(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function rZ(n){return"_ngcontent-%COMP%".replace(w0,n)}(r+"-"+i.id),this.hostAttr=function sZ(n){return"_nghost-%COMP%".replace(w0,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class lZ extends C0{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Gm(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let cZ=(()=>{class n extends l2{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(ee(cn))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const g2=["alt","control","meta","shift"],uZ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dZ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let hZ=(()=>{class n extends l2{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>is().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),g2.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=uZ[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),g2.forEach(o=>{o!==r&&(0,dZ[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(ee(cn))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const y2=[{provide:Uw,useValue:"browser"},{provide:nO,useValue:function pZ(){v0.makeCurrent()},multi:!0},{provide:cn,useFactory:function mZ(){return function t9(n){Ib=n}(document),document},deps:[]}],gZ=pO(YK,"browser",y2),v2=new ve(""),b2=[{provide:Sm,useClass:class eZ{addToWindow(t){wt.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},wt.getAllAngularTestabilities=()=>t.getAllTestabilities(),wt.getAllAngularRootElements=()=>t.getAllRootElements(),wt.frameworkStabilizers||(wt.frameworkStabilizers=[]),wt.frameworkStabilizers.push(i=>{const r=wt.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?is().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:cO,useClass:Gw,deps:[st,qw,Sm]},{provide:Gw,useClass:Gw,deps:[st,qw,Sm]}],w2=[{provide:Rb,useValue:"root"},{provide:Zl,useFactory:function fZ(){return new Zl},deps:[]},{provide:$m,useClass:cZ,multi:!0,deps:[cn,st,Uw]},{provide:$m,useClass:hZ,multi:!0,deps:[cn]},{provide:qm,useClass:qm,deps:[jm,zd,Od]},{provide:_d,useExisting:qm},{provide:c2,useExisting:zd},{provide:zd,useClass:zd,deps:[cn]},{provide:jm,useClass:jm,deps:[$m,st]},{provide:t2,useClass:tZ,deps:[]},[]];let C2=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Od,useValue:e.appId},{provide:a2,useExisting:Od},XY]}}}return n.\u0275fac=function(e){return new(e||n)(ee(v2,12))},n.\u0275mod=he({type:n}),n.\u0275inj=de({providers:[...w2,...b2],imports:[Ee,ZK]}),n})(),I2=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(ee(cn))},n.\u0275prov=ue({token:n,factory:function(e){let i=null;return i=e?new e:function yZ(){return new I2(ee(cn))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let S2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:function(e){let i=null;return i=e?new(e||n):ee(x2),i},providedIn:"root"}),n})(),x2=(()=>{class n extends S2{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case It.NONE:return i;case It.HTML:return Xr(i,"HTML")?Yi(i):Pk(this._doc,String(i)).toString();case It.STYLE:return Xr(i,"Style")?Yi(i):i;case It.SCRIPT:if(Xr(i,"Script"))return Yi(i);throw new Error("unsafe value used in a script context");case It.URL:return Xr(i,"URL")?Yi(i):Jf(String(i));case It.RESOURCE_URL:if(Xr(i,"ResourceURL"))return Yi(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function c9(n){return new n9(n)}(e)}bypassSecurityTrustStyle(e){return function u9(n){return new r9(n)}(e)}bypassSecurityTrustScript(e){return function d9(n){return new s9(n)}(e)}bypassSecurityTrustUrl(e){return function h9(n){return new o9(n)}(e)}bypassSecurityTrustResourceUrl(e){return function p9(n){return new a9(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(ee(cn))},n.\u0275prov=ue({token:n,factory:function(e){let i=null;return i=e?new e:function EZ(n){return new x2(n.get(cn))}(ee(Ti)),i},providedIn:"root"}),n})();function we(...n){return _n(n,$u(n))}class zr extends Lt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const $d=lv(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:SZ}=Array,{getPrototypeOf:xZ,prototype:DZ,keys:AZ}=Object;function D2(n){if(1===n.length){const t=n[0];if(SZ(t))return{args:t,keys:null};if(function kZ(n){return n&&"object"==typeof n&&xZ(n)===DZ}(t)){const e=AZ(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:MZ}=Array;function A2(n){return je(t=>function RZ(n,t){return MZ(t)?n(...t):n(t)}(n,t))}function k2(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function M2(...n){const t=$u(n),e=GD(n),{args:i,keys:r}=D2(n);if(0===i.length)return _n([],t);const s=new Zt(function PZ(n,t,e=ya){return i=>{R2(t,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)R2(t,()=>{const c=_n(n[l],t);let u=!1;c.subscribe(En(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>k2(r,o):ya));return e?s.pipe(A2(e)):s}function R2(n,t,e){n?Is(e,n,t):t()}function E0(...n){return function OZ(){return kl(1)}()(_n(n,$u(n)))}function P2(n){return new Zt(t=>{Sr(n()).subscribe(t)})}function jd(n,t){const e=$t(n)?n:()=>n,i=r=>r.error(e());return new Zt(t?r=>t.schedule(i,0,r):i)}function S0(){return On((n,t)=>{let e=null;n._refCount++;const i=En(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class O2 extends Zt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,AD(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Hi;const e=this.getSubject();t.add(this.source.subscribe(En(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Hi.EMPTY)}return t}refCount(){return S0()(this)}}function rs(n,t){return On((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(En(i,l=>{r?.unsubscribe();let c=0;const u=s++;Sr(n(l,u)).subscribe(r=En(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Gd(n){return n<=0?()=>Ts:On((t,e)=>{let i=0;t.subscribe(En(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Bs(n,t){return On((e,i)=>{let r=0;e.subscribe(En(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Wm(n){return On((t,e)=>{let i=!1;t.subscribe(En(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function F2(n=LZ){return On((t,e)=>{let i=!1;t.subscribe(En(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function LZ(){return new $d}function So(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Bs((r,s)=>n(r,s,i)):ya,Gd(1),e?Wm(t):F2(()=>new $d))}function xo(n,t){return $t(t)?jn(n,t,1):jn(n,1)}function li(n,t,e){const i=$t(n)||t||e?{next:n,error:t,complete:e}:n;return i?On((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(En(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):ya}function Do(n){return On((t,e)=>{let s,i=null,r=!1;i=t.subscribe(En(e,void 0,void 0,o=>{s=Sr(n(o,Do(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function NZ(n,t,e,i,r){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(En(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function L2(n,t){return On(NZ(n,t,arguments.length>=2,!0))}function x0(n){return n<=0?()=>Ts:On((t,e)=>{let i=[];t.subscribe(En(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function N2(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Bs((r,s)=>n(r,s,i)):ya,x0(1),e?Wm(t):F2(()=>new $d))}function D0(n){return On((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const $e="primary",qd=Symbol("RouteTitle");class UZ{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function vc(n){return new UZ(n)}function HZ(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ss(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!V2(n[r],t[r]))return!1;return!0}function V2(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function B2(n){return Array.prototype.concat.apply([],n)}function U2(n){return n.length>0?n[n.length-1]:null}function Wn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ao(n){return mw(n)?n:Id(n)?_n(Promise.resolve(n)):we(n)}const jZ={exact:function $2(n,t,e){if(!La(n.segments,t.segments)||!Km(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!$2(n.children[i],t.children[i],e))return!1;return!0},subset:j2},H2={exact:function GZ(n,t){return ss(n,t)},subset:function qZ(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>V2(n[e],t[e]))},ignored:()=>!0};function z2(n,t,e){return jZ[e.paths](n.root,t.root,e.matrixParams)&&H2[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function j2(n,t,e){return G2(n,t,t.segments,e)}function G2(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!La(r,e)||t.hasChildren()||!Km(r,e,i))}if(n.segments.length===e.length){if(!La(n.segments,e)||!Km(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!j2(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(La(n.segments,r)&&Km(n.segments,r,i)&&n.children[$e])&&G2(n.children[$e],t,s,i)}}function Km(n,t,e){return t.every((i,r)=>H2[e](n[r].parameters,i.parameters))}class Fa{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vc(this.queryParams)),this._queryParamMap}toString(){return QZ.serialize(this)}}class We{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Wn(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qm(this)}}class Wd{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=vc(this.parameters)),this._parameterMap}toString(){return Q2(this)}}function La(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let q2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:function(){return new k0},providedIn:"root"}),n})();class k0{parse(t){const e=new rJ(t);return new Fa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Kd(t.root,!0)}`,i=function JZ(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Ym(e)}=${Ym(r)}`).join("&"):`${Ym(e)}=${Ym(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function YZ(n){return encodeURI(n)}(t.fragment)}`:""}`}}const QZ=new k0;function Qm(n){return n.segments.map(t=>Q2(t)).join("/")}function Kd(n,t){if(!n.hasChildren())return Qm(n);if(t){const e=n.children[$e]?Kd(n.children[$e],!1):"",i=[];return Wn(n.children,(r,s)=>{s!==$e&&i.push(`${s}:${Kd(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function KZ(n,t){let e=[];return Wn(n.children,(i,r)=>{r===$e&&(e=e.concat(t(i,r)))}),Wn(n.children,(i,r)=>{r!==$e&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===$e?[Kd(n.children[$e],!1)]:[`${r}:${Kd(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$e]?`${Qm(n)}/${e[0]}`:`${Qm(n)}/(${e.join("//")})`}}function W2(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ym(n){return W2(n).replace(/%3B/gi,";")}function M0(n){return W2(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zm(n){return decodeURIComponent(n)}function K2(n){return Zm(n.replace(/\+/g,"%20"))}function Q2(n){return`${M0(n.path)}${function ZZ(n){return Object.keys(n).map(t=>`;${M0(t)}=${M0(n[t])}`).join("")}(n.parameters)}`}const XZ=/^[^\/()?;=#]+/;function Jm(n){const t=n.match(XZ);return t?t[0]:""}const eJ=/^[^=?&#]+/,nJ=/^[^&#]+/;class rJ{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[$e]=new We(t,e)),i}parseSegment(){const t=Jm(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(t),new Wd(Zm(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Jm(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Jm(this.remaining);r&&(i=r,this.capture(i))}t[Zm(e)]=Zm(i)}parseQueryParam(t){const e=function tJ(n){const t=n.match(eJ);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function iJ(n){const t=n.match(nJ);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=K2(e),s=K2(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Jm(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new V(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=$e);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[$e]:new We([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new V(4011,!1)}}function R0(n){return n.segments.length>0?new We([],{[$e]:n}):n}function Xm(n){const t={};for(const i of Object.keys(n.children)){const s=Xm(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function sJ(n){if(1===n.numberOfChildren&&n.children[$e]){const t=n.children[$e];return new We(n.segments.concat(t.segments),t.children)}return n}(new We(n.segments,t))}function Na(n){return n instanceof Fa}function lJ(n,t,e,i,r){if(0===e.length)return bc(t.root,t.root,t.root,i,r);const s=function J2(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Z2(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Wn(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new Z2(e,t,i)}(e);return s.toRoot()?bc(t.root,t.root,new We([],{}),i,r):function o(l){const c=function uJ(n,t,e,i){if(n.isAbsolute)return new wc(t.root,!0,0);if(-1===i)return new wc(e,e===t.root,0);return function X2(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new V(4005,!1);r=i.segments.length}return new wc(i,!1,r-s)}(e,i+(Qd(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,l),u=c.processChildren?Zd(c.segmentGroup,c.index,s.commands):O0(c.segmentGroup,c.index,s.commands);return bc(t.root,c.segmentGroup,u,i,r)}(n.snapshot?._lastPathIndex)}function Qd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Yd(n){return"object"==typeof n&&null!=n&&n.outlets}function bc(n,t,e,i,r){let o,s={};i&&Wn(i,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===t?e:Y2(n,t,e);const a=R0(Xm(o));return new Fa(a,s,r)}function Y2(n,t,e){const i={};return Wn(n.children,(r,s)=>{i[s]=r===t?e:Y2(r,t,e)}),new We(n.segments,i)}class Z2{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Qd(i[0]))throw new V(4003,!1);const r=i.find(Yd);if(r&&r!==U2(i))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wc{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function O0(n,t,e){if(n||(n=new We([],{})),0===n.segments.length&&n.hasChildren())return Zd(n,t,e);const i=function hJ(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(Yd(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!tF(l,c,o))return s;i+=2}else{if(!tF(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new We(n.segments.slice(0,i.pathIndex),{});return s.children[$e]=new We(n.segments.slice(i.pathIndex),n.children),Zd(s,0,r)}return i.match&&0===r.length?new We(n.segments,{}):i.match&&!n.hasChildren()?F0(n,t,e):i.match?Zd(n,0,r):F0(n,t,e)}function Zd(n,t,e){if(0===e.length)return new We(n.segments,{});{const i=function dJ(n){return Yd(n[0])?n[0].outlets:{[$e]:n}}(e),r={};return Wn(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=O0(n.children[o],t,s))}),Wn(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new We(n.segments,r)}}function F0(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Yd(s)){const l=pJ(s.outlets);return new We(i,l)}if(0===r&&Qd(e[0])){i.push(new Wd(n.segments[t].path,eF(e[0]))),r++;continue}const o=Yd(s)?s.outlets[$e]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&Qd(a)?(i.push(new Wd(o,eF(a))),r+=2):(i.push(new Wd(o,{})),r++)}return new We(i,{})}function pJ(n){const t={};return Wn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=F0(new We([],{}),0,e))}),t}function eF(n){const t={};return Wn(n,(e,i)=>t[i]=`${e}`),t}function tF(n,t,e){return n==e.path&&ss(t,e.parameters)}class Us{constructor(t,e){this.id=t,this.url=e}}class L0 extends Us{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Va extends Us{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eg extends Us{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nF extends Us{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fJ extends Us{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mJ extends Us{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gJ extends Us{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _J extends Us{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yJ extends Us{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vJ{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bJ{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wJ{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CJ{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IJ{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TJ{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iF{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class rF{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=N0(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=N0(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=V0(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return V0(t,this._root).map(e=>e.value)}}function N0(n,t){if(n===t.value)return t;for(const e of t.children){const i=N0(n,e);if(i)return i}return null}function V0(n,t){if(n===t.value)return[t];for(const e of t.children){const i=V0(n,e);if(i.length)return i.unshift(t),i}return[]}class Hs{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Cc(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class sF extends rF{constructor(t,e){super(t),this.snapshot=e,B0(this,t)}toString(){return this.snapshot.toString()}}function oF(n,t){const e=function SJ(n,t){const o=new tg([],{},{},"",{},$e,t,null,n.root,-1,{});return new lF("",new Hs(o,[]))}(n,t),i=new zr([new Wd("",{})]),r=new zr({}),s=new zr({}),o=new zr({}),a=new zr(""),l=new zs(i,r,o,a,s,$e,t,e.root);return l.snapshot=e.root,new sF(new Hs(l,[]),e)}class zs{constructor(t,e,i,r,s,o,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(je(c=>c[qd]))??we(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(je(t=>vc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(je(t=>vc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function aF(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function xJ(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class tg{constructor(t,e,i,r,s,o,a,l,c,u,d,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[qd],this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lF extends rF{constructor(t,e){super(e),this.url=t,B0(this,e)}toString(){return cF(this._root)}}function B0(n,t){t.value._routerState=n,t.children.forEach(e=>B0(n,e))}function cF(n){const t=n.children.length>0?` { ${n.children.map(cF).join(", ")} } `:"";return`${n.value}${t}`}function U0(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ss(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ss(t.params,e.params)||n.params.next(e.params),function zZ(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ss(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ss(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function H0(n,t){const e=ss(n.params,t.params)&&function WZ(n,t){return La(n,t)&&n.every((e,i)=>ss(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||H0(n.parent,t.parent))}function Jd(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function AJ(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Jd(n,i,r);return Jd(n,i)})}(n,t,e);return new Hs(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Jd(n,a)),o}}const i=function kJ(n){return new zs(new zr(n.url),new zr(n.params),new zr(n.queryParams),new zr(n.fragment),new zr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Jd(n,s));return new Hs(i,r)}}const z0="ngNavigationCancelingError";function uF(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Na(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=dF(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function dF(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[z0]=!0,i.cancellationCode=t,e&&(i.url=e),i}function hF(n){return pF(n)&&Na(n.url)}function pF(n){return n&&n[z0]}class MJ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Xd,this.attachRef=null}}let Xd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new MJ,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ng=!1;let $0=(()=>{class n{constructor(e,i,r,s,o){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new R,this.deactivateEvents=new R,this.attachEvents=new R,this.detachEvents=new R,this.name=r||$e,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,ng);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,ng);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,ng);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new V(4013,ng);this._activatedRoute=e;const r=this.location,o=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new RJ(e,a,r.injector);if(i&&function PJ(n){return!!n.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(o);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(x(Xd),x(Vr),function ed(n){return function U6(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(IA(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(Sn(),n)}("name"),x(tt),x(wo))},n.\u0275dir=_e({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class RJ{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===zs?this.route:t===Xd?this.childContexts:this.parent.get(t,e)}}let j0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ae({type:n,selectors:[["ng-component"]],standalone:!0,features:[gP],decls:1,vars:0,template:function(e,i){1&e&&j(0,"router-outlet")},dependencies:[$0],encapsulation:2}),n})();function fF(n,t){return n.providers&&!n._injector&&(n._injector=bm(n.providers,t,`Route: ${n.path}`)),n._injector??t}function q0(n){const t=n.children&&n.children.map(q0),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==$e&&(e.component=j0),e}function gr(n){return n.outlet||$e}function mF(n,t){const e=n.filter(i=>gr(i)===t);return e.push(...n.filter(i=>gr(i)!==t)),e}function eh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class VJ{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),U0(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Cc(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Wn(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Cc(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Cc(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Cc(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new TJ(s.value.snapshot))}),t.children.length&&this.forwardEvent(new CJ(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(U0(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),U0(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=eh(r.snapshot),l=a?.get(gd)??null;o.attachRef=null,o.route=r,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class gF{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ig{constructor(t,e){this.component=t,this.route=e}}function BJ(n,t,e){const i=n._root;return th(i,t?t._root:null,e,[i.value])}function Ic(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function $j(n){return null!==If(n)}(n)?t.get(n):n:i}function th(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Cc(t);return n.children.forEach(o=>{(function HJ(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function zJ(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!La(n.url,t.url);case"pathParamsOrQueryParamsChange":return!La(n.url,t.url)||!ss(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!H0(n,t)||!ss(n.queryParams,t.queryParams);default:return!H0(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new gF(i)):(s.data=o.data,s._resolvedData=o._resolvedData),th(n,t,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ig(a.outlet.component,o))}else o&&nh(t,a,r),r.canActivateChecks.push(new gF(i)),th(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Wn(s,(o,a)=>nh(o,e.getContext(a),r)),r}function nh(n,t,e){const i=Cc(n),r=n.value;Wn(i,(s,o)=>{nh(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new ig(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function ih(n){return"function"==typeof n}function W0(n){return n instanceof $d||"EmptyError"===n?.name}const rg=Symbol("INITIAL_VALUE");function Tc(){return rs(n=>M2(n.map(t=>t.pipe(Gd(1),function FZ(...n){const t=$u(n);return On((e,i)=>{(t?E0(n,e,t):E0(n,e)).subscribe(i)})}(rg)))).pipe(je(t=>{for(const e of t)if(!0!==e){if(e===rg)return rg;if(!1===e||e instanceof Fa)return e}return!0}),Bs(t=>t!==rg),Gd(1)))}function _F(n){return function Z$(...n){return SD(n)}(li(t=>{if(Na(t))throw uF(0,t)}),je(t=>!0===t))}const K0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yF(n,t,e,i,r){const s=Q0(n,t,e);return s.matched?function sX(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?we(r.map(o=>{const a=Ic(o,n);return Ao(function KJ(n){return n&&ih(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Tc(),_F()):we(!0)}(i=fF(t,i),t,e).pipe(je(o=>!0===o?s:{...K0})):we(s)}function Q0(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...K0}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||HZ)(e,n,t);if(!r)return{...K0};const s={};Wn(r.posParams,(a,l)=>{s[l]=a.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function sg(n,t,e,i,r="corrected"){if(e.length>0&&function lX(n,t,e){return e.some(i=>og(n,t,i)&&gr(i)!==$e)}(n,e,i)){const o=new We(t,function aX(n,t,e,i){const r={};r[$e]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&gr(s)!==$e){const o=new We([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,r[gr(s)]=o}return r}(n,t,i,new We(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function cX(n,t,e){return e.some(i=>og(n,t,i))}(n,e,i)){const o=new We(n.segments,function oX(n,t,e,i,r,s){const o={};for(const a of i)if(og(n,e,a)&&!r[gr(a)]){const l=new We([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:t.length,o[gr(a)]=l}return{...r,...o}}(n,t,e,i,n.children,r));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const s=new We(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function og(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function vF(n,t,e,i){return!!(gr(n)===i||i!==$e&&og(t,e,n))&&("**"===n.path||Q0(t,n,e).matched)}function bF(n,t,e){return 0===t.length&&!n.children[e]}const ag=!1;class lg{constructor(t){this.segmentGroup=t||null}}class wF{constructor(t){this.urlTree=t}}function rh(n){return jd(new lg(n))}function CF(n){return jd(new wF(n))}class pX{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=sg(this.urlTree.root,[],[],this.config).segmentGroup,e=new We(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,$e).pipe(je(s=>this.createUrlTree(Xm(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Do(s=>{if(s instanceof wF)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof lg?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,$e).pipe(je(r=>this.createUrlTree(Xm(r),t.queryParams,t.fragment))).pipe(Do(r=>{throw r instanceof lg?this.noMatchError(r):r}))}noMatchError(t){return new V(4002,ag)}createUrlTree(t,e,i){const r=R0(t);return new Fa(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(je(s=>new We([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return _n(r).pipe(xo(s=>{const o=i.children[s],a=mF(e,s);return this.expandSegmentGroup(t,a,o,s).pipe(je(l=>({segment:l,outlet:s})))}),L2((s,o)=>(s[o.outlet]=o.segment,s),{}),N2())}expandSegment(t,e,i,r,s,o){return _n(i).pipe(xo(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,s,o).pipe(Do(c=>{if(c instanceof lg)return we(null);throw c}))),So(a=>!!a),Do((a,l)=>{if(W0(a))return bF(e,r,s)?we(new We([],{})):rh(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,s,o,a){return vF(r,e,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o):rh(e):rh(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?CF(s):this.lineralizeSegments(i,s).pipe(jn(o=>{const a=new We(o,{});return this.expandSegment(t,a,e,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Q0(e,r,s);if(!a)return rh(e);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?CF(d):this.lineralizeSegments(r,d).pipe(jn(h=>this.expandSegment(t,e,i,h.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=fF(i,t),i.loadChildren?(i._loadedRoutes?we({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(je(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new We(r,{})))):we(new We(r,{}))):yF(e,i,r,t).pipe(rs(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(t=i._injector??t,i,r).pipe(jn(u=>{const d=u.injector??t,h=u.routes,{segmentGroup:g,slicedSegments:b}=sg(e,a,l,h),T=new We(g.segments,g.children);if(0===b.length&&T.hasChildren())return this.expandChildren(d,h,T).pipe(je(A=>new We(a,A)));if(0===h.length&&0===b.length)return we(new We(a,{}));const E=gr(i)===s;return this.expandSegment(d,T,h,b,E?$e:s,!0).pipe(je(M=>new We(a.concat(M.segments),M.children)))})):rh(e)))}getChildConfig(t,e,i){return e.children?we({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?we({routes:e._loadedRoutes,injector:e._loadedInjector}):function rX(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?we(!0):we(r.map(o=>{const a=Ic(o,n);return Ao(function jJ(n){return n&&ih(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Tc(),_F())}(t,e,i).pipe(jn(r=>r?this.configLoader.loadChildren(t,e).pipe(li(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function dX(n){return jd(dF(ag,3))}())):we({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return we(i);if(r.numberOfChildren>1||!r.children[$e])return jd(new V(4e3,ag));r=r.children[$e]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Fa(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Wn(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=e[a]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Wn(e.children,(a,l)=>{o[l]=this.createSegmentGroup(t,a,i,r)}),new We(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new V(4001,ag);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class mX{}class yX{constructor(t,e,i,r,s,o,a,l){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const t=sg(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,$e).pipe(je(e=>{if(null===e)return null;const i=new tg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$e,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Hs(i,e),s=new lF(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=aF(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return _n(Object.keys(i.children)).pipe(xo(r=>{const s=i.children[r],o=mF(e,r);return this.processSegmentGroup(t,o,s,r)}),L2((r,s)=>r&&s?(r.push(...s),r):null),function VZ(n,t=!1){return On((e,i)=>{let r=0;e.subscribe(En(i,s=>{const o=n(s,r++);(o||t)&&i.next(s),!o&&i.complete()}))})}(r=>null!==r),Wm(null),N2(),je(r=>{if(null===r)return null;const s=IF(r);return function vX(n){n.sort((t,e)=>t.value.outlet===$e?-1:e.value.outlet===$e?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return _n(e).pipe(xo(o=>this.processSegmentAgainstRoute(o._injector??t,o,i,r,s)),So(o=>!!o),Do(o=>{if(W0(o))return bF(i,r,s)?we([]):we(null);throw o}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!vF(e,i,r,s))return we(null);let o;if("**"===e.path){const a=r.length>0?U2(r).parameters:{},l=EF(i)+r.length;o=we({snapshot:new tg(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xF(e),gr(e),e.component??e._loadedComponent??null,e,TF(i),l,DF(e),l),consumedSegments:[],remainingSegments:[]})}else o=yF(i,e,r,t).pipe(je(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=EF(i)+l.length;return{snapshot:new tg(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xF(e),gr(e),e.component??e._loadedComponent??null,e,TF(i),d,DF(e),d),consumedSegments:l,remainingSegments:c}}));return o.pipe(rs(a=>{if(null===a)return we(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;t=e._injector??t;const d=e._loadedInjector??t,h=function bX(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:g,slicedSegments:b}=sg(i,c,u,h.filter(E=>void 0===E.redirectTo),this.relativeLinkResolution);if(0===b.length&&g.hasChildren())return this.processChildren(d,h,g).pipe(je(E=>null===E?null:[new Hs(l,E)]));if(0===h.length&&0===b.length)return we([new Hs(l,[])]);const T=gr(e)===s;return this.processSegment(d,h,g,b,T?$e:s).pipe(je(E=>null===E?null:[new Hs(l,E)]))}))}}function wX(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function IF(n){const t=[],e=new Set;for(const i of n){if(!wX(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=IF(i.children);t.push(new Hs(i.value,r))}return t.filter(i=>!e.has(i))}function TF(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function EF(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function xF(n){return n.data||{}}function DF(n){return n.resolve||{}}function AF(n){return"string"==typeof n.title||null===n.title}function Y0(n){return rs(t=>{const e=n(t);return e?_n(e).pipe(je(()=>t)):we(t)})}let kF=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===$e);return i}getResolvedTitleForRoute(e){return e.data[qd]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:function(){return on(MF)},providedIn:"root"}),n})(),MF=(()=>{class n extends kF{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(ee(I2))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class AX{}class MX extends class kX{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ug=new ve("",{providedIn:"root",factory:()=>({})}),Z0=new ve("ROUTES");let J0=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return we(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Ao(e.loadComponent()).pipe(li(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),D0(()=>{this.componentLoaders.delete(e)})),r=new O2(i,()=>new Lt).pipe(S0());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return we({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(je(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(e).injector,c=B2(l.get(Z0,[],Te.Self|Te.Optional)));return{routes:c.map(q0),injector:l}}),D0(()=>{this.childrenLoaders.delete(i)})),o=new O2(s,()=>new Lt).pipe(S0());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(e){return Ao(e()).pipe(jn(i=>i instanceof fP||Array.isArray(i)?we(i):_n(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(ee(Ti),ee(Hw))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class PX{}class OX{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function FX(n){throw n}function LX(n,t,e){return t.parse("/")}const NX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function PF(){const n=on(q2),t=on(Xd),e=on(n0),i=on(Ti),r=on(Hw),s=on(Z0,{optional:!0})??[],o=on(ug,{optional:!0})??{},a=on(MF),l=on(kF,{optional:!0}),c=on(PX,{optional:!0}),u=on(AX,{optional:!0}),d=new wn(null,n,t,e,i,r,B2(s));return c&&(d.urlHandlingStrategy=c),u&&(d.routeReuseStrategy=u),d.titleStrategy=l??a,function BX(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(o,d),d}let wn=(()=>{class n{constructor(e,i,r,s,o,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Lt,this.errorHandler=FX,this.malformedUriErrorHandler=LX,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>we(void 0),this.urlHandlingStrategy=new OX,this.routeReuseStrategy=new MX,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(J0),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new bJ(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new vJ(h)),this.ngModule=o.get(Ra),this.console=o.get(gK);const d=o.get(st);this.isNgZoneEnabled=d instanceof st&&st.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function $Z(){return new Fa(new We([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=oF(this.currentUrlTree,this.rootComponentType),this.transitions=new zr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Bs(r=>0!==r.id),je(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),rs(r=>{let s=!1,o=!1;return we(r).pipe(li(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),rs(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return OF(a.source)&&(this.browserUrlTree=a.extractedUrl),we(a).pipe(rs(d=>{const h=this.transitions.getValue();return i.next(new L0(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Ts:Promise.resolve(d)}),function fX(n,t,e,i){return rs(r=>function hX(n,t,e,i,r){return new pX(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(je(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),li(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},r.urlAfterRedirects=d.urlAfterRedirects}),function IX(n,t,e,i,r,s){return jn(o=>function _X(n,t,e,i,r,s,o="emptyOnly",a="legacy"){return new yX(n,t,e,i,r,o,a,s).recognize().pipe(rs(l=>null===l?function gX(n){return new Zt(t=>t.error(n))}(new mX):we(l)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r,s).pipe(je(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),li(d=>{if(r.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const g=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(g,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new fJ(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:g,source:b,restoredState:T,extras:E}=a,D=new L0(h,this.serializeUrl(g),b,T);i.next(D);const M=oF(g,this.rootComponentType).snapshot;return we(r={...a,targetSnapshot:M,urlAfterRedirects:g,extras:{...E,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ts}),li(a=>{const l=new mJ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),je(a=>r={...a,guards:BJ(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function YJ(n,t){return jn(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?we({...e,guardsResult:!0}):function ZJ(n,t,e,i){return _n(n).pipe(jn(r=>function iX(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?we(s.map(a=>{const l=eh(t)??r,c=Ic(a,l);return Ao(function WJ(n){return n&&ih(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(So())})).pipe(Tc()):we(!0)}(r.component,r.route,e,t,i)),So(r=>!0!==r,!0))}(o,i,r,n).pipe(jn(a=>a&&function $J(n){return"boolean"==typeof n}(a)?function JJ(n,t,e,i){return _n(t).pipe(xo(r=>E0(function eX(n,t){return null!==n&&t&&t(new wJ(n)),we(!0)}(r.route.parent,i),function XJ(n,t){return null!==n&&t&&t(new IJ(n)),we(!0)}(r.route,i),function nX(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function UJ(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>P2(()=>we(o.guards.map(l=>{const c=eh(o.node)??e,u=Ic(l,c);return Ao(function qJ(n){return n&&ih(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(So())})).pipe(Tc())));return we(s).pipe(Tc())}(n,r.path,e),function tX(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return we(!0);const r=i.map(s=>P2(()=>{const o=eh(t)??e,a=Ic(s,o);return Ao(function GJ(n){return n&&ih(n.canActivate)}(a)?a.canActivate(t,n):o.runInContext(()=>a(t,n))).pipe(So())}));return we(r).pipe(Tc())}(n,r.route,e))),So(r=>!0!==r,!0))}(i,s,n,t):we(a)),je(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),li(a=>{if(r.guardsResult=a.guardsResult,Na(a.guardsResult))throw uF(0,a.guardsResult);const l=new gJ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Bs(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Y0(a=>{if(a.guards.canActivateChecks.length)return we(a).pipe(li(l=>{const c=new _J(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),rs(l=>{let c=!1;return we(l).pipe(function TX(n,t){return jn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return we(e);let s=0;return _n(r).pipe(xo(o=>function EX(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!AF(r)&&(s[qd]=r.title),function SX(n,t,e,i){const r=function xX(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return we({});const s={};return _n(r).pipe(jn(o=>function DX(n,t,e,i){const r=eh(t)??i,s=Ic(n,r);return Ao(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(So(),li(a=>{s[o]=a}))),x0(1),function BZ(n){return je(()=>n)}(s),Do(o=>W0(o)?Ts:jd(o)))}(s,n,t,i).pipe(je(o=>(n._resolvedData=o,n.data=aF(n,e).resolve,r&&AF(r)&&(n.data[qd]=r.title),null)))}(o.route,i,n,t)),li(()=>s++),x0(1),jn(o=>s===r.length?we(e):Ts))})}(this.paramsInheritanceStrategy,this.ngModule.injector),li({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),li(l=>{const c=new yJ(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),Y0(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(li(d=>{c.component=d}),je(()=>{})));for(const d of c.children)u.push(...l(d));return u};return M2(l(a.targetSnapshot.root)).pipe(Wm(),Gd(1))}),Y0(()=>this.afterPreactivation()),je(a=>{const l=function DJ(n,t,e){const i=Jd(n,t._root,e?e._root:void 0);return new sF(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return r={...a,targetRouterState:l}}),li(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>je(i=>(new VJ(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),li({next(){s=!0},complete(){s=!0}}),D0(()=>{s||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Do(a=>{if(o=!0,pF(a)){hF(a)||(this.navigated=!0,this.restoreHistory(r,!0));const l=new eg(r.id,this.serializeUrl(r.extractedUrl),a.message,a.cancellationCode);if(i.next(l),hF(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||OF(r.source)};this.scheduleNavigation(c,"imperative",null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new nF(r.id,this.serializeUrl(r.extractedUrl),a,r.targetSnapshot??void 0);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return Ts}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(r.state=a)}const o=this.parseUrl(e.url);this.scheduleNavigation(o,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(q0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),lJ(c,this.currentUrlTree,e,d,u??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Na(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function UX(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new V(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...NX}:!1===i?{...VX}:i,Na(e))return z2(this.currentUrlTree,e,r);const s=this.parseUrl(e);return z2(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Va(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((h,g)=>{a=h,l=g});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),d=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new eg(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){$b()},n.\u0275prov=ue({token:n,factory:function(){return PF()},providedIn:"root"}),n})();function OF(n){return"imperative"!==n}class FF{}let $X=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Bs(e=>e instanceof Va),xo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=bm(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return _n(r).pipe(kl())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):we(null);const s=r.pipe(jn(o=>null===o?we(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?_n([s,this.loader.loadComponent(i)]).pipe(kl()):s})}}return n.\u0275fac=function(e){return new(e||n)(ee(wn),ee(Hw),ee(wo),ee(FF),ee(J0))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tC=new ve("");let LF=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof L0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Va&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof iF&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new iF(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){$b()},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();function Ec(n,t){return{\u0275kind:n,\u0275providers:t}}function nC(n){return[{provide:Z0,multi:!0,useValue:n}]}function VF(){const n=on(Ti);return t=>{const e=n.get(Fd);if(t!==e.components[0])return;const i=n.get(wn),r=n.get(BF);1===n.get(iC)&&i.initialNavigation(),n.get(UF,null,Te.Optional)?.setUpPreloading(),n.get(tC,null,Te.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const BF=new ve("",{factory:()=>new Lt}),iC=new ve("",{providedIn:"root",factory:()=>1});const UF=new ve("");function WX(n){return Ec(0,[{provide:UF,useExisting:$X},{provide:FF,useExisting:n}])}const HF=new ve("ROUTER_FORROOT_GUARD"),KX=[n0,{provide:q2,useClass:k0},{provide:wn,useFactory:PF},Xd,{provide:zs,useFactory:function NF(n){return n.routerState.root},deps:[wn]},J0];function QX(){return new dO("Router",wn)}let Xi=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[KX,[],nC(e),{provide:HF,useFactory:XX,deps:[[wn,new ad,new ld]]},{provide:ug,useValue:i||{}},i?.useHash?{provide:Oa,useClass:rQ}:{provide:Oa,useClass:LO},{provide:tC,useFactory:()=>{const n=on(wn),t=on(bY),e=on(ug);return e.scrollOffset&&t.setOffset(e.scrollOffset),new LF(n,t,e)}},i?.preloadingStrategy?WX(i.preloadingStrategy).\u0275providers:[],{provide:dO,multi:!0,useFactory:QX},i?.initialNavigation?eee(i):[],[{provide:zF,useFactory:VF},{provide:iO,multi:!0,useExisting:zF}]]}}static forChild(e){return{ngModule:n,providers:[nC(e)]}}}return n.\u0275fac=function(e){return new(e||n)(ee(HF,8))},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[j0]}),n})();function XX(n){return"guarded"}function eee(n){return["disabled"===n.initialNavigation?Ec(3,[{provide:Tm,multi:!0,useFactory:()=>{const t=on(wn);return()=>{t.setUpLocationChangeListener()}}},{provide:iC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ec(2,[{provide:iC,useValue:0},{provide:Tm,multi:!0,deps:[Ti],useFactory:t=>{const e=t.get(nQ,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(s=>{const o=t.get(wn),a=t.get(BF);(function r(s){t.get(wn).events.pipe(Bs(a=>a instanceof Va||a instanceof eg||a instanceof nF),je(a=>a instanceof Va||a instanceof eg&&(0===a.code||1===a.code)&&null),Bs(a=>null!==a),Gd(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),o.afterPreactivation=()=>(s(!0),i||a.closed?we(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const zF=new ve(""),nee=[];let iee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Xi.forChild(nee),Xi]}),n})();function $F(n,t,e,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function w(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var s=n.apply(t,e);function o(l){$F(s,i,r,o,a,"next",l)}function a(l){$F(s,i,r,o,a,"throw",l)}o(void 0)})}}var Kn=(()=>{return(n=Kn||(Kn={})).LOGIN="login",n.MENU="menu",n.ADMIN="admin",n.INCLUIR="incluir",n.ALTERAR="alterar",n.DETALHAR="detalhar",Kn;var n})();function sh(n,t){const e="object"==typeof t;return new Promise((i,r)=>{const s=new Al({next:o=>{i(o),s.unsubscribe()},error:r,complete:()=>{e?i(t.defaultValue):r(new $d)}});n.subscribe(s)})}class G{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var s,o,a,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((o=t.length)!=e.length)return!1;for(s=o;0!=s--;)if(!this.equalsByValue(t[s],e[s]))return!1;return!0}if(i!=r)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var h=Object.keys(t);if((o=h.length)!==Object.keys(e).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(e,h[s]))return!1;for(s=o;0!=s--;)if(!this.equalsByValue(t[a=h[s]],e[a]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let s=0,o=i.length;s<o;++s){if(null==r)return null;r=r[i[s]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>e){i.splice(o,0,t),s=!0;break}s||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!(t instanceof Date)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,i,r=1){let s=-1;const o=this.isEmpty(t),a=this.isEmpty(e);return s=o&&a?0:o?r:a?-r:"string"==typeof t&&"string"==typeof e?t.localeCompare(e,i,{numeric:!0}):t<e?-1:t>e?1:0,s}static sort(t,e,i=1,r,s=1){return(1===s?i:s)*G.compare(t,e,r,i)}static merge(t,e){return null!=t&&"object"!=typeof t||null!=e&&"object"!=typeof e?null!=t&&"string"!=typeof t||null!=e&&"string"!=typeof e?e||t:[t||"",e||""].join(" "):{...t||{},...e||{}}}}var jF=0;function Ba(){return"pr_id_"+ ++jF}var hn=function ree(){let n=[];const r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,o,a)=>{o&&(o.style.zIndex=String(((s,o)=>{let a=n.length>0?n[n.length-1]:{key:s,value:o},l=a.value+(a.key===s?0:o)+1;return n.push({key:s,value:l}),l})(s,a)))},clear:s=>{s&&((s=>{n=n.filter(o=>o.value!==s)})(r(s)),s.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const GF=["*"];let qF=(()=>{class n{constructor(){this.requireConfirmationSource=new Lt,this.acceptConfirmationSource=new Lt,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),see=(()=>{class n{constructor(){this.activeItemKeyChange=new Lt,this.activeItemKeyChange$=this.activeItemKeyChange.asObservable()}changeKey(e){this.activeItemKey=e,this.activeItemKeyChange.next(this.activeItemKey)}reset(){this.activeItemKey=null,this.activeItemKeyChange.next(this.activeItemKey)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),Qn=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),WF=(()=>{class n{}return n.AND="and",n.OR="or",n})(),rC=(()=>{class n{constructor(){this.filters={startsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let s=G.removeAccents(i.toString()).toLocaleLowerCase(r);return G.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,s.length)===s},contains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let s=G.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==G.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(s)},notContains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let s=G.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===G.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(s)},endsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let s=G.removeAccents(i.toString()).toLocaleLowerCase(r),o=G.removeAccents(e.toString()).toLocaleLowerCase(r);return-1!==o.indexOf(s,o.length-s.length)},equals:(e,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():G.removeAccents(e.toString()).toLocaleLowerCase(r)==G.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(e,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():G.removeAccents(e.toString()).toLocaleLowerCase(r)==G.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(G.equals(e,i[r]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()}}filter(e,i,r,s,o){let a=[];if(e)for(let l of e)for(let c of i){let u=G.resolveFieldData(l,c);if(this.filters[s](u,r,o)){a.push(l);break}}return a}register(e,i){this.filters[e]=i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ko=(()=>{class n{constructor(){this.messageSource=new Lt,this.clearSource=new Lt,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),Ua=(()=>{class n{constructor(){this.clickSource=new Lt,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_r=(()=>{class n{constructor(){this.ripple=!1,this.overlayOptions={},this.filterMatchModeOptions={text:[Qn.STARTS_WITH,Qn.CONTAINS,Qn.NOT_CONTAINS,Qn.ENDS_WITH,Qn.EQUALS,Qn.NOT_EQUALS],numeric:[Qn.EQUALS,Qn.NOT_EQUALS,Qn.LESS_THAN,Qn.LESS_THAN_OR_EQUAL_TO,Qn.GREATER_THAN,Qn.GREATER_THAN_OR_EQUAL_TO],date:[Qn.DATE_IS,Qn.DATE_IS_NOT,Qn.DATE_BEFORE,Qn.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Lt,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ae({type:n,selectors:[["p-header"]],ngContentSelectors:GF,decls:1,vars:0,template:function(e,i){1&e&&(pr(),Dn(0))},encapsulation:2}),n})(),fg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ae({type:n,selectors:[["p-footer"]],ngContentSelectors:GF,decls:1,vars:0,template:function(e,i){1&e&&(pr(),Dn(0))},encapsulation:2}),n})(),gt=(()=>{class n{constructor(e){this.template=e}getType(){return this.name}}return n.\u0275fac=function(e){return new(e||n)(x(Nr))},n.\u0275dir=_e({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),nt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee]}),n})(),tn=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})();class KF{}class QF{}class $s{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof $s?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new $s;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof $s?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class oee{encodeKey(t){return YF(t)}encodeValue(t){return YF(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const lee=/%(\d[a-f0-9])/gi,cee={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function YF(n){return encodeURIComponent(n).replace(lee,(t,e)=>cee[e]??t)}function mg(n){return`${n}`}class Mo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new oee,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function aee(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(mg):[mg(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Mo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(mg(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(mg(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class uee{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function ZF(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function JF(n){return typeof Blob<"u"&&n instanceof Blob}function XF(n){return typeof FormData<"u"&&n instanceof FormData}class oh{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function dee(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new $s),this.context||(this.context=new uee),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Mo,this.urlWithParams=e}serializeBody(){return null===this.body?null:ZF(this.body)||JF(this.body)||XF(this.body)||function hee(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Mo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||XF(this.body)?null:JF(this.body)?this.body.type||null:ZF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Mo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),c)),new oh(e,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var Wt=(()=>((Wt=Wt||{})[Wt.Sent=0]="Sent",Wt[Wt.UploadProgress=1]="UploadProgress",Wt[Wt.ResponseHeader=2]="ResponseHeader",Wt[Wt.DownloadProgress=3]="DownloadProgress",Wt[Wt.Response=4]="Response",Wt[Wt.User=5]="User",Wt))();class oC{constructor(t,e=200,i="OK"){this.headers=t.headers||new $s,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class aC extends oC{constructor(t={}){super(t),this.type=Wt.ResponseHeader}clone(t={}){return new aC({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class gg extends oC{constructor(t={}){super(t),this.type=Wt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new gg({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class eL extends oC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function lC(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ah=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof oh)s=e;else{let l,c;l=r.headers instanceof $s?r.headers:new $s(r.headers),r.params&&(c=r.params instanceof Mo?r.params:new Mo({fromObject:r.params})),s=new oh(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=we(s).pipe(xo(l=>this.handler.handle(l)));if(e instanceof oh||"events"===r.observe)return o;const a=o.pipe(Bs(l=>l instanceof gg));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(je(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(je(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(je(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(je(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Mo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,lC(r,i))}post(e,i,r={}){return this.request("POST",e,lC(r,i))}put(e,i,r={}){return this.request("PUT",e,lC(r,i))}}return n.\u0275fac=function(e){return new(e||n)(ee(KF))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class tL{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const nL=new ve("HTTP_INTERCEPTORS");let pee=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const fee=/^\)\]\}',?\n/;let iL=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Zt(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((g,b)=>r.setRequestHeader(g,b.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const g=e.detectContentTypeHeader();null!==g&&r.setRequestHeader("Content-Type",g)}if(e.responseType){const g=e.responseType.toLowerCase();r.responseType="json"!==g?g:"text"}const s=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const g=r.statusText||"OK",b=new $s(r.getAllResponseHeaders()),T=function mee(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return o=new aC({headers:b,status:r.status,statusText:g,url:T}),o},l=()=>{let{headers:g,status:b,statusText:T,url:E}=a(),D=null;204!==b&&(D=typeof r.response>"u"?r.responseText:r.response),0===b&&(b=D?200:0);let M=b>=200&&b<300;if("json"===e.responseType&&"string"==typeof D){const A=D;D=D.replace(fee,"");try{D=""!==D?JSON.parse(D):null}catch(O){D=A,M&&(M=!1,D={error:O,text:D})}}M?(i.next(new gg({body:D,headers:g,status:b,statusText:T,url:E||void 0})),i.complete()):i.error(new eL({error:D,headers:g,status:b,statusText:T,url:E||void 0}))},c=g=>{const{url:b}=a(),T=new eL({error:g,status:r.status||0,statusText:r.statusText||"Unknown Error",url:b||void 0});i.error(T)};let u=!1;const d=g=>{u||(i.next(a()),u=!0);let b={type:Wt.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(b.total=g.total),"text"===e.responseType&&!!r.responseText&&(b.partialText=r.responseText),i.next(b)},h=g=>{let b={type:Wt.UploadProgress,loaded:g.loaded};g.lengthComputable&&(b.total=g.total),i.next(b)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),e.reportProgress&&(r.addEventListener("progress",d),null!==s&&r.upload&&r.upload.addEventListener("progress",h)),r.send(s),i.next({type:Wt.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),e.reportProgress&&(r.removeEventListener("progress",d),null!==s&&r.upload&&r.upload.removeEventListener("progress",h)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(ee(t2))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const cC=new ve("XSRF_COOKIE_NAME"),uC=new ve("XSRF_HEADER_NAME");class rL{}let gee=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=qO(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(ee(cn),ee(Uw),ee(cC))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),dC=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(ee(rL),ee(uC))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),_ee=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(nL,[]);this.chain=i.reduceRight((r,s)=>new tL(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(ee(QF),ee(Ti))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),yee=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:dC,useClass:pee}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:cC,useValue:e.cookieName}:[],e.headerName?{provide:uC,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({providers:[dC,{provide:nL,useExisting:dC,multi:!0},{provide:rL,useClass:gee},{provide:cC,useValue:"XSRF-TOKEN"},{provide:uC,useValue:"X-XSRF-TOKEN"}]}),n})(),sL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({providers:[ah,{provide:KF,useClass:_ee},iL,{provide:QF,useExisting:iL}],imports:[yee.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),_g=(()=>{class n{constructor(e){this.http=e}buscarDados(e){return this.http.get("https://65393dcfe3b530c8d9e82950.mockapi.io/api/dice/dados?userId="+e)}buscarTodosDados(){return this.http.get("https://65393dcfe3b530c8d9e82950.mockapi.io/api/dice/dados")}getEstado(){return this.http.get("https://servicodados.ibge.gov.br/api/v1/localidades/estados")}getCidades(e){return this.http.get(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${e}/municipios`)}adicionarDados(e){return this.http.post("https://65393dcfe3b530c8d9e82950.mockapi.io/api/dice/dados",e)}alterarDados(e){return this.http.put("https://65393dcfe3b530c8d9e82950.mockapi.io/api/dice/dados/"+e.id,e)}deletarDados(e){return this.http.delete("https://65393dcfe3b530c8d9e82950.mockapi.io/api/dice/dados/"+e)}verificarUsername(){return this.http.get("https://65393dcfe3b530c8d9e82950.mockapi.io/api/dice/user")}alterarUsername(e){return this.http.put("https://65393dcfe3b530c8d9e82950.mockapi.io/api/dice/user/"+e.id,e)}deletarUsername(e){return this.http.delete("https://65393dcfe3b530c8d9e82950.mockapi.io/api/dice/user/"+e)}}return n.\u0275fac=function(e){return new(e||n)(ee(ah))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),k=(()=>{class n{static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)e.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)e.className+=" "+r[s]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(e,i){return!(!e||!i)&&(e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className))}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return e?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==e)return r;1==i[s].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==e)return s;r[o].attributes&&r[o].attributes[i]&&1==r[o].nodeType&&s++}return-1}static appendOverlay(e,i,r="self"){"self"!==r&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,r="self",s=!0){e&&i&&(s&&(e.style.minWidth||(e.style.minWidth=n.getOuterWidth(i)+"px")),"self"===r?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i){const r=T=>{if(T)return"relative"===getComputedStyle(T).getPropertyValue("position")?T:r(T.parentElement)},s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=i.offsetHeight,a=i.getBoundingClientRect(),l=this.getWindowScrollTop(),c=this.getWindowScrollLeft(),u=this.getViewport(),h=r(e)?.getBoundingClientRect()||{top:-1*l,left:-1*c};let g,b;a.top+o+s.height>u.height?(g=a.top-h.top-s.height,e.style.transformOrigin="bottom",a.top+g<0&&(g=-1*a.top)):(g=o+a.top-h.top,e.style.transformOrigin="top"),b=s.width>u.width?-1*(a.left-h.left):a.left-h.left+s.width>u.width?-1*(a.left-h.left+s.width-u.width):a.left-h.left,e.style.top=g+"px",e.style.left=b+"px"}static absolutePosition(e,i){const r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=r.height,o=r.width,a=i.offsetHeight,l=i.offsetWidth,c=i.getBoundingClientRect(),u=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),h=this.getViewport();let g,b;c.top+a+s>h.height?(g=c.top+u-s,e.style.transformOrigin="bottom",g<0&&(g=u)):(g=a+c.top+u,e.style.transformOrigin="top"),b=c.left+o>h.width?Math.max(0,c.left+d+l-o):c.left+d,e.style.top=g+"px",e.style.left=b+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let d=this.findSingle(a,u);d&&o(d)&&i.push(d)}}9!==a.nodeType&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=e.getBoundingClientRect(),u=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,d=e.scrollTop,h=e.clientHeight,g=this.getOuterHeight(i);u<0?e.scrollTop=d+u:u+g>h&&(e.scrollTop=d+u-h+g)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,s=0,o=function(){s=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(e,i){var r=1,a=50/i;let l=setInterval(()=>{(r-=a)<=0&&(r=0,clearInterval(l)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return-1!==[].indexOf.call(document.querySelectorAll(o),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||s.clientWidth,height:e.innerHeight||r.clientHeight||s.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||null===e.offsetParent}static isVisible(e){return e&&null!=e.offsetParent}static isExist(e){return null!==e&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableElements(e){let i=n.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let s of i)"none"!=getComputedStyle(s).display&&"hidden"!=getComputedStyle(s).visibility&&r.push(s);return r}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const r=typeof e;if("string"===r)return document.querySelector(e);if("object"===r&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;const o=(a=e)&&a.constructor&&a.call&&a.apply?e():e;return o&&9===o.nodeType||this.isExist(o)?o:null}var a}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class lh{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=k.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let Mn=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(k.removeClass(i,"p-ink-active"),!k.getHeight(i)&&!k.getWidth(i)){let a=Math.max(k.getOuterWidth(this.el.nativeElement),k.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=k.getOffset(this.el.nativeElement),s=e.pageX-r.left+document.body.scrollTop-k.getWidth(i)/2,o=e.pageY-r.top+document.body.scrollLeft-k.getHeight(i)/2;i.style.top=o+"px",i.style.left=s+"px",k.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&k.removeClass(a,"p-ink-active")},401)}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&k.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),k.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),k.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(st),x(_r,8))},n.\u0275dir=_e({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),pn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee]}),n})();const vee=["itemsContainer"];function bee(n,t){1&n&&$(0)}function wee(n,t){if(1&n&&(_(0,"div",11),Dn(1),v(2,bee,1,0,"ng-container",12),y()),2&n){const e=f();m(2),p("ngTemplateOutlet",e.headerTemplate)}}const Cee=function(n){return{"p-carousel-prev p-link":!0,"p-disabled":n}},Iee=function(n,t){return{"p-carousel-prev-icon pi":!0,"pi-chevron-left":n,"pi-chevron-up":t}};function Tee(n,t){if(1&n){const e=N();_(0,"button",13),S("click",function(r){return C(e),I(f().navBackward(r))}),j(1,"span",2),y()}if(2&n){const e=f();p("ngClass",B(3,Cee,e.isBackwardNavDisabled()))("disabled",e.isBackwardNavDisabled()),m(1),p("ngClass",ye(5,Iee,!e.isVertical(),e.isVertical()))}}function Eee(n,t){1&n&&$(0)}const oL=function(n,t,e){return{"p-carousel-item p-carousel-item-cloned":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}},hC=function(n){return{$implicit:n}};function See(n,t){if(1&n&&(_(0,"div",2),v(1,Eee,1,0,"ng-container",14),y()),2&n){const e=t.$implicit,i=t.index,r=f();p("ngClass",an(3,oL,-1*r.totalShiftedItems===r.value.length,0===i,r.clonedItemsForStarting.length-1===i)),m(1),p("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",B(7,hC,e))}}function xee(n,t){1&n&&$(0)}const Dee=function(n,t,e){return{"p-carousel-item":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}};function Aee(n,t){if(1&n&&(_(0,"div",2),v(1,xee,1,0,"ng-container",14),y()),2&n){const e=t.$implicit,i=t.index,r=f();p("ngClass",an(3,Dee,r.firstIndex()<=i&&r.lastIndex()>=i,r.firstIndex()===i,r.lastIndex()===i)),m(1),p("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",B(7,hC,e))}}function kee(n,t){1&n&&$(0)}function Mee(n,t){if(1&n&&(_(0,"div",2),v(1,kee,1,0,"ng-container",14),y()),2&n){const e=t.$implicit,i=t.index,r=f();p("ngClass",an(3,oL,-1*r.totalShiftedItems===r.numVisible,0===i,r.clonedItemsForFinishing.length-1===i)),m(1),p("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",B(7,hC,e))}}const Ree=function(n){return{"p-carousel-next p-link":!0,"p-disabled":n}},Pee=function(n,t){return{"p-carousel-prev-icon pi":!0,"pi-chevron-right":n,"pi-chevron-down":t}};function Oee(n,t){if(1&n){const e=N();_(0,"button",13),S("click",function(r){return C(e),I(f().navForward(r))}),j(1,"span",2),y()}if(2&n){const e=f();p("ngClass",B(3,Ree,e.isForwardNavDisabled()))("disabled",e.isForwardNavDisabled()),m(1),p("ngClass",ye(5,Pee,!e.isVertical(),e.isVertical()))}}const Fee=function(n){return{"p-carousel-indicator":!0,"p-highlight":n}};function Lee(n,t){if(1&n){const e=N();_(0,"li",2)(1,"button",15),S("click",function(r){const o=C(e).index;return I(f(2).onDotClick(r,o))}),y()()}if(2&n){const e=t.index,i=f(2);p("ngClass",B(5,Fee,i._page===e)),m(1),ce(i.indicatorStyleClass),p("ngClass","p-link")("ngStyle",i.indicatorStyle)}}function Nee(n,t){if(1&n&&(_(0,"ul",0),v(1,Lee,2,7,"li",8),y()),2&n){const e=f();ce(e.indicatorsContentClass),p("ngClass","p-carousel-indicators p-reset")("ngStyle",e.indicatorsContentStyle),m(1),p("ngForOf",e.totalDotsArray())}}function Vee(n,t){1&n&&$(0)}function Bee(n,t){if(1&n&&(_(0,"div",16),Dn(1,1),v(2,Vee,1,0,"ng-container",12),y()),2&n){const e=f();m(2),p("ngTemplateOutlet",e.footerTemplate)}}const Uee=[[["p-header"]],[["p-footer"]]],Hee=function(n,t){return{"p-carousel p-component":!0,"p-carousel-vertical":n,"p-carousel-horizontal":t}},zee=function(n){return{height:n}},$ee=["p-header","p-footer"];let jee=(()=>{class n{constructor(e,i,r,s,o){this.el=e,this.zone=i,this.cd=r,this.renderer=s,this.document=o,this.orientation="horizontal",this.verticalViewPortHeight="300px",this.contentClass="",this.indicatorsContentClass="",this.indicatorStyleClass="",this.circular=!1,this.showIndicators=!0,this.showNavigators=!0,this.autoplayInterval=0,this.onPage=new R,this._numVisible=1,this._numScroll=1,this._oldNumScroll=0,this.prevState={numScroll:0,numVisible:0,value:[]},this.defaultNumScroll=1,this.defaultNumVisible=1,this._page=0,this.isRemainingItemsAdded=!1,this.remainingItems=0,this.swipeThreshold=20,this.totalShiftedItems=this.page*this.numScroll*-1}get page(){return this._page}set page(e){this.isCreated&&e!==this._page&&(this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e>this._page&&e<=this.totalDots()-1?this.step(-1,e):e<this._page&&this.step(1,e)),this._page=e}get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e}get numScroll(){return this._numVisible}set numScroll(e){this._numScroll=e}get value(){return this._value}set value(e){this._value=e}ngOnChanges(e){e.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(e.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),e.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))}ngAfterContentInit(){this.id=Ba(),this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners(),this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterContentChecked(){const e=this.isCircular();let i=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let r=this._page;0!==this.totalDots()&&r>=this.totalDots()&&(r=this.totalDots()-1,this._page=r,this.onPage.emit({page:this.page})),i=r*this._numScroll*-1,e&&(i-=this._numVisible),r===this.totalDots()-1&&this.remainingItems>0?(i+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,i!==this.totalShiftedItems&&(this.totalShiftedItems=i),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${i*(100/this._numVisible)}%, 0)`:`translate3d(${i*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}e&&(0===this.page?i=-1*this._numVisible:0===i&&(i=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),i!==this.totalShiftedItems&&(this.totalShiftedItems=i))}createStyle(){this.carouselStyle||(this.carouselStyle=this.renderer.createElement("style"),this.carouselStyle.type="text/css",this.renderer.appendChild(this.document.head,this.carouselStyle));let e=`\n            #${this.id} .p-carousel-item {\n\t\t\t\tflex: 1 0 ${100/this.numVisible}%\n\t\t\t}\n        `;if(this.responsiveOptions){this.responsiveOptions.sort((i,r)=>{const s=i.breakpoint,o=r.breakpoint;let a=null;return a=null==s&&null!=o?-1:null!=s&&null==o?1:null==s&&null==o?0:"string"==typeof s&&"string"==typeof o?s.localeCompare(o,void 0,{numeric:!0}):s<o?-1:s>o?1:0,-1*a});for(let i=0;i<this.responsiveOptions.length;i++){let r=this.responsiveOptions[i];e+=`\n                    @media screen and (max-width: ${r.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/r.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=e}calculatePosition(){if(this.responsiveOptions){let e={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};if(typeof window<"u"){let i=window.innerWidth;for(let r=0;r<this.responsiveOptions.length;r++){let s=this.responsiveOptions[r];parseInt(s.breakpoint,10)>=i&&(e=s)}}if(this._numScroll!==e.numScroll){let i=this._page;i=Math.floor(i*this._numScroll/e.numScroll);let r=e.numScroll*this.page*-1;this.isCircular()&&(r-=e.numVisible),this.totalShiftedItems=r,this._numScroll=e.numScroll,this._page=i,this.onPage.emit({page:this.page})}this._numVisible!==e.numVisible&&(this._numVisible=e.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):-1*this.totalShiftedItems}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){const e=this.totalDots();return e<=0?[]:Array(e).fill(0)}isVertical(){return"vertical"===this.orientation}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||0===this.value.length}navForward(e,i){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,i),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}navBackward(e,i){(this.isCircular()||0!==this._page)&&this.step(1,i),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}onDotClick(e,i){let r=this._page;this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),i>r?this.navForward(e,i):i<r&&this.navBackward(e,i)}step(e,i){let r=this.totalShiftedItems;const s=this.isCircular();null!=i?(r=this._numScroll*i*-1,s&&(r-=this._numVisible),this.isRemainingItemsAdded=!1):(r+=this._numScroll*e,this.isRemainingItemsAdded&&(r+=this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!1),i=Math.abs(Math.floor((s?r+this._numVisible:r)/this._numScroll))),s&&this.page===this.totalDots()-1&&-1===e?(r=-1*(this.value.length+this._numVisible),i=0):s&&0===this.page&&1===e?(r=0,i=this.totalDots()-1):i===this.totalDots()-1&&this.remainingItems>0&&(r+=-1*this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${r*(100/this._numVisible)}%, 0)`:`translate3d(${r*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=r,this._page=i,this.onPage.emit({page:this.page})}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval)}stopAutoplay(){this.interval&&clearInterval(this.interval)}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(0===this.page||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(e){let i=e.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchEnd(e){let i=e.changedTouches[0];this.isVertical()?this.changePageOnTouch(e,i.pageY-this.startPos.y):this.changePageOnTouch(e,i.pageX-this.startPos.x)}changePageOnTouch(e,i){Math.abs(i)>this.swipeThreshold&&(i<0?this.navForward(e):this.navBackward(e))}bindDocumentListeners(){!this.documentResizeListener&&typeof window<"u"&&(this.documentResizeListener=e=>{this.calculatePosition()},window.addEventListener("resize",this.documentResizeListener))}unbindDocumentListeners(){this.documentResizeListener&&typeof window<"u"&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(st),x(tt),x(Gn),x(cn))},n.\u0275cmp=Ae({type:n,selectors:[["p-carousel"]],contentQueries:function(e,i,r){if(1&e&&(dt(r,sC,5),dt(r,fg,5),dt(r,gt,4)),2&e){let s;Q(s=Y())&&(i.headerFacet=s.first),Q(s=Y())&&(i.footerFacet=s.first),Q(s=Y())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&ge(vee,5),2&e){let r;Q(r=Y())&&(i.itemsContainer=r.first)}},hostAttrs:[1,"p-element"],inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:"circular",showIndicators:"showIndicators",showNavigators:"showNavigators",autoplayInterval:"autoplayInterval",style:"style",styleClass:"styleClass"},outputs:{onPage:"onPage"},features:[Ln],ngContentSelectors:$ee,decls:14,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-carousel-header",4,"ngIf"],[3,"ngClass"],[1,"p-carousel-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-carousel-items-content",3,"ngStyle"],[1,"p-carousel-items-container",3,"transitionend","touchend","touchstart","touchmove"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-carousel-footer",4,"ngIf"],[1,"p-carousel-header"],[4,"ngTemplateOutlet"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"ngClass","ngStyle","click"],[1,"p-carousel-footer"]],template:function(e,i){1&e&&(pr(Uee),_(0,"div",0),v(1,wee,3,1,"div",1),_(2,"div",2)(3,"div",3),v(4,Tee,2,8,"button",4),_(5,"div",5)(6,"div",6,7),S("transitionend",function(){return i.onTransitionEnd()})("touchend",function(s){return i.onTouchEnd(s)})("touchstart",function(s){return i.onTouchStart(s)})("touchmove",function(s){return i.onTouchMove(s)}),v(8,See,2,9,"div",8),v(9,Aee,2,9,"div",8),v(10,Mee,2,9,"div",8),y()(),v(11,Oee,2,8,"button",4),y(),v(12,Nee,2,5,"ul",9),y(),v(13,Bee,3,1,"div",10),y()),2&e&&(ce(i.styleClass),p("ngClass",ye(17,Hee,i.isVertical(),!i.isVertical()))("ngStyle",i.style),ie("id",i.id),m(1),p("ngIf",i.headerFacet||i.headerTemplate),m(1),ce(i.contentClass),p("ngClass","p-carousel-content"),m(2),p("ngIf",i.showNavigators),m(1),p("ngStyle",B(20,zee,i.isVertical()?i.verticalViewPortHeight:"auto")),m(3),p("ngForOf",i.clonedItemsForStarting),m(1),p("ngForOf",i.value),m(1),p("ngForOf",i.clonedItemsForFinishing),m(1),p("ngIf",i.showNavigators),m(1),p("ngIf",i.showIndicators),m(1),p("ngIf",i.footerFacet||i.footerTemplate))},dependencies:[Ze,qn,qe,St,at,Mn],styles:[".p-carousel{display:flex;flex-direction:column}.p-carousel-content{display:flex;flex-direction:column;overflow:auto}.p-carousel-prev,.p-carousel-next{align-self:center;flex-grow:0;flex-shrink:0;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-carousel-container{display:flex;flex-direction:row}.p-carousel-items-content{overflow:hidden;width:100%}.p-carousel-items-container{display:flex;flex-direction:row}.p-carousel-indicators{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.p-carousel-indicator>button{display:flex;align-items:center;justify-content:center}.p-carousel-vertical .p-carousel-container{flex-direction:column}.p-carousel-vertical .p-carousel-items-container{flex-direction:column;height:100%}.p-items-hidden .p-carousel-item{visibility:hidden}.p-items-hidden .p-carousel-item.p-carousel-item-active{visibility:visible}\n"],encapsulation:2,changeDetection:0}),n})(),aL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,nt,pn,Ee,nt]}),n})();function Gee(n,t){1&n&&$(0)}const qee=function(n,t,e,i){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":t,"p-button-icon-top":e,"p-button-icon-bottom":i}};function Wee(n,t){if(1&n&&j(0,"span",4),2&n){const e=f();ce(e.loading?"p-button-loading-icon "+e.loadingIcon:e.icon),p("ngClass",Ji(4,qee,"left"===e.iconPos&&e.label,"right"===e.iconPos&&e.label,"top"===e.iconPos&&e.label,"bottom"===e.iconPos&&e.label)),ie("aria-hidden",!0)}}function Kee(n,t){if(1&n&&(_(0,"span",5),L(1),y()),2&n){const e=f();ie("aria-hidden",e.icon&&!e.label),m(1),se(e.label)}}function Qee(n,t){if(1&n&&(_(0,"span",4),L(1),y()),2&n){const e=f();ce(e.badgeClass),p("ngClass",e.badgeStyleClass()),m(1),se(e.badge)}}const Yee=function(n,t,e,i,r){return{"p-button p-component":!0,"p-button-icon-only":n,"p-button-vertical":t,"p-disabled":e,"p-button-loading":i,"p-button-loading-label-only":r}},Zee=["*"];let Ro=(()=>{class n{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,k.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&G.isEmpty(this.el.nativeElement.textContent)&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createLabel(){if(this.label){let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",e.appendChild(document.createTextNode(this.label)),this.el.nativeElement.appendChild(e)}}createIcon(){if(this.icon||this.loading){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&k.addClass(e,i);let r=this.getIconClass();r&&k.addMultipleClasses(e,r),this.el.nativeElement.insertBefore(e,this.el.nativeElement.firstChild)}}updateLabel(){let e=k.findSingle(this.el.nativeElement,".p-button-label");this.label?e?e.textContent=this.label:this.createLabel():e&&this.el.nativeElement.removeChild(e)}updateIcon(){let e=k.findSingle(this.el.nativeElement,".p-button-icon");this.icon||this.loading?e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon():e&&this.el.nativeElement.removeChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(e){return new(e||n)(x(ze))},n.\u0275dir=_e({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),pC=(()=>{class n{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new R,this.onFocus=new R,this.onBlur=new R}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.contentTemplate=e.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ae({type:n,selectors:[["p-button"]],contentQueries:function(e,i,r){if(1&e&&dt(r,gt,4),2&e){let s;Q(s=Y())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:Zee,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(e,i){1&e&&(pr(),_(0,"button",0),S("click",function(s){return i.onClick.emit(s)})("focus",function(s){return i.onFocus.emit(s)})("blur",function(s){return i.onBlur.emit(s)}),Dn(1),v(2,Gee,1,0,"ng-container",1),v(3,Wee,1,9,"span",2),v(4,Kee,2,2,"span",3),v(5,Qee,2,4,"span",2),y()),2&e&&(ce(i.styleClass),p("ngStyle",i.style)("disabled",i.disabled||i.loading)("ngClass",kd(11,Yee,i.icon&&!i.label,("top"===i.iconPos||"bottom"===i.iconPos)&&i.label,i.disabled||i.loading,i.loading,i.loading&&!i.icon&&i.label)),ie("type",i.type)("aria-label",i.ariaLabel),m(2),p("ngTemplateOutlet",i.contentTemplate),m(1),p("ngIf",!i.contentTemplate&&(i.icon||i.loading)),m(1),p("ngIf",!i.contentTemplate&&i.label),m(1),p("ngIf",!i.contentTemplate&&i.badge))},dependencies:[Ze,qe,St,at,Mn],encapsulation:2,changeDetection:0}),n})(),$r=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,pn]}),n})();class lL{}const js="*";function Gs(n,t){return{type:7,name:n,definitions:t,options:{}}}function fn(n,t=null){return{type:4,styles:t,timings:n}}function cL(n,t=null){return{type:2,steps:n,options:t}}function bt(n){return{type:6,styles:n,offset:null}}function ch(n,t,e){return{type:0,name:n,styles:t,options:e}}function Cn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Sc(n,t=null){return{type:8,animation:n,options:t}}function Xee(n=null){return{type:9,options:n}}function yg(n,t=null){return{type:10,animation:n,options:t}}function ete(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function uL(n){Promise.resolve().then(n)}class uh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){uL(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class dL{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?uL(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const hL=["container"],tte=function(n,t,e,i){return{"pi-info-circle":n,"pi-exclamation-triangle":t,"pi-times-circle":e,"pi-check":i}};function nte(n,t){if(1&n&&(ae(0),j(1,"span",6),_(2,"div",7)(3,"div",8),L(4),y(),_(5,"div",9),L(6),y()(),le()),2&n){const e=f();m(1),ce("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),p("ngClass",Ji(5,tte,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),m(3),se(e.message.summary),m(2),se(e.message.detail)}}function ite(n,t){1&n&&$(0)}function rte(n,t){if(1&n){const e=N();_(0,"button",10),S("click",function(r){return C(e),I(f().onCloseIconClick(r))})("keydown.enter",function(r){return C(e),I(f().onCloseIconClick(r))}),j(1,"span",11),y()}}const ste=function(n){return[n,"p-toast-message"]},ote=function(n,t,e,i){return{showTransformParams:n,hideTransformParams:t,showTransitionParams:e,hideTransitionParams:i}},ate=function(n){return{value:"visible",params:n}},lte=function(n){return{$implicit:n}};function cte(n,t){if(1&n){const e=N();_(0,"p-toastItem",3),S("onClose",function(r){return C(e),I(f().onMessageClose(r))})("@toastAnimation.start",function(r){return C(e),I(f().onAnimationStart(r))})("@toastAnimation.done",function(r){return C(e),I(f().onAnimationEnd(r))}),y()}if(2&n){const e=t.$implicit,i=t.index,r=f();p("message",e)("index",i)("template",r.template)("@toastAnimation",void 0)("showTransformOptions",r.showTransformOptions)("hideTransformOptions",r.hideTransformOptions)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}}let ute=(()=>{class n{constructor(e){this.zone=e,this.onClose=new R}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(e){return new(e||n)(x(st))},n.\u0275cmp=Ae({type:n,selectors:[["p-toastItem"]],viewQuery:function(e,i){if(1&e&&ge(hL,5),2&e){let r;Q(r=Y())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,i){1&e&&(_(0,"div",0,1),S("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),_(2,"div",2),v(3,nte,7,10,"ng-container",3),v(4,ite,1,0,"ng-container",4),v(5,rte,2,0,"button",5),y()()),2&e&&(ce(i.message.styleClass),p("ngClass",B(10,ste,"p-toast-message-"+i.message.severity))("@messageState",B(17,ate,Ji(12,ote,i.showTransformOptions,i.hideTransformOptions,i.showTransitionOptions,i.hideTransitionOptions))),ie("id",i.message.id),m(2),p("ngClass",i.message.contentStyleClass),m(1),p("ngIf",!i.template),m(1),p("ngTemplateOutlet",i.template)("ngTemplateOutletContext",B(19,lte,i.message)),m(1),p("ngIf",!1!==i.message.closable))},dependencies:[Ze,qe,St,Mn],encapsulation:2,data:{animation:[Gs("messageState",[ch("visible",bt({transform:"translateY(0)",opacity:1})),Cn("void => *",[bt({transform:"{{showTransformParams}}",opacity:0}),fn("{{showTransitionParams}}")]),Cn("* => void",[fn("{{hideTransitionParams}}",bt({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),n})(),vg=(()=>{class n{constructor(e,i,r){this.messageService=e,this.cd=i,this.config=r,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new R,this.id=Ba()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(e instanceof Array){const i=e.filter(r=>this.canAdd(r));this.add(i)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let i=this.key===e.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,e)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,e)),i}containsMessage(e,i){return!!e&&null!=e.find(r=>r.summary===i.summary&&r.detail==i.detail&&r.severity===i.severity)}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.template=e.template})}onMessageClose(e){this.messages.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){"void"===e.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&""===this.containerViewChild.nativeElement.style.zIndex&&hn.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(e){"void"===e.toState&&this.autoZIndex&&G.isEmpty(this.messages)&&hn.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints){let r="";for(let s in this.breakpoints[i])r+=s+":"+this.breakpoints[i][s]+" !important;";e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-toast[${this.id}] {\n                           ${r}\n                        }\n                    }\n                `}this.styleElement.innerHTML=e}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&hn.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return n.\u0275fac=function(e){return new(e||n)(x(ko),x(tt),x(_r))},n.\u0275cmp=Ae({type:n,selectors:[["p-toast"]],contentQueries:function(e,i,r){if(1&e&&dt(r,gt,4),2&e){let s;Q(s=Y())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&ge(hL,5),2&e){let r;Q(r=Y())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,i){1&e&&(_(0,"div",0,1),v(2,cte,1,8,"p-toastItem",2),y()),2&e&&(ce(i.styleClass),p("ngClass","p-toast p-component p-toast-"+i.position)("ngStyle",i.style),m(2),p("ngForOf",i.messages))},dependencies:[Ze,qn,at,ute],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[Gs("toastAnimation",[Cn(":enter, :leave",[ete("@*",Xee())])])]},changeDetection:0}),n})(),pL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,pn,nt]}),n})(),dte=(()=>{class n{constructor(e){this.el=e}onkeydown(e){if(!0!==this.pFocusTrapDisabled){e.preventDefault();let i=k.getFocusableElements(this.el.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);e.shiftKey?-1==r||0===r?i[i.length-1].focus():i[r-1].focus():-1==r||r===i.length-1?i[0].focus():i[r+1].focus()}else i[0].focus()}}}return n.\u0275fac=function(e){return new(e||n)(x(ze))},n.\u0275dir=_e({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(e,i){1&e&&S("keydown.tab",function(s){return i.onkeydown(s)})("keydown.shift.tab",function(s){return i.onkeydown(s)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),n})(),hte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee]}),n})();const pte=["titlebar"],fte=["content"],mte=["footer"];function gte(n,t){if(1&n){const e=N();_(0,"div",11),S("mousedown",function(r){return C(e),I(f(3).initResize(r))}),y()}}function _te(n,t){if(1&n&&(_(0,"span",18),L(1),y()),2&n){const e=f(4);ie("id",e.id+"-label"),m(1),se(e.header)}}function yte(n,t){1&n&&(_(0,"span",18),Dn(1,1),y()),2&n&&ie("id",f(4).id+"-label")}function vte(n,t){1&n&&$(0)}const bte=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function wte(n,t){if(1&n){const e=N();_(0,"button",19),S("click",function(){return C(e),I(f(4).maximize())})("keydown.enter",function(){return C(e),I(f(4).maximize())}),j(1,"span",20),y()}if(2&n){const e=f(4);p("ngClass",en(2,bte)),m(1),p("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}const Cte=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function Ite(n,t){if(1&n){const e=N();_(0,"button",21),S("click",function(r){return C(e),I(f(4).close(r))})("keydown.enter",function(r){return C(e),I(f(4).close(r))}),j(1,"span",22),y()}if(2&n){const e=f(4);p("ngClass",en(4,Cte)),ie("aria-label",e.closeAriaLabel)("tabindex",e.closeTabindex),m(1),p("ngClass",e.closeIcon)}}function Tte(n,t){if(1&n){const e=N();_(0,"div",12,13),S("mousedown",function(r){return C(e),I(f(3).initDrag(r))}),v(2,_te,2,2,"span",14),v(3,yte,2,1,"span",14),v(4,vte,1,0,"ng-container",9),_(5,"div",15),v(6,wte,2,3,"button",16),v(7,Ite,2,5,"button",17),y()()}if(2&n){const e=f(3);m(2),p("ngIf",!e.headerFacet&&!e.headerTemplate),m(1),p("ngIf",e.headerFacet),m(1),p("ngTemplateOutlet",e.headerTemplate),m(2),p("ngIf",e.maximizable),m(1),p("ngIf",e.closable)}}function Ete(n,t){1&n&&$(0)}function Ste(n,t){1&n&&$(0)}function xte(n,t){if(1&n&&(_(0,"div",23,24),Dn(2,2),v(3,Ste,1,0,"ng-container",9),y()),2&n){const e=f(3);m(3),p("ngTemplateOutlet",e.footerTemplate)}}const Dte=function(n,t,e,i){return{"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":t,"p-dialog-resizable":e,"p-dialog-maximized":i}},Ate=function(n,t){return{transform:n,transition:t}},kte=function(n){return{value:"visible",params:n}};function Mte(n,t){if(1&n){const e=N();_(0,"div",3,4),S("@animation.start",function(r){return C(e),I(f(2).onAnimationStart(r))})("@animation.done",function(r){return C(e),I(f(2).onAnimationEnd(r))}),v(2,gte,1,0,"div",5),v(3,Tte,8,5,"div",6),_(4,"div",7,8),Dn(6),v(7,Ete,1,0,"ng-container",9),y(),v(8,xte,4,1,"div",10),y()}if(2&n){const e=f(2);ce(e.styleClass),p("ngClass",Ji(15,Dte,e.rtl,e.draggable,e.resizable,e.maximized))("ngStyle",e.style)("pFocusTrapDisabled",!1===e.focusTrap)("@animation",B(23,kte,ye(20,Ate,e.transformOptions,e.transitionOptions))),ie("aria-labelledby",e.id+"-label"),m(2),p("ngIf",e.resizable),m(1),p("ngIf",e.showHeader),m(1),ce(e.contentStyleClass),p("ngClass","p-dialog-content")("ngStyle",e.contentStyle),m(3),p("ngTemplateOutlet",e.contentTemplate),m(1),p("ngIf",e.footerFacet||e.footerTemplate)}}const Rte=function(n,t,e,i,r,s,o,a,l,c){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":t,"p-dialog-left":e,"p-dialog-right":i,"p-dialog-top":r,"p-dialog-top-left":s,"p-dialog-top-right":o,"p-dialog-bottom":a,"p-dialog-bottom-left":l,"p-dialog-bottom-right":c}};function Pte(n,t){if(1&n&&(_(0,"div",1),v(1,Mte,9,25,"div",2),y()),2&n){const e=f();ce(e.maskStyleClass),p("ngClass",Sw(4,Rte,[e.modal,e.modal||e.blockScroll,"left"===e.position,"right"===e.position,"top"===e.position,"topleft"===e.position||"top-left"===e.position,"topright"===e.position||"top-right"===e.position,"bottom"===e.position,"bottomleft"===e.position||"bottom-left"===e.position,"bottomright"===e.position||"bottom-right"===e.position])),m(1),p("ngIf",e.visible)}}const Ote=["*",[["p-header"]],[["p-footer"]]],Fte=["*","p-header","p-footer"],Lte=Sc([bt({transform:"{{transform}}",opacity:0}),fn("{{transition}}")]),Nte=Sc([fn("{{transition}}",bt({transform:"{{transform}}",opacity:0}))]);let mC=(()=>{class n{constructor(e,i,r,s,o){this.el=e,this.renderer=i,this.zone=r,this.cd=s,this.config=o,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new R,this.onHide=new R,this.visibleChange=new R,this.onResizeInit=new R,this.onResizeEnd=new R,this.onDragEnd=new R,this.onMaximize=new R,this.id=Ba(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(e){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(e){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(e){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":default:this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style={...e},this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let e=k.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&k.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&k.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?k.addClass(document.body,"p-overflow-hidden"):k.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(hn.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints)e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[i]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}initDrag(e){k.hasClass(e.target,"p-dialog-header-icon")||k.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",k.addClass(document.body,"p-unselectable-text"))}onKeydown(e){if(this.focusTrap&&9===e.which){e.preventDefault();let i=k.getFocusableElements(this.container);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);e.shiftKey?-1==r||0===r?i[i.length-1].focus():i[r-1].focus():-1==r||r===i.length-1?i[0].focus():i[r+1].focus()}else i[0].focus()}}onDrag(e){if(this.dragging){let i=k.getOuterWidth(this.container),r=k.getOuterHeight(this.container),s=e.pageX-this.lastPageX,o=e.pageY-this.lastPageY,a=this.container.getBoundingClientRect(),l=a.left+s,c=a.top+o,u=k.getViewport();this.container.style.position="fixed",this.keepInViewport?(l>=this.minX&&l+i<u.width&&(this._style.left=l+"px",this.lastPageX=e.pageX,this.container.style.left=l+"px"),c>=this.minY&&c+r<u.height&&(this._style.top=c+"px",this.lastPageY=e.pageY,this.container.style.top=c+"px")):(this.lastPageX=e.pageX,this.container.style.left=l+"px",this.lastPageY=e.pageY,this.container.style.top=c+"px")}}endDrag(e){this.dragging&&(this.dragging=!1,k.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,k.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let i=e.pageX-this.lastPageX,r=e.pageY-this.lastPageY,s=k.getOuterWidth(this.container),o=k.getOuterHeight(this.container),a=k.getOuterHeight(this.contentViewChild.nativeElement),l=s+i,c=o+r,u=this.container.style.minWidth,d=this.container.style.minHeight,h=this.container.getBoundingClientRect(),g=k.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(l+=i,c+=r),(!u||l>parseInt(u))&&h.left+l<g.width&&(this._style.width=l+"px",this.container.style.width=this._style.width),(!d||c>parseInt(d))&&h.top+c<g.height&&(this.contentViewChild.nativeElement.style.height=a+c-o+"px",this._style.height&&(this._style.height=c+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,k.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{27==i.which&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):k.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&k.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&k.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(k.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&k.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&hn.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?{...this.originalStyle}:{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(Gn),x(st),x(tt),x(_r))},n.\u0275cmp=Ae({type:n,selectors:[["p-dialog"]],contentQueries:function(e,i,r){if(1&e&&(dt(r,sC,5),dt(r,fg,5),dt(r,gt,4)),2&e){let s;Q(s=Y())&&(i.headerFacet=s.first),Q(s=Y())&&(i.footerFacet=s.first),Q(s=Y())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(ge(pte,5),ge(fte,5),ge(mte,5)),2&e){let r;Q(r=Y())&&(i.headerViewChild=r.first),Q(r=Y())&&(i.contentViewChild=r.first),Q(r=Y())&&(i.footerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:Fte,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""]],template:function(e,i){1&e&&(pr(Ote),v(0,Pte,2,15,"div",0)),2&e&&p("ngIf",i.maskVisible)},dependencies:[Ze,qe,St,at,dte,Mn],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[Gs("animation",[Cn("void => visible",[yg(Lte)]),Cn("visible => void",[yg(Nte)])])]},changeDetection:0}),n})(),fL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,hte,pn,nt]}),n})();function Vte(n,t){if(1&n&&(_(0,"div",5),L(1),y()),2&n){const e=f(2);Or("display",null!=e.value&&0!==e.value?"flex":"none"),m(1),mm("",e.value,"",e.unit,"")}}function Bte(n,t){if(1&n&&(_(0,"div",3),v(1,Vte,2,4,"div",4),y()),2&n){const e=f();Or("width",e.value+"%"),m(1),p("ngIf",e.showValue)}}function Ute(n,t){1&n&&(_(0,"div",6),j(1,"div",7),y())}const Hte=function(n,t){return{"p-progressbar p-component":!0,"p-progressbar-determinate":n,"p-progressbar-indeterminate":t}};let mL=(()=>{class n{constructor(){this.showValue=!0,this.unit="%",this.mode="determinate"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ae({type:n,selectors:[["p-progressBar"]],hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",style:"style",styleClass:"styleClass",unit:"unit",mode:"mode"},decls:3,vars:10,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],["class","p-progressbar-label",3,"display",4,"ngIf"],[1,"p-progressbar-label"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(e,i){1&e&&(_(0,"div",0),v(1,Bte,2,3,"div",1),v(2,Ute,2,0,"div",2),y()),2&e&&(ce(i.styleClass),p("ngStyle",i.style)("ngClass",ye(7,Hte,"determinate"===i.mode,"indeterminate"===i.mode)),ie("aria-valuenow",i.value),m(1),p("ngIf","determinate"===i.mode),m(1),p("ngIf","indeterminate"===i.mode))},dependencies:[Ze,qe,at],styles:['.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0}),n})(),bg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee]}),n})();class zte{constructor(){this.id="",this.userId="",this.name="",this.description="",this.categories=[],this.basicInformation=[],this.image=[],this.openingHours=[],this.street="",this.number="",this.district="",this.state="",this.city="",this.zipCode="",this.complement="",this.status="",this.username="",this.motive=""}}const gL=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},_L={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,g=63&c;l||(g=64,o||(h=64)),i.push(e[s>>2],e[(3&s)<<4|a>>4],e[h],e[g])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(gL(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(1023&l))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;const c=r<n.length?e[n.charAt(r)]:64;++r;const d=r<n.length?e[n.charAt(r)]:64;if(++r,null==s||null==a||null==c||null==d)throw new qte;i.push(s<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wg=function(n){return function(n){const t=gL(n);return _L.encodeByteArray(t,!0)}(n).replace(/\./g,"")},Cg=function(n){try{return _L.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function dh(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return t}for(const e in t)!t.hasOwnProperty(e)||!Kte(e)||(n[e]=dh(n[e],t[e]));return n}function Kte(n){return"__proto__"!==n}const Ig=()=>{try{return function Qte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Cg(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},yL=()=>{var n;return null===(n=Ig())||void 0===n?void 0:n.config};class vL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}function bL(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[wg(JSON.stringify({alg:"none",type:"JWT"})),wg(JSON.stringify(o)),""].join(".")}function Mt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Tg(){var n;const t=null===(n=Ig())||void 0===n?void 0:n.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function wL(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function _C(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function CL(){const n=Mt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function hh(){try{return"object"==typeof indexedDB}catch{return!1}}class ci extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ha.prototype.create)}}class Ha{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?function one(n,t){return n.replace(ane,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new ci(r,`${this.serviceName}: ${o} (${r}).`,i)}}const ane=/\{\$([^}]+)}/g;function TL(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function lne(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function yC(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if(EL(s)&&EL(o)){if(!yC(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function EL(n){return null!==n&&"object"==typeof n}function xc(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Dc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function ph(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function SL(n,t){const e=new cne(n,t);return e.subscribe.bind(e)}class cne{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");r=function une(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===r.next&&(r.next=vC),void 0===r.error&&(r.error=vC),void 0===r.complete&&(r.complete=vC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vC(){}function pe(n){return n&&n._delegate?n._delegate:n}class yr{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const za="[DEFAULT]";class gne{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new vL;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=null!==(e=t?.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function yne(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=za){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return w(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=za){return this.instances.has(t)}getOptions(t=za){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===za?void 0:n),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(t=za){return this.component?this.component.multipleInstances?t:za:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class vne{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new gne(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const wC=[];var Ke=(()=>{return(n=Ke||(Ke={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Ke;var n})();const xL={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},bne=Ke.INFO,wne={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},Cne=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=wne[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};class Sg{constructor(t){this.name=t,this._logLevel=bne,this._logHandler=Cne,this._userLogHandler=null,wC.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ke))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?xL[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...t),this._logHandler(this,Ke.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...t),this._logHandler(this,Ke.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...t),this._logHandler(this,Ke.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...t),this._logHandler(this,Ke.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...t),this._logHandler(this,Ke.ERROR,...t)}}let DL,AL;const kL=new WeakMap,CC=new WeakMap,ML=new WeakMap,IC=new WeakMap,TC=new WeakMap;let EC={get(n,t,e){if(n instanceof IDBTransaction){if("done"===t)return CC.get(n);if("objectStoreNames"===t)return n.objectStoreNames||ML.get(n);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Po(n[t])},set:(n,t,e)=>(n[t]=e,!0),has:(n,t)=>n instanceof IDBTransaction&&("done"===t||"store"===t)||t in n};function Rne(n){return"function"==typeof n?function Mne(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xne(){return AL||(AL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...t){return n.apply(SC(this),t),Po(kL.get(this))}:function(...t){return Po(n.apply(SC(this),t))}:function(t,...e){const i=n.call(SC(this),t,...e);return ML.set(i,t.sort?t.sort():[t]),Po(i)}}(n):(n instanceof IDBTransaction&&function Ane(n){if(CC.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});CC.set(n,t)}(n),((n,t)=>t.some(e=>n instanceof e))(n,function Sne(){return DL||(DL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,EC):n)}function Po(n){if(n instanceof IDBRequest)return function Dne(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(Po(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&kL.set(e,n)}).catch(()=>{}),TC.set(t,n),t}(n);if(IC.has(n))return IC.get(n);const t=Rne(n);return t!==n&&(IC.set(n,t),TC.set(t,n)),t}const SC=n=>TC.get(n),One=["get","getKey","getAll","getAllKeys","count"],Fne=["put","add","delete","clear"],xC=new Map;function RL(n,t){if(!(n instanceof IDBDatabase)||t in n||"string"!=typeof t)return;if(xC.get(t))return xC.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=Fne.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!One.includes(e))return;const s=function(){var o=w(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[e](...l),r&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return xC.set(t,s),s}!function kne(n){EC=n(EC)}(n=>({...n,get:(t,e,i)=>RL(t,e)||n.get(t,e,i),has:(t,e)=>!!RL(t,e)||n.has(t,e)}));class Lne{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function Nne(n){return"VERSION"===n.getComponent()?.type}(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}return null}).filter(e=>e).join(" ")}}const DC="@firebase/app",$a=new Sg("@firebase/app"),Oo="[DEFAULT]",cie={[DC]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Fo=new Map,fh=new Map;function xg(n,t){try{n.container.addComponent(t)}catch(e){$a.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function OL(n,t){n.container.addOrOverwriteComponent(t)}function qs(n){const t=n.name;if(fh.has(t))return $a.debug(`There were multiple attempts to register component ${t}.`),!1;fh.set(t,n);for(const e of Fo.values())xg(e,n);return!0}function FL(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function uie(n,t,e=Oo){FL(n,t).clearInstance(e)}function die(){fh.clear()}const Ws=new Ha("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class pie{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}const Ks="10.5.2";function AC(n,t={}){let e=n;"object"!=typeof t&&(t={name:t});const i=Object.assign({name:Oo,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!=typeof r||!r)throw Ws.create("bad-app-name",{appName:String(r)});if(e||(e=yL()),!e)throw Ws.create("no-options");const s=Fo.get(r);if(s){if(yC(e,s.options)&&yC(i,s.config))return s;throw Ws.create("duplicate-app",{appName:r})}const o=new vne(r);for(const l of fh.values())o.addComponent(l);const a=new pie(e,i,o);return Fo.set(r,a),a}function fie(n=Oo){const t=Fo.get(n);if(!t&&n===Oo&&yL())return AC();if(!t)throw Ws.create("no-app",{appName:n});return t}function mie(){return Array.from(Fo.values())}function LL(n){return kC.apply(this,arguments)}function kC(){return(kC=w(function*(n){const t=n.name;Fo.has(t)&&(Fo.delete(t),yield Promise.all(n.container.getProviders().map(e=>e.delete())),n.isDeleted=!0)})).apply(this,arguments)}function vr(n,t,e){var i;let r=null!==(i=cie[n])&&void 0!==i?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];return s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void $a.warn(a.join(" "))}qs(new yr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}function NL(n,t){if(null!==n&&"function"!=typeof n)throw Ws.create("invalid-log-argument");!function Tne(n,t){for(const e of wC){let i=null;t&&t.level&&(i=xL[t.level]),e.userLogHandler=null===n?null:(r,s,...o)=>{const a=o.map(l=>{if(null==l)return null;if("string"==typeof l)return l;if("number"==typeof l||"boolean"==typeof l)return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(i??r.logLevel)&&n({level:Ke[s].toLowerCase(),message:a,args:o,type:r.name})}}}(n,t)}function VL(n){!function Ine(n){wC.forEach(t=>{t.setLogLevel(n)})}(n)}const mh="firebase-heartbeat-store";let MC=null;function BL(){return MC||(MC=function Pne(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,t),a=Po(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Po(o.result),l.oldVersion,l.newVersion,Po(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,t)=>{0===t&&n.createObjectStore(mh)}}).catch(n=>{throw Ws.create("idb-open",{originalErrorMessage:n.message})})),MC}function RC(){return(RC=w(function*(n){try{return yield(yield BL()).transaction(mh).objectStore(mh).get(HL(n))}catch(t){if(t instanceof ci)$a.warn(t.message);else{const e=Ws.create("idb-get",{originalErrorMessage:t?.message});$a.warn(e.message)}}})).apply(this,arguments)}function UL(n,t){return PC.apply(this,arguments)}function PC(){return(PC=w(function*(n,t){try{const i=(yield BL()).transaction(mh,"readwrite");yield i.objectStore(mh).put(t,HL(n)),yield i.done}catch(e){if(e instanceof ci)$a.warn(e.message);else{const i=Ws.create("idb-set",{originalErrorMessage:e?.message});$a.warn(i.message)}}})).apply(this,arguments)}function HL(n){return`${n.name}!${n.options.appId}`}class wie{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Iie(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var t=this;return w(function*(){const i=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zL();if(null===t._heartbeatsCache&&(t._heartbeatsCache=yield t._heartbeatsCachePromise),t._heartbeatsCache.lastSentHeartbeatDate!==r&&!t._heartbeatsCache.heartbeats.some(s=>s.date===r))return t._heartbeatsCache.heartbeats.push({date:r,agent:i}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return w(function*(){if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null===t._heartbeatsCache||0===t._heartbeatsCache.heartbeats.length)return"";const e=zL(),{heartbeatsToSend:i,unsentEntries:r}=function Cie(n,t=1024){const e=[];let i=n.slice();for(const r of n){const s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),$L(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),$L(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}(t._heartbeatsCache.heartbeats),s=wg(JSON.stringify({version:2,heartbeats:i}));return t._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(t._heartbeatsCache.heartbeats=r,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),s})()}}function zL(){return(new Date).toISOString().substring(0,10)}class Iie{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(function*(){return!!hh()&&function rne(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return w(function*(){return(yield t._canUseIndexedDBPromise)&&(yield function yie(n){return RC.apply(this,arguments)}(t.app))||{heartbeats:[]}})()}overwrite(t){var e=this;return w(function*(){var i;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return UL(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return w(function*(){var i;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return UL(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}})()}}function $L(n){return wg(JSON.stringify({version:2,heartbeats:n})).length}!function Tie(n){qs(new yr("platform-logger",t=>new Lne(t),"PRIVATE")),qs(new yr("heartbeat",t=>new wie(t),"PRIVATE")),vr(DC,"0.9.22",n),vr(DC,"0.9.22","esm2017"),vr("fire-js","")}("");class Eie{constructor(t,e){this._delegate=t,this.firebase=e,xg(t,new yr("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),LL(this._delegate)))}_getService(t,e=Oo){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(t);return!r.isInitialized()&&"EXPLICIT"===(null===(i=r.getComponent())||void 0===i?void 0:i.instantiationMode)&&r.initialize(),r.getImmediate({identifier:e})}_removeServiceInstance(t,e=Oo){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){xg(this._delegate,t)}_addOrOverwriteComponent(t){OL(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const jL=new Ha("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Die=function GL(){const n=function xie(n){const t={},e={__esModule:!0,initializeApp:function s(c,u={}){const d=AC(c,u);if(TL(t,d.name))return t[d.name];const h=new n(d,e);return t[d.name]=h,h},app:r,registerVersion:vr,setLogLevel:VL,onLog:NL,apps:null,SDK_VERSION:Ks,INTERNAL:{registerComponent:function a(c){const u=c.name,d=u.replace("-compat","");if(qs(c)&&"PUBLIC"===c.type){const h=(g=r())=>{if("function"!=typeof g[d])throw jL.create("invalid-app-argument",{appName:u});return g[d]()};void 0!==c.serviceProps&&dh(h,c.serviceProps),e[d]=h,n.prototype[d]=function(...g){return this._getService.bind(this,u).apply(this,c.multipleInstances?g:[])}}return"PUBLIC"===c.type?e[d]:null},removeApp:function i(c){delete t[c]},useAsService:function l(c,u){return"serverAuth"===u?null:u},modularAPIs:zu}};function r(c){if(!TL(t,c=c||Oo))throw jL.create("no-app",{appName:c});return t[c]}return e.default=e,Object.defineProperty(e,"apps",{get:function o(){return Object.keys(t).map(c=>t[c])}}),r.App=n,e}(Eie);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:GL,extendNamespace:function t(e){dh(n,e)},createSubscribe:SL,ErrorFactory:Ha,deepExtend:dh}),n}(),qL=new Sg("@firebase/app-compat");if(function nne(){return"object"==typeof self&&self.self===self}()&&void 0!==self.firebase){qL.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&qL.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const jr=Die;!function Mie(n){vr("@firebase/app-compat","0.2.22",n)}(),jr.registerVersion("firebase","10.5.2","app-compat");const Fie=function Oie(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Lie=function WL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},KL=new Ha("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dg=new Sg("@firebase/auth");function Ag(n,...t){Dg.logLevel<=Ke.ERROR&&Dg.error(`Auth (${Ks}): ${n}`,...t)}function Nn(n,...t){throw OC(n,...t)}function Yn(n,...t){return OC(n,...t)}function QL(n,t,e){const i=Object.assign(Object.assign({},Lie()),{[t]:e});return new Ha("auth","Firebase",i).create(t,{appName:n.name})}function kc(n,t,e){if(!(t instanceof e))throw e.name!==t.constructor.name&&Nn(n,"argument-error"),QL(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function OC(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return KL.create(n,...t)}function q(n,t,...e){if(!n)throw OC(t,...e)}function os(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Ag(t),new Error(t)}function Gr(n,t){n||os(t)}function _h(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function FC(){return"http:"===YL()||"https:"===YL()}function YL(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class yh{constructor(t,e){this.shortDelay=t,this.longDelay=e,Gr(e>t,"Short delay should be less than long delay!"),this.isMobile=function tne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}()||_C()}get(){return function Vie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(FC()||wL()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function LC(n,t){Gr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class ZL{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Uie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Hie=new yh(3e4,6e4);function Vt(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function Kt(n,t,e,i){return NC.apply(this,arguments)}function NC(){return(NC=w(function*(n,t,e,i,r={}){return JL(n,r,w(function*(){let s={},o={};i&&("GET"===t?o=i:s={body:JSON.stringify(i)});const a=xc(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),ZL.fetch()(XL(n,n.config.apiHost,e,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function JL(n,t,e){return VC.apply(this,arguments)}function VC(){return(VC=w(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Uie),t);try{const r=new $ie(n),s=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw vh(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw vh(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw vh(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw vh(n,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw QL(n,u,c);Nn(n,u)}}catch(r){if(r instanceof ci)throw r;Nn(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function Qs(n,t,e,i){return BC.apply(this,arguments)}function BC(){return(BC=w(function*(n,t,e,i,r={}){const s=yield Kt(n,t,e,i,r);return"mfaPendingCredential"in s&&Nn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function XL(n,t,e,i){const r=`${t}${e}?${i}`;return n.config.emulator?LC(n.config,r):`${n.config.apiScheme}://${r}`}function zie(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $ie{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Yn(this.auth,"network-request-failed")),Hie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Yn(n,t,i);return r.customData._tokenResponse=e,r}function eN(n){return void 0!==n&&void 0!==n.getResponse}function tN(n){return void 0!==n&&void 0!==n.enterprise}class nN{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return zie(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}}function UC(){return(UC=w(function*(n){return(yield Kt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function iN(n,t){return HC.apply(this,arguments)}function HC(){return(HC=w(function*(n,t){return Kt(n,"GET","/v2/recaptchaConfig",Vt(n,t))})).apply(this,arguments)}function zC(){return(zC=w(function*(n,t){return Kt(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function qie(n,t){return $C.apply(this,arguments)}function $C(){return($C=w(function*(n,t){return Kt(n,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Wie(n,t){return jC.apply(this,arguments)}function jC(){return(jC=w(function*(n,t){return Kt(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function bh(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function GC(){return(GC=w(function*(n,t=!1){const e=pe(n),i=yield e.getIdToken(t),r=kg(i);q(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:bh(qC(r.auth_time)),issuedAtTime:bh(qC(r.iat)),expirationTime:bh(qC(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function qC(n){return 1e3*Number(n)}function kg(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return Ag("JWT malformed, contained fewer than 3 sections"),null;try{const r=Cg(e);return r?JSON.parse(r):(Ag("Failed to decode base64 JWT payload"),null)}catch(r){return Ag("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Ys(n,t){return WC.apply(this,arguments)}function WC(){return(WC=w(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof ci&&Yie(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}function Yie({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Zie{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(w(function*(){yield e.iteration()}),i)}iteration(){var t=this;return w(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class rN{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=bh(this.lastLoginAt),this.creationTime=bh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wh(n){return KC.apply(this,arguments)}function KC(){return(KC=w(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),r=yield Ys(n,Wie(e,{idToken:i}));q(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?ere(s.providerUserInfo):[],a=Xie(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rN(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function QC(){return(QC=w(function*(n){const t=pe(n);yield wh(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function Xie(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function ere(n){return n.map(t=>{var{providerId:e}=t,i=bf(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function YC(){return(YC=w(function*(n,t){const e=yield JL(n,{},w(function*(){const i=xc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=XL(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ZL.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}class Ch{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){q(t.idToken,"internal-error"),q(typeof t.idToken<"u","internal-error"),q(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function Qie(n){const t=kg(n);return q(t,"internal-error"),q(typeof t.exp<"u","internal-error"),q(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var i=this;return w(function*(){return q(!i.accessToken||i.refreshToken,t,"user-token-expired"),e||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return w(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function tre(n,t){return YC.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new Ch;return i&&(q("string"==typeof i,"internal-error",{appName:t}),o.refreshToken=i),r&&(q("string"==typeof r,"internal-error",{appName:t}),o.accessToken=r),s&&(q("number"==typeof s,"internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ch,this.toJSON())}_performRefresh(){return os("not implemented")}}function Lo(n,t){q("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class ja{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=bf(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rN(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){var e=this;return w(function*(){const i=yield Ys(e,e.stsTokenManager.getToken(e.auth,t));return q(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function Kie(n){return GC.apply(this,arguments)}(this,t)}reload(){return function Jie(n){return QC.apply(this,arguments)}(this)}_assign(t){this!==t&&(q(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ja(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return w(function*(){let r=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield wh(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return w(function*(){const e=yield t.getIdToken();return yield Ys(t,function Gie(n,t){return zC.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,a,l,c,u;const d=null!==(i=e.displayName)&&void 0!==i?i:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,g=null!==(s=e.phoneNumber)&&void 0!==s?s:void 0,b=null!==(o=e.photoURL)&&void 0!==o?o:void 0,T=null!==(a=e.tenantId)&&void 0!==a?a:void 0,E=null!==(l=e._redirectEventId)&&void 0!==l?l:void 0,D=null!==(c=e.createdAt)&&void 0!==c?c:void 0,M=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:A,emailVerified:O,isAnonymous:W,providerData:K,stsTokenManager:be}=e;q(A&&be,t,"internal-error");const Ve=Ch.fromJSON(this.name,be);q("string"==typeof A,t,"internal-error"),Lo(d,t.name),Lo(h,t.name),q("boolean"==typeof O,t,"internal-error"),q("boolean"==typeof W,t,"internal-error"),Lo(g,t.name),Lo(b,t.name),Lo(T,t.name),Lo(E,t.name),Lo(D,t.name),Lo(M,t.name);const Xe=new ja({uid:A,auth:t,email:h,emailVerified:O,displayName:d,isAnonymous:W,photoURL:b,phoneNumber:g,tenantId:T,stsTokenManager:Ve,createdAt:D,lastLoginAt:M});return K&&Array.isArray(K)&&(Xe.providerData=K.map(zt=>Object.assign({},zt))),E&&(Xe._redirectEventId=E),Xe}static _fromIdTokenResponse(t,e,i=!1){return w(function*(){const r=new Ch;r.updateFromServerResponse(e);const s=new ja({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield wh(s),s})()}}const sN=new Map;function er(n){Gr(n instanceof Function,"Expected a class definition");let t=sN.get(n);return t?(Gr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,sN.set(n,t),t)}const Mc=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(function*(){return!0})()}_set(e,i){var r=this;return w(function*(){r.storage[e]=i})()}_get(e){var i=this;return w(function*(){const r=i.storage[e];return void 0===r?null:r})()}_remove(e){var i=this;return w(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function Ga(n,t,e){return`firebase:${n}:${t}:${e}`}class Rc{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Ga(this.userKey,r.apiKey,s),this.fullPersistenceKey=Ga("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return w(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?ja._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return w(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return w(function*(){if(!e.length)return new Rc(er(Mc),t,i);const r=(yield Promise.all(e.map(function(){var c=w(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=r[0]||er(Mc);const o=Ga(i,t.config.apiKey,t.name);let a=null;for(const c of e)try{const u=yield c._get(o);if(u){const d=ja._fromJSON(t,u);c!==s&&(a=d),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(function(){var c=w(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Rc(s,t,i)):new Rc(s,t,i)})()}}function oN(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(cN(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(aN(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(uN(t))return"Blackberry";if(dN(t))return"Webos";if(ZC(t))return"Safari";if((t.includes("chrome/")||lN(t))&&!t.includes("edge/"))return"Chrome";if(Ih(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function aN(n=Mt()){return/firefox\//i.test(n)}function ZC(n=Mt()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function lN(n=Mt()){return/crios\//i.test(n)}function cN(n=Mt()){return/iemobile/i.test(n)}function Ih(n=Mt()){return/android/i.test(n)}function uN(n=Mt()){return/blackberry/i.test(n)}function dN(n=Mt()){return/webos/i.test(n)}function Pc(n=Mt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hN(n=Mt()){return Pc(n)||Ih(n)||dN(n)||uN(n)||/windows phone/i.test(n)||cN(n)}function pN(n,t=[]){let e;switch(n){case"Browser":e=oN(Mt());break;case"Worker":e=`${oN(Mt())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ks}/${i}`}class ore{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((o,a)=>{try{o(t(s))}catch(l){a(l)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return w(function*(){if(e.auth.currentUser===t)return;const i=[];try{for(const r of e.queue)yield r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function JC(){return(JC=w(function*(n,t={}){return Kt(n,"GET","/v2/passwordPolicy",Vt(n,t))})).apply(this,arguments)}class cre{constructor(t){var e,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=o.minPasswordLength)&&void 0!==e?e:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=t.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=t.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=null===(e=l.meetsMinPasswordLength)||void 0===e||e),l.isValid&&(l.isValid=null===(i=l.meetsMaxPasswordLength)||void 0===i||i),l.isValid&&(l.isValid=null===(r=l.containsLowercaseLetter)||void 0===r||r),l.isValid&&(l.isValid=null===(s=l.containsUppercaseLetter)||void 0===s||s),l.isValid&&(l.isValid=null===(o=l.containsNumericCharacter)||void 0===o||o),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let i;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}class ure{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fN(this),this.idTokenSubscription=new fN(this),this.beforeStateQueue=new ore(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=er(e)),this._initializationPromise=this.queue(w(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield Rc.create(i,t),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return w(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUser(t){var e=this;return w(function*(){var i;const r=yield e.assertedPersistence.getCurrentUser();let s=r,o=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const a=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,l=s?._redirectEventId,c=yield e.tryRedirectSignIn(t);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return e.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield e.beforeStateQueue.runMiddleware(s)}catch(a){s=r,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(a))}return s?e.reloadAndSetCurrentUserOrClear(s):e.directlySetCurrentUser(null)}return q(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===s._redirectEventId?e.directlySetCurrentUser(s):e.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(t){var e=this;return w(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return w(function*(){try{yield wh(t)}catch(i){if("auth/network-request-failed"!==i?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function Bie(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return w(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return w(function*(){const i=t?pe(t):null;return i&&q(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t,e=!1){var i=this;return w(function*(){if(!i._deleted)return t&&q(i.tenantId===t.tenantId,i,"tenant-id-mismatch"),e||(yield i.beforeStateQueue.runMiddleware(t)),i.queue(w(function*(){yield i.directlySetCurrentUser(t),i.notifyAuthListeners()}))})()}signOut(){var t=this;return w(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var e=this;return this.queue(w(function*(){yield e.assertedPersistence.setPersistence(er(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return w(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const i=e._getPasswordPolicyInternal();return i.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return w(function*(){const e=yield function are(n){return JC.apply(this,arguments)}(t),i=new cre(e);null===t.tenantId?t._projectPasswordPolicy=i:t._tenantPasswordPolicies[t.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ha("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return w(function*(){const r=yield i.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return w(function*(){if(!e.redirectPersistenceManager){const i=t&&er(t)||e._popupRedirectResolver;q(i,e,"argument-error"),e.redirectPersistenceManager=yield Rc.create(e,[er(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return w(function*(){var i,r;return e._isInitialized&&(yield e.queue(w(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return w(function*(){if(t===e.currentUser)return e.queue(w(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s="function"==typeof e?e:e.next.bind(e);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof e){const l=t.addObserver(e,i,r);return()=>{o=!0,l()}}{const l=t.addObserver(e);return()=>{o=!0,l()}}}directlySetCurrentUser(t){var e=this;return w(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=pN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return w(function*(){var e;const i={"X-Client-Version":t.clientVersion};t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId);const r=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const s=yield t._getAppCheckToken();return s&&(i["X-Firebase-AppCheck"]=s),i})()}_getAppCheckToken(){var t=this;return w(function*(){var e;const i=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return i?.error&&function Nie(n,...t){Dg.logLevel<=Ke.WARN&&Dg.warn(`Auth (${Ks}): ${n}`,...t)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Bt(n){return pe(n)}class fN{constructor(t){this.auth=t,this.observer=null,this.addObserver=SL(e=>this.observer=e)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function XC(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const s=Yn("internal-error");s.customData=r,e(s)},i.type="text/javascript",i.charset="UTF-8",function dre(){var n,t;return null!==(t=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==t?t:document}().appendChild(i)})}function mN(n){return`__${n}${Math.floor(1e6*Math.random())}`}class gN{constructor(t){this.type="recaptcha-enterprise",this.auth=Bt(t)}verify(t="verify",e=!1){var i=this;return w(function*(){function s(){return s=w(function*(a){if(!e){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=w(function*(c,u){iN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new nN(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,l,c){const u=window.grecaptcha;tN(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:t}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function r(a){return s.apply(this,arguments)})(i.auth).then(c=>{if(!e&&tN(window.grecaptcha))o(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));XC("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}function _N(n,t,e){return eI.apply(this,arguments)}function eI(){return(eI=w(function*(n,t,e,i=!1){const r=new gN(n);let s;try{s=yield r.verify(e)}catch{s=yield r.verify(e,!0)}const o=Object.assign({},t);return Object.assign(o,i?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function Mg(n,t,e,i){return tI.apply(this,arguments)}function tI(){return tI=w(function*(n,t,e,i){var r;if(null!==(r=n._getRecaptchaConfig())&&void 0!==r&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield _N(n,t,e,"getOobCode"===e);return i(n,s)}return i(n,t).catch(function(){var s=w(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield _N(n,t,e,"getOobCode"===e);return i(n,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),tI.apply(this,arguments)}function vN(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function bN(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}class Oc{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return os("not implemented")}_getIdTokenResponse(t){return os("not implemented")}_linkToIdToken(t,e){return os("not implemented")}_getReauthenticationResolver(t){return os("not implemented")}}function wN(n,t){return iI.apply(this,arguments)}function iI(){return(iI=w(function*(n,t){return Kt(n,"POST","/v1/accounts:resetPassword",Vt(n,t))})).apply(this,arguments)}function CN(n,t){return rI.apply(this,arguments)}function rI(){return(rI=w(function*(n,t){return Kt(n,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function bre(n,t){return sI.apply(this,arguments)}function sI(){return(sI=w(function*(n,t){return Kt(n,"POST","/v1/accounts:update",Vt(n,t))})).apply(this,arguments)}function wre(n,t){return oI.apply(this,arguments)}function oI(){return(oI=w(function*(n,t){return Qs(n,"POST","/v1/accounts:signInWithPassword",Vt(n,t))})).apply(this,arguments)}function Rg(n,t){return aI.apply(this,arguments)}function aI(){return(aI=w(function*(n,t){return Kt(n,"POST","/v1/accounts:sendOobCode",Vt(n,t))})).apply(this,arguments)}function Cre(n,t){return lI.apply(this,arguments)}function lI(){return(lI=w(function*(n,t){return Rg(n,t)})).apply(this,arguments)}function Ire(n,t){return cI.apply(this,arguments)}function cI(){return(cI=w(function*(n,t){return Rg(n,t)})).apply(this,arguments)}function Tre(n,t){return uI.apply(this,arguments)}function uI(){return(uI=w(function*(n,t){return Rg(n,t)})).apply(this,arguments)}function Ere(n,t){return dI.apply(this,arguments)}function dI(){return(dI=w(function*(n,t){return Rg(n,t)})).apply(this,arguments)}function hI(){return(hI=w(function*(n,t){return Qs(n,"POST","/v1/accounts:signInWithEmailLink",Vt(n,t))})).apply(this,arguments)}function pI(){return(pI=w(function*(n,t){return Qs(n,"POST","/v1/accounts:signInWithEmailLink",Vt(n,t))})).apply(this,arguments)}class Th extends Oc{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Th(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Th(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if(e?.email&&e?.password){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){var e=this;return w(function*(){switch(e.signInMethod){case"password":return Mg(t,{returnSecureToken:!0,email:e._email,password:e._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",wre);case"emailLink":return function Sre(n,t){return hI.apply(this,arguments)}(t,{email:e._email,oobCode:e._password});default:Nn(t,"internal-error")}})()}_linkToIdToken(t,e){var i=this;return w(function*(){switch(i.signInMethod){case"password":return CN(t,{idToken:e,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function xre(n,t){return pI.apply(this,arguments)}(t,{idToken:e,email:i._email,oobCode:i._password});default:Nn(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function Zs(n,t){return fI.apply(this,arguments)}function fI(){return(fI=w(function*(n,t){return Qs(n,"POST","/v1/accounts:signInWithIdp",Vt(n,t))})).apply(this,arguments)}class as extends Oc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new as(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Nn("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,s=bf(e,["providerId","signInMethod"]);if(!i||!r)return null;const o=new as(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){return Zs(t,this.buildRequest())}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Zs(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Zs(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=xc(e)}return t}}function Are(n,t){return mI.apply(this,arguments)}function mI(){return(mI=w(function*(n,t){return Kt(n,"POST","/v1/accounts:sendVerificationCode",Vt(n,t))})).apply(this,arguments)}function gI(){return(gI=w(function*(n,t){return Qs(n,"POST","/v1/accounts:signInWithPhoneNumber",Vt(n,t))})).apply(this,arguments)}function _I(){return(_I=w(function*(n,t){const e=yield Qs(n,"POST","/v1/accounts:signInWithPhoneNumber",Vt(n,t));if(e.temporaryProof)throw vh(n,"account-exists-with-different-credential",e);return e})).apply(this,arguments)}const Rre={USER_NOT_FOUND:"user-not-found"};function yI(){return(yI=w(function*(n,t){return Qs(n,"POST","/v1/accounts:signInWithPhoneNumber",Vt(n,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Rre)})).apply(this,arguments)}class qa extends Oc{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new qa({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new qa({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return function kre(n,t){return gI.apply(this,arguments)}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return function Mre(n,t){return _I.apply(this,arguments)}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return function Pre(n,t){return yI.apply(this,arguments)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:i,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:i,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:i,phoneNumber:r,temporaryProof:s}=t;return i||e||r||s?new qa({verificationId:e,verificationCode:i,phoneNumber:r,temporaryProof:s}):null}}class Eh{constructor(t){var e,i,r,s,o,a;const l=Dc(ph(t)),c=null!==(e=l.apiKey)&&void 0!==e?e:null,u=null!==(i=l.oobCode)&&void 0!==i?i:null,d=function Ore(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);q(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function Fre(n){const t=Dc(ph(n)).link,e=t?Dc(ph(t)).deep_link_id:null,i=Dc(ph(n)).deep_link_id;return(i?Dc(ph(i)).link:null)||i||e||t||n}(t);try{return new Eh(e)}catch{return null}}}let vI=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,i){return Th._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Eh.parseLink(i);return q(r,"argument-error"),Th._fromEmailAndCode(e,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Js{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Fc extends Js{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Lc extends Fc{static credentialFromJSON(t){const e="string"==typeof t?JSON.parse(t):t;return q("providerId"in e&&"signInMethod"in e,"argument-error"),as._fromParams(e)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return q(t.idToken||t.accessToken,"argument-error"),as._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return Lc.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return Lc.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:s,nonce:o,providerId:a}=t;if(!i&&!r&&!e&&!s||!a)return null;try{return new Lc(a)._credential({idToken:e,accessToken:i,nonce:o,pendingToken:s})}catch{return null}}}let IN=(()=>{class n extends Fc{constructor(){super("facebook.com")}static credential(e){return as._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return n.credential(e.oauthAccessToken)}catch{return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),TN=(()=>{class n extends Fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return as._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return n.credential(i,r)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),EN=(()=>{class n extends Fc{constructor(){super("github.com")}static credential(e){return as._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return n.credential(e.oauthAccessToken)}catch{return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class Nc extends Oc{constructor(t,e){super(t,t),this.pendingToken=e}_getIdTokenResponse(t){return Zs(t,this.buildRequest())}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Zs(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Zs(t,e)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:i,signInMethod:r,pendingToken:s}=e;return i&&r&&s&&i===r?new Nc(i,s):null}static _create(t,e){return new Nc(t,e)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pg extends Js{constructor(t){q(t.startsWith("saml."),"argument-error"),super(t)}static credentialFromResult(t){return Pg.samlCredentialFromTaggedObject(t)}static credentialFromError(t){return Pg.samlCredentialFromTaggedObject(t.customData||{})}static credentialFromJSON(t){const e=Nc.fromJSON(t);return q(e,"argument-error"),e}static samlCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{pendingToken:e,providerId:i}=t;if(!e||!i)return null;try{return Nc._create(i,e)}catch{return null}}}let SN=(()=>{class n extends Fc{constructor(){super("twitter.com")}static credential(e,i){return as._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return n.credential(i,r)}catch{return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();function xN(n,t){return bI.apply(this,arguments)}function bI(){return(bI=w(function*(n,t){return Qs(n,"POST","/v1/accounts:signUp",Vt(n,t))})).apply(this,arguments)}class br{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,i,r=!1){return w(function*(){const s=yield ja._fromIdTokenResponse(t,i,r),o=DN(i);return new br({user:s,providerId:o,_tokenResponse:i,operationType:e})})()}static _forOperation(t,e,i){return w(function*(){yield t._updateTokensIfNecessary(i,!0);const r=DN(i);return new br({user:t,providerId:r,_tokenResponse:i,operationType:e})})()}}function DN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function wI(){return(wI=w(function*(n){var t;const e=Bt(n);if(yield e._initializationPromise,null!==(t=e.currentUser)&&void 0!==t&&t.isAnonymous)return new br({user:e.currentUser,providerId:null,operationType:"signIn"});const i=yield xN(e,{returnSecureToken:!0}),r=yield br._fromIdTokenResponse(e,"signIn",i,!0);return yield e._updateCurrentUser(r.user),r})).apply(this,arguments)}class Og extends ci{constructor(t,e,i,r){var s;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Og.prototype),this.customData={appName:t.name,tenantId:null!==(s=t.tenantId)&&void 0!==s?s:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Og(t,e,i,r)}}function AN(n,t,e,i){return("reauthenticate"===t?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Og._fromErrorAndOperation(n,s,t,i):s})}function kN(n){return new Set(n.map(({providerId:t})=>t).filter(t=>!!t))}function CI(){return(CI=w(function*(n,t){const e=pe(n);yield Fg(!0,e,t);const{providerUserInfo:i}=yield qie(e.auth,{idToken:yield e.getIdToken(),deleteProvider:[t]}),r=kN(i||[]);return e.providerData=e.providerData.filter(s=>r.has(s.providerId)),r.has("phone")||(e.phoneNumber=null),yield e.auth._persistUserIfCurrent(e),e})).apply(this,arguments)}function II(n,t){return TI.apply(this,arguments)}function TI(){return(TI=w(function*(n,t,e=!1){const i=yield Ys(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return br._forOperation(n,"link",i)})).apply(this,arguments)}function Fg(n,t,e){return EI.apply(this,arguments)}function EI(){return(EI=w(function*(n,t,e){yield wh(t);const r=!1===n?"provider-already-linked":"no-such-provider";q(kN(t.providerData).has(e)===n,t.auth,r)})).apply(this,arguments)}function MN(n,t){return SI.apply(this,arguments)}function SI(){return(SI=w(function*(n,t,e=!1){const{auth:i}=n,r="reauthenticate";try{const s=yield Ys(n,AN(i,r,t,n),e);q(s.idToken,i,"internal-error");const o=kg(s.idToken);q(o,i,"internal-error");const{sub:a}=o;return q(n.uid===a,i,"user-mismatch"),br._forOperation(n,r,s)}catch(s){throw"auth/user-not-found"===s?.code&&Nn(i,"user-mismatch"),s}})).apply(this,arguments)}function RN(n,t){return xI.apply(this,arguments)}function xI(){return(xI=w(function*(n,t,e=!1){const i="signIn",r=yield AN(n,i,t),s=yield br._fromIdTokenResponse(n,i,r);return e||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Lg(n,t){return DI.apply(this,arguments)}function DI(){return(DI=w(function*(n,t){return RN(Bt(n),t)})).apply(this,arguments)}function PN(n,t){return AI.apply(this,arguments)}function AI(){return(AI=w(function*(n,t){const e=pe(n);return yield Fg(!1,e,t.providerId),II(e,t)})).apply(this,arguments)}function ON(n,t){return kI.apply(this,arguments)}function kI(){return(kI=w(function*(n,t){return MN(pe(n),t)})).apply(this,arguments)}function Ure(n,t){return MI.apply(this,arguments)}function MI(){return(MI=w(function*(n,t){return Qs(n,"POST","/v1/accounts:signInWithCustomToken",Vt(n,t))})).apply(this,arguments)}function RI(){return(RI=w(function*(n,t){const e=Bt(n),i=yield Ure(e,{token:t,returnSecureToken:!0}),r=yield br._fromIdTokenResponse(e,"signIn",i);return yield e._updateCurrentUser(r.user),r})).apply(this,arguments)}class Sh{constructor(t,e){this.factorId=t,this.uid=e.mfaEnrollmentId,this.enrollmentTime=new Date(e.enrolledAt).toUTCString(),this.displayName=e.displayName}static _fromServerResponse(t,e){return"phoneInfo"in e?PI._fromServerResponse(t,e):"totpInfo"in e?OI._fromServerResponse(t,e):Nn(t,"internal-error")}}class PI extends Sh{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,e){return new PI(e)}}class OI extends Sh{constructor(t){super("totp",t)}static _fromServerResponse(t,e){return new OI(e)}}function Ng(n,t,e){var i;q((null===(i=e.url)||void 0===i?void 0:i.length)>0,n,"invalid-continue-uri"),q(typeof e.dynamicLinkDomain>"u"||e.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),t.continueUrl=e.url,t.dynamicLinkDomain=e.dynamicLinkDomain,t.canHandleCodeInApp=e.handleCodeInApp,e.iOS&&(q(e.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),t.iOSBundleId=e.iOS.bundleId),e.android&&(q(e.android.packageName.length>0,n,"missing-android-pkg-name"),t.androidInstallApp=e.android.installApp,t.androidMinimumVersionCode=e.android.minimumVersion,t.androidPackageName=e.android.packageName)}function FI(n){return LI.apply(this,arguments)}function LI(){return(LI=w(function*(n){const t=Bt(n);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})).apply(this,arguments)}function NI(){return(NI=w(function*(n,t,e){const i=Bt(n),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};e&&Ng(i,r,e),yield Mg(i,r,"getOobCode",Ire)})).apply(this,arguments)}function VI(){return VI=w(function*(n,t,e){yield wN(pe(n),{oobCode:t,newPassword:e}).catch(function(){var i=w(function*(r){throw"auth/password-does-not-meet-requirements"===r.code&&FI(n),r});return function(r){return i.apply(this,arguments)}}())}),VI.apply(this,arguments)}function BI(){return(BI=w(function*(n,t){yield bre(pe(n),{oobCode:t})})).apply(this,arguments)}function FN(n,t){return UI.apply(this,arguments)}function UI(){return(UI=w(function*(n,t){const e=pe(n),i=yield wN(e,{oobCode:t}),r=i.requestType;switch(q(r,e,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(i.newEmail,e,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(i.mfaInfo,e,"internal-error");default:q(i.email,e,"internal-error")}let s=null;return i.mfaInfo&&(s=Sh._fromServerResponse(Bt(e),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:s},operation:r}})).apply(this,arguments)}function HI(){return(HI=w(function*(n,t){const{data:e}=yield FN(pe(n),t);return e.email})).apply(this,arguments)}function zI(){return(zI=w(function*(n,t,e){const i=Bt(n),o=yield Mg(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xN).catch(l=>{throw"auth/password-does-not-meet-requirements"===l.code&&FI(n),l}),a=yield br._fromIdTokenResponse(i,"signIn",o);return yield i._updateCurrentUser(a.user),a})).apply(this,arguments)}function $I(){return($I=w(function*(n,t,e){const i=Bt(n),r={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};(function s(o,a){q(a.handleCodeInApp,i,"argument-error"),a&&Ng(i,o,a)})(r,e),yield Mg(i,r,"getOobCode",Tre)})).apply(this,arguments)}function jI(){return(jI=w(function*(n,t,e){const i=pe(n),r=vI.credentialWithLink(t,e||_h());return q(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Lg(i,r)})).apply(this,arguments)}function Zre(n,t){return GI.apply(this,arguments)}function GI(){return(GI=w(function*(n,t){return Kt(n,"POST","/v1/accounts:createAuthUri",Vt(n,t))})).apply(this,arguments)}function qI(){return(qI=w(function*(n,t){const i={identifier:t,continueUri:FC()?_h():"http://localhost"},{signinMethods:r}=yield Zre(pe(n),i);return r||[]})).apply(this,arguments)}function WI(){return(WI=w(function*(n,t){const e=pe(n),r={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};t&&Ng(e.auth,r,t);const{email:s}=yield Cre(e.auth,r);s!==n.email&&(yield n.reload())})).apply(this,arguments)}function KI(){return(KI=w(function*(n,t,e){const i=pe(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:t};e&&Ng(i.auth,s,e);const{email:o}=yield Ere(i.auth,s);o!==n.email&&(yield n.reload())})).apply(this,arguments)}function tse(n,t){return QI.apply(this,arguments)}function QI(){return(QI=w(function*(n,t){return Kt(n,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function YI(){return(YI=w(function*(n,{displayName:t,photoURL:e}){if(void 0===t&&void 0===e)return;const i=pe(n),s={idToken:yield i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},o=yield Ys(i,tse(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:l})=>"password"===l);a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),yield i._updateTokensIfNecessary(o)})).apply(this,arguments)}function LN(n,t,e){return ZI.apply(this,arguments)}function ZI(){return(ZI=w(function*(n,t,e){const{auth:i}=n,s={idToken:yield n.getIdToken(),returnSecureToken:!0};t&&(s.email=t),e&&(s.password=e);const o=yield Ys(n,CN(i,s));yield n._updateTokensIfNecessary(o,!0)})).apply(this,arguments)}class Vc{constructor(t,e,i={}){this.isNewUser=t,this.providerId=e,this.profile=i}}class NN extends Vc{constructor(t,e,i,r){super(t,e,i),this.username=r}}class ose extends Vc{constructor(t,e){super(t,"facebook.com",e)}}class ase extends NN{constructor(t,e){super(t,"github.com",e,"string"==typeof e?.login?e?.login:null)}}class lse extends Vc{constructor(t,e){super(t,"google.com",e)}}class cse extends NN{constructor(t,e,i){super(t,"twitter.com",e,i)}}function use(n){const{user:t,_tokenResponse:e}=n;return t.isAnonymous&&!e?{providerId:null,isNewUser:!1,profile:null}:function sse(n){var t,e;if(!n)return null;const{providerId:i}=n,r=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!i&&n?.idToken){const o=null===(e=null===(t=kg(n.idToken))||void 0===t?void 0:t.firebase)||void 0===e?void 0:e.sign_in_provider;if(o)return new Vc(s,"anonymous"!==o&&"custom"!==o?o:null)}if(!i)return null;switch(i){case"facebook.com":return new ose(s,r);case"github.com":return new ase(s,r);case"google.com":return new lse(s,r);case"twitter.com":return new cse(s,r,n.screenName||null);case"custom":case"anonymous":return new Vc(s,null);default:return new Vc(s,i,r)}}(e)}class Wa{constructor(t,e,i){this.type=t,this.credential=e,this.user=i}static _fromIdtoken(t,e){return new Wa("enroll",t,e)}static _fromMfaPendingCredential(t){return new Wa("signin",t)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(t){var e,i;if(t?.multiFactorSession){if(null!==(e=t.multiFactorSession)&&void 0!==e&&e.pendingCredential)return Wa._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null!==(i=t.multiFactorSession)&&void 0!==i&&i.idToken)return Wa._fromIdtoken(t.multiFactorSession.idToken)}return null}}class eT{constructor(t,e,i){this.session=t,this.hints=e,this.signInResolver=i}static _fromError(t,e){const i=Bt(t),r=e.customData._serverResponse,s=(r.mfaInfo||[]).map(a=>Sh._fromServerResponse(i,a));q(r.mfaPendingCredential,i,"internal-error");const o=Wa._fromMfaPendingCredential(r.mfaPendingCredential);return new eT(o,s,function(){var a=w(function*(l){const c=yield l._process(i,o);delete r.mfaInfo,delete r.mfaPendingCredential;const u=Object.assign(Object.assign({},r),{idToken:c.idToken,refreshToken:c.refreshToken});switch(e.operationType){case"signIn":const d=yield br._fromIdTokenResponse(i,e.operationType,u);return yield i._updateCurrentUser(d.user),d;case"reauthenticate":return q(e.user,i,"internal-error"),br._forOperation(e.user,e.operationType,u);default:Nn(i,"internal-error")}});return function(l){return a.apply(this,arguments)}}())}resolveSignIn(t){var e=this;return w(function*(){return e.signInResolver(t)})()}}function fse(n,t){return Kt(n,"POST","/v2/accounts/mfaEnrollment:start",Vt(n,t))}class tT{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload(e=>{e.mfaInfo&&(this.enrolledFactors=e.mfaInfo.map(i=>Sh._fromServerResponse(t.auth,i)))})}static _fromUser(t){return new tT(t)}getSession(){var t=this;return w(function*(){return Wa._fromIdtoken(yield t.user.getIdToken(),t.user)})()}enroll(t,e){var i=this;return w(function*(){const r=t,s=yield i.getSession(),o=yield Ys(i.user,r._process(i.user.auth,s,e));return yield i.user._updateTokensIfNecessary(o),i.user.reload()})()}unenroll(t){var e=this;return w(function*(){const i="string"==typeof t?t:t.uid,r=yield e.user.getIdToken();try{const s=yield Ys(e.user,function _se(n,t){return Kt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Vt(n,t))}(e.user.auth,{idToken:r,mfaEnrollmentId:i}));e.enrolledFactors=e.enrolledFactors.filter(({uid:o})=>o!==i),yield e.user._updateTokensIfNecessary(s),yield e.user.reload()}catch(s){throw s}})()}}const nT=new WeakMap,Vg="__sak";class VN{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Vg,"1"),this.storage.removeItem(Vg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bg=(()=>{class n extends VN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function vse(){const n=Mt();return ZC(n)||Pc(n)}()&&function sre(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=hN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),s=this.localCache[i];r!==s&&e(i,s,r)}}onStorageEvent(e,i=!1){if(!e.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const r=e.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!i)return}const s=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);!function rre(){return CL()&&10===document.documentMode}()||o===e.newValue||e.newValue===e.oldValue?s():setTimeout(s,10)}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,i){var r=()=>super._set,s=this;return w(function*(){yield r().call(s,e,i),s.localCache[e]=JSON.stringify(i)})()}_get(e){var i=()=>super._get,r=this;return w(function*(){const s=yield i().call(r,e);return r.localCache[e]=JSON.stringify(s),s})()}_remove(e){var i=()=>super._remove,r=this;return w(function*(){yield i().call(r,e),delete r.localCache[e]})()}}return n.type="LOCAL",n})(),No=(()=>{class n extends VN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}return n.type="SESSION",n})();let Ise=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(s=>s.isListeningto(e));if(i)return i;const r=new n(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var i=this;return w(function*(){const r=e,{eventId:s,eventType:o,data:a}=r.data,l=i.handlersMap[o];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=w(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Cse(n){return Promise.all(n.map(function(){var t=w(function*(e){try{return{fulfilled:!0,value:yield e}}catch(i){return{fulfilled:!1,reason:i}}});return function(e){return t.apply(this,arguments)}}()))}(c);r.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(e,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function xh(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(10*Math.random());return n+e}class Tse{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,i=50){var r=this;return w(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=xh("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(h){const g=h;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(g.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},r.handlers.add(a),s.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:t,eventId:u,data:e},[s.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function In(){return window}function iT(){return typeof In().WorkerGlobalScope<"u"&&"function"==typeof In().importScripts}function rT(){return(rT=w(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const BN="firebaseLocalStorageDb",Ug="firebaseLocalStorage",UN="fbase_key";class Dh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Hg(n,t){return n.transaction([Ug],t?"readwrite":"readonly").objectStore(Ug)}function sT(){const n=indexedDB.open(BN,1);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ug,{keyPath:UN})}catch(r){e(r)}}),n.addEventListener("success",w(function*(){const i=n.result;i.objectStoreNames.contains(Ug)?t(i):(i.close(),yield function kse(){const n=indexedDB.deleteDatabase(BN);return new Dh(n).toPromise()}(),t(yield sT()))}))})}function HN(n,t,e){return oT.apply(this,arguments)}function oT(){return(oT=w(function*(n,t,e){const i=Hg(n,!0).put({[UN]:t,value:e});return new Dh(i).toPromise()})).apply(this,arguments)}function aT(){return(aT=w(function*(n,t){const e=Hg(n,!1).get(t),i=yield new Dh(e).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function zN(n,t){const e=Hg(n,!0).delete(t);return new Dh(e).toPromise()}const Bc=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return w(function*(){return e.db||(e.db=yield sT()),e.db})()}_withRetries(e){var i=this;return w(function*(){let r=0;for(;;)try{const s=yield i._openDb();return yield e(s)}catch(s){if(r++>3)throw s;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return w(function*(){return iT()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return w(function*(){e.receiver=Ise._getInstance(function Dse(){return iT()?self:null}()),e.receiver._subscribe("keyChanged",function(){var i=w(function*(r,s){return{keyProcessed:(yield e._poll()).includes(s.key)}});return function(r,s){return i.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var i=w(function*(r,s){return["keyChanged"]});return function(r,s){return i.apply(this,arguments)}}())})()}initializeSender(){var e=this;return w(function*(){var i,r;if(e.activeServiceWorker=yield function Sse(){return rT.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new Tse(e.activeServiceWorker);const s=yield e.sender._send("ping",{},800);!s||(null===(i=s[0])||void 0===i?void 0:i.fulfilled)&&(null===(r=s[0])||void 0===r?void 0:r.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var i=this;return w(function*(){if(i.sender&&i.activeServiceWorker&&function xse(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:e},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return w(function*(){try{if(!indexedDB)return!1;const e=yield sT();return yield HN(e,Vg,"1"),yield zN(e,Vg),!0}catch{}return!1})()}_withPendingWrite(e){var i=this;return w(function*(){i.pendingWrites++;try{yield e()}finally{i.pendingWrites--}})()}_set(e,i){var r=this;return w(function*(){return r._withPendingWrite(w(function*(){return yield r._withRetries(s=>HN(s,e,i)),r.localCache[e]=i,r.notifyServiceWorker(e)}))})()}_get(e){var i=this;return w(function*(){const r=yield i._withRetries(s=>function Mse(n,t){return aT.apply(this,arguments)}(s,e));return i.localCache[e]=r,r})()}_remove(e){var i=this;return w(function*(){return i._withPendingWrite(w(function*(){return yield i._withRetries(r=>zN(r,e)),delete i.localCache[e],i.notifyServiceWorker(e)}))})()}_poll(){var e=this;return w(function*(){const i=yield e._withRetries(o=>{const a=Hg(o,!1).getAll();return new Dh(a).toPromise()});if(!i)return[];if(0!==e.pendingWrites)return[];const r=[],s=new Set;for(const{fbase_key:o,value:a}of i)s.add(o),JSON.stringify(e.localCache[o])!==JSON.stringify(a)&&(e.notifyListeners(o,a),r.push(o));for(const o of Object.keys(e.localCache))e.localCache[o]&&!s.has(o)&&(e.notifyListeners(o,null),r.push(o));return r})()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(i)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval(w(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Ose(n,t){return Kt(n,"POST","/v2/accounts/mfaSignIn:start",Vt(n,t))}const zg=1e12;class Bse{constructor(t){this.auth=t,this.counter=zg,this._widgets=new Map}render(t,e){const i=this.counter;return this._widgets.set(i,new Use(t,this.auth.name,e||{})),this.counter++,i}reset(t){var e;const i=t||zg;null===(e=this._widgets.get(i))||void 0===e||e.delete(),this._widgets.delete(i)}getResponse(t){var e;return(null===(e=this._widgets.get(t||zg))||void 0===e?void 0:e.getResponse())||""}execute(t){var e=this;return w(function*(){var i;return null===(i=e._widgets.get(t||zg))||void 0===i||i.execute(),""})()}}class Use{constructor(t,e,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof t?document.getElementById(t):t;q(r,"argument-error",{appName:e}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Hse(n){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<n;i++)t.push(e.charAt(Math.floor(Math.random()*e.length)));return t.join("")}(50);const{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const lT=mN("rcb"),zse=new yh(3e4,6e4);class jse{constructor(){var t;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(t=In().grecaptcha)||void 0===t||!t.render)}load(t,e=""){return q(function Gse(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}(e),t,"argument-error"),this.shouldResolveImmediately(e)&&eN(In().grecaptcha)?Promise.resolve(In().grecaptcha):new Promise((i,r)=>{const s=In().setTimeout(()=>{r(Yn(t,"network-request-failed"))},zse.get());In()[lT]=()=>{In().clearTimeout(s),delete In()[lT];const a=In().grecaptcha;if(!a||!eN(a))return void r(Yn(t,"internal-error"));const l=a.render;a.render=(c,u)=>{const d=l(c,u);return this.counter++,d},this.hostLanguage=e,i(a)},XC(`https://www.google.com/recaptcha/api.js??${xc({onload:lT,render:"explicit",hl:e})}`).catch(()=>{clearTimeout(s),r(Yn(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){var e;return!(null===(e=In().grecaptcha)||void 0===e||!e.render)&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qse{load(t){return w(function*(){return new Bse(t)})()}clearedOneInstance(){}}const $N="recaptcha",Wse={theme:"light",type:"image"};class Kse{constructor(t,e,i=Object.assign({},Wse)){this.parameters=i,this.type=$N,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bt(t),this.isInvisible="invisible"===this.parameters.size,q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;q(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qse:new jse,this.validateStartingState()}verify(){var t=this;return w(function*(){t.assertNotDestroyed();const e=yield t.render(),i=t.getAssertedRecaptcha();return i.getResponse(e)||new Promise(s=>{const o=a=>{!a||(t.tokenChangeListeners.delete(o),s(a))};t.tokenChangeListeners.add(o),t.isInvisible&&i.execute(e)})})()}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach(i=>i(e)),"function"==typeof t)t(e);else if("string"==typeof t){const i=In()[t];"function"==typeof i&&i(e)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var t=this;return w(function*(){if(yield t.init(),!t.widgetId){let e=t.container;if(!t.isInvisible){const i=document.createElement("div");e.appendChild(i),e=i}t.widgetId=t.getAssertedRecaptcha().render(e,t.parameters)}return t.widgetId})()}init(){var t=this;return w(function*(){q(FC()&&!iT(),t.auth,"internal-error"),yield function Qse(){let n=null;return new Promise(t=>{"complete"!==document.readyState?(n=()=>t(),window.addEventListener("load",n)):t()}).catch(t=>{throw n&&window.removeEventListener("load",n),t})}(),t.recaptcha=yield t._recaptchaLoader.load(t.auth,t.auth.languageCode||void 0);const e=yield function jie(n){return UC.apply(this,arguments)}(t.auth);q(e,t.auth,"internal-error"),t.parameters.sitekey=e})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class cT{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){const e=qa._fromVerification(this.verificationId,t);return this.onConfirmation(e)}}function uT(){return(uT=w(function*(n,t,e){const i=Bt(n),r=yield $g(i,t,pe(e));return new cT(r,s=>Lg(i,s))})).apply(this,arguments)}function dT(){return(dT=w(function*(n,t,e){const i=pe(n);yield Fg(!1,i,"phone");const r=yield $g(i.auth,t,pe(e));return new cT(r,s=>PN(i,s))})).apply(this,arguments)}function hT(){return(hT=w(function*(n,t,e){const i=pe(n),r=yield $g(i.auth,t,pe(e));return new cT(r,s=>ON(i,s))})).apply(this,arguments)}function $g(n,t,e){return pT.apply(this,arguments)}function pT(){return(pT=w(function*(n,t,e){var i;const r=yield e.verify();try{let s;if(q("string"==typeof r,n,"argument-error"),q(e.type===$N,n,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const o=s.session;if("phoneNumber"in s)return q("enroll"===o.type,n,"internal-error"),(yield fse(n,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{q("signin"===o.type,n,"internal-error");const a=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;return q(a,n,"missing-multi-factor-info"),(yield Ose(n,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:o}=yield Are(n,{phoneNumber:s.phoneNumber,recaptchaToken:r});return o}}finally{e._reset()}})).apply(this,arguments)}function fT(){return(fT=w(function*(n,t){yield II(pe(n),t)})).apply(this,arguments)}let Ah=(()=>{class n{constructor(e){this.providerId=n.PROVIDER_ID,this.auth=Bt(e)}verifyPhoneNumber(e,i){return $g(this.auth,e,pe(i))}static credential(e,i){return qa._fromVerification(e,i)}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:i,temporaryProof:r}=e;return i&&r?qa._fromTokenResponse(i,r):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function Ka(n,t){return t?er(t):(q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class mT extends Oc{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Zs(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Zs(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Zs(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function eoe(n){return RN(n.auth,new mT(n),n.bypassAuthState)}function toe(n){const{auth:t,user:e}=n;return q(e,t,"internal-error"),MN(e,new mT(n),n.bypassAuthState)}function noe(n){return gT.apply(this,arguments)}function gT(){return(gT=w(function*(n){const{auth:t,user:e}=n;return q(e,t,"internal-error"),II(e,new mT(n),n.bypassAuthState)})).apply(this,arguments)}class jN{constructor(t,e,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=w(function*(i,r){t.pendingPromise={resolve:i,reject:r};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(s){t.reject(s)}});return function(i,r){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return w(function*(){const{urlResponse:i,sessionId:r,postBody:s,tenantId:o,error:a,type:l}=t;if(a)return void e.reject(a);const c={auth:e.auth,requestUri:i,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(l)(c))}catch(u){e.reject(u)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eoe;case"linkViaPopup":case"linkViaRedirect":return noe;case"reauthViaPopup":case"reauthViaRedirect":return toe;default:Nn(this.auth,"internal-error")}}resolve(t){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ioe=new yh(2e3,1e4);function _T(){return(_T=w(function*(n,t,e){const i=Bt(n);kc(n,t,Js);const r=Ka(i,e);return new bT(i,"signInViaPopup",t,r).executeNotNull()})).apply(this,arguments)}function yT(){return(yT=w(function*(n,t,e){const i=pe(n);kc(i.auth,t,Js);const r=Ka(i.auth,e);return new bT(i.auth,"reauthViaPopup",t,r,i).executeNotNull()})).apply(this,arguments)}function vT(){return(vT=w(function*(n,t,e){const i=pe(n);kc(i.auth,t,Js);const r=Ka(i.auth,e);return new bT(i.auth,"linkViaPopup",t,r,i).executeNotNull()})).apply(this,arguments)}let bT=(()=>{class n extends jN{constructor(e,i,r,s,o){super(e,i,s,o),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var e=this;return w(function*(){const i=yield e.execute();return q(i,e.auth,"internal-error"),i})()}onExecution(){var e=this;return w(function*(){Gr(1===e.filter.length,"Popup operations only handle one event");const i=xh();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],i),e.authWindow.associatedEvent=i,e.resolver._originValidation(e.auth).catch(r=>{e.reject(r)}),e.resolver._isIframeWebStorageSupported(e.auth,r=>{r||e.reject(Yn(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;this.pollId=null!==(r=null===(i=this.authWindow)||void 0===i?void 0:i.window)&&void 0!==r&&r.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(e,ioe.get())};e()}}return n.currentPopupAction=null,n})();const kh=new Map;class loe extends jN{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}execute(){var t=()=>super.execute,e=this;return w(function*(){let i=kh.get(e.auth._key());if(!i){try{const s=(yield function coe(n,t){return wT.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;i=()=>Promise.resolve(s)}catch(r){i=()=>Promise.reject(r)}kh.set(e.auth._key(),i)}return e.bypassAuthState||kh.set(e.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,i=this;return w(function*(){if("signInViaRedirect"===t.type)return e().call(i,t);if("unknown"!==t.type){if(t.eventId){const r=yield i.auth._redirectUserForId(t.eventId);if(r)return i.user=r,e().call(i,t);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return w(function*(){})()}cleanUp(){}}function wT(){return(wT=w(function*(n,t){const e=qN(t),i=GN(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(e));return yield i._remove(e),r})).apply(this,arguments)}function CT(n,t){return IT.apply(this,arguments)}function IT(){return(IT=w(function*(n,t){return GN(n)._set(qN(t),"true")})).apply(this,arguments)}function TT(n,t){kh.set(n._key(),t)}function GN(n){return er(n._redirectPersistence)}function qN(n){return Ga("pendingRedirect",n.config.apiKey,n.name)}function ET(){return(ET=w(function*(n,t,e){const i=Bt(n);kc(n,t,Js),yield i._initializationPromise;const r=Ka(i,e);return yield CT(r,i),r._openRedirect(i,t,"signInViaRedirect")})).apply(this,arguments)}function ST(){return(ST=w(function*(n,t,e){const i=pe(n);kc(i.auth,t,Js),yield i.auth._initializationPromise;const r=Ka(i.auth,e);yield CT(r,i.auth);const s=yield WN(i);return r._openRedirect(i.auth,t,"reauthViaRedirect",s)})).apply(this,arguments)}function xT(){return(xT=w(function*(n,t,e){const i=pe(n);kc(i.auth,t,Js),yield i.auth._initializationPromise;const r=Ka(i.auth,e);yield Fg(!1,i,t.providerId),yield CT(r,i.auth);const s=yield WN(i);return r._openRedirect(i.auth,t,"linkViaRedirect",s)})).apply(this,arguments)}function DT(){return(DT=w(function*(n,t){return yield Bt(n)._initializationPromise,jg(n,t,!1)})).apply(this,arguments)}function jg(n,t){return AT.apply(this,arguments)}function AT(){return(AT=w(function*(n,t,e=!1){const i=Bt(n),r=Ka(i,t),o=yield new loe(i,r,e).execute();return o&&!e&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,t)),o})).apply(this,arguments)}function WN(n){return kT.apply(this,arguments)}function kT(){return(kT=w(function*(n){const t=xh(`${n.uid}:::`);return n._redirectEventId=t,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),t})).apply(this,arguments)}class KN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function voe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YN(n);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!YN(t)){const r=(null===(i=t.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";e.onError(Yn(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(QN(t))}saveEventToCache(t){this.cachedEventUids.add(QN(t)),this.lastProcessedEventTime=Date.now()}}function QN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function YN({type:n,error:t}){return"unknown"===n&&"auth/no-auth-event"===t?.code}function ZN(n){return MT.apply(this,arguments)}function MT(){return(MT=w(function*(n,t={}){return Kt(n,"GET","/v1/projects",t)})).apply(this,arguments)}const boe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,woe=/^https?/;function RT(){return(RT=w(function*(n){if(n.config.emulator)return;const{authorizedDomains:t}=yield ZN(n);for(const e of t)try{if(Ioe(e))return}catch{}Nn(n,"unauthorized-domain")})).apply(this,arguments)}function Ioe(n){const t=_h(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===i?"chrome-extension:"===e&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===e&&o.hostname===i}if(!woe.test(e))return!1;if(boe.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Toe=new yh(3e4,6e4);function JN(){const n=In().___jsl;if(n?.H)for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}let Gg=null;function Soe(n){return Gg=Gg||function Eoe(n){return new Promise((t,e)=>{var i,r,s;function o(){JN(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{JN(),e(Yn(n,"network-request-failed"))},timeout:Toe.get()})}if(null!==(r=null===(i=In().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(s=In().gapi)||void 0===s||!s.load){const a=mN("iframefcb");return In()[a]=()=>{gapi.load?o():e(Yn(n,"network-request-failed"))},XC(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>e(l))}o()}}).catch(t=>{throw Gg=null,t})}(n),Gg}const xoe=new yh(5e3,15e3),koe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Moe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Roe(n){const t=n.config;q(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?LC(t,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:n.name,v:Ks},r=Moe.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${e}?${xc(i).slice(1)}`}function PT(){return PT=w(function*(n){const t=yield Soe(n),e=In().gapi;return q(e,n,"internal-error"),t.open({where:document.body,url:Roe(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:koe,dontclear:!0},i=>new Promise(function(){var r=w(function*(s,o){yield i.restyle({setHideOnLeave:!1});const a=Yn(n,"network-request-failed"),l=In().setTimeout(()=>{o(a)},xoe.get());function c(){In().clearTimeout(l),s(i)}i.ping(c).then(c,()=>{o(a)})});return function(s,o){return r.apply(this,arguments)}}()))}),PT.apply(this,arguments)}const Ooe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class XN{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const $oe=encodeURIComponent("fac");function OT(n,t,e,i,r,s){return FT.apply(this,arguments)}function FT(){return(FT=w(function*(n,t,e,i,r,s){q(n.config.authDomain,n,"auth-domain-config-required"),q(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ks,eventId:r};if(t instanceof Js){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",lne(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(t instanceof Fc){const u=t.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${$oe}=${encodeURIComponent(l)}`:"";return`${joe(n)}?${xc(a).slice(1)}${c}`})).apply(this,arguments)}function joe({config:n}){return n.emulator?LC(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}const LT="webStorageSupport";class NT extends class qoe{constructor(t){this.factorId=t}_process(t,e,i){switch(e.type){case"enroll":return this._finalizeEnroll(t,e.credential,i);case"signin":return this._finalizeSignIn(t,e.credential);default:return os("unexpected MultiFactorSessionType")}}}{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new NT(t)}_finalizeEnroll(t,e,i){return function mse(n,t){return Kt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(n,t))}(t,{idToken:e,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,e){return function Fse(n,t){return Kt(n,"POST","/v2/accounts/mfaSignIn:finalize",Vt(n,t))}(t,{mfaPendingCredential:e,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Woe=(()=>{class n{constructor(){}static assertion(e){return NT._fromCredential(e)}}return n.FACTOR_ID="phone",n})();var nV="@firebase/auth";class Koe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return w(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);!e||(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qa(){return window}function BT(){return BT=w(function*(n,t,e){var i;const{BuildInfo:r}=Qa();Gr(t.sessionId,"AuthEvent did not contain a session ID");const s=yield oae(t.sessionId),o={};return Pc()?o.ibi=r.packageName:Ih()?o.apn=r.packageName:Nn(n,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=s,OT(n,e,t.type,void 0,null!==(i=t.eventId)&&void 0!==i?i:void 0,o)}),BT.apply(this,arguments)}function UT(){return UT=w(function*(n){const{BuildInfo:t}=Qa(),e={};Pc()?e.iosBundleId=t.packageName:Ih()?e.androidPackageName=t.packageName:Nn(n,"operation-not-supported-in-this-environment"),yield ZN(n,e)}),UT.apply(this,arguments)}function HT(){return HT=w(function*(n,t,e){const{cordova:i}=Qa();let r=()=>{};try{yield new Promise((s,o)=>{let a=null;function l(){var d;s();const h=null===(d=i.plugins.browsertab)||void 0===d?void 0:d.close;"function"==typeof h&&h(),"function"==typeof e?.close&&e.close()}function c(){a||(a=window.setTimeout(()=>{o(Yn(n,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===document?.visibilityState&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),Ih()&&document.addEventListener("visibilitychange",u,!1),r=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{r()}}),HT.apply(this,arguments)}function oae(n){return zT.apply(this,arguments)}function zT(){return zT=w(function*(n){const t=aae(n),e=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(e)).map(r=>r.toString(16).padStart(2,"0")).join("")}),zT.apply(this,arguments)}function aae(n){if(Gr(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(n);const t=new ArrayBuffer(n.length),e=new Uint8Array(t);for(let i=0;i<n.length;i++)e[i]=n.charCodeAt(i);return e}Ig(),function Yoe(n){qs(new yr("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pN(n)},c=new ure(i,r,s,l);return function _re(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(er);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),qs(new yr("auth-internal",t=>{const e=Bt(t.getProvider("auth").getImmediate());return new Koe(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(nV,"1.3.2",function Qoe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),vr(nV,"1.3.2","esm2017")}("Browser");class cae extends KN{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(t=>{this.resolveInialized=t})}addPassiveListener(t){this.passiveListeners.add(t)}removePassiveListener(t){this.passiveListeners.delete(t)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(t){return this.resolveInialized(),this.passiveListeners.forEach(e=>e(t)),super.onEvent(t)}initialized(){var t=this;return w(function*(){yield t.initPromise})()}}function sV(n){return $T.apply(this,arguments)}function $T(){return $T=w(function*(n){const t=yield jT()._get(GT(n));return t&&(yield jT()._remove(GT(n))),t}),$T.apply(this,arguments)}function pae(){const n=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<20;e++){const i=Math.floor(Math.random()*t.length);n.push(t.charAt(i))}return n.join("")}function jT(){return er(Bg)}function GT(n){return Ga("authEvent",n.config.apiKey,n.name)}function Wg(n){if(!n?.includes("?"))return{};const[t,...e]=n.split("?");return Dc(e.join("?"))}function oV(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Yn("no-auth-event")}}function Mh(){var n;return(null===(n=self?.location)||void 0===n?void 0:n.protocol)||null}function aV(n=Mt()){return!("file:"!==Mh()&&"ionic:"!==Mh()&&"capacitor:"!==Mh()||!n.toLowerCase().match(/iphone|ipad|ipod|android/))}function lV(){try{const n=self.localStorage,t=xh();if(n)return n.setItem(t,"1"),n.removeItem(t),!function xae(n=Mt()){return function Eae(){return CL()&&11===document?.documentMode}()||function Sae(n=Mt()){return/Edge\/\d+/.test(n)}(n)}()||hh()}catch{return qT()&&hh()}return!1}function qT(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function WT(){return(function Iae(){return"http:"===Mh()||"https:"===Mh()}()||wL()||aV())&&!function Tae(){return _C()||Tg()}()&&lV()&&!qT()}function cV(){return aV()&&typeof document<"u"}function KT(){return KT=w(function*(){return!!cV()&&new Promise(n=>{const t=setTimeout(()=>{n(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),n(!0)})})}),KT.apply(this,arguments)}const tr={LOCAL:"local",NONE:"none",SESSION:"session"},Rh=q,uV="persistence";function QT(n){return YT.apply(this,arguments)}function YT(){return YT=w(function*(n){yield n._initializationPromise;const t=dV(),e=Ga(uV,n.config.apiKey,n.name);t&&t.setItem(e,n._getPersistence())}),YT.apply(this,arguments)}function dV(){var n;try{return(null===(n=function Aae(){return typeof window<"u"?window:null}())||void 0===n?void 0:n.sessionStorage)||null}catch{return null}}const Rae=q;class Vo{constructor(){this.browserResolver=er(class Goe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=No,this._completeRedirectFn=jg,this._overrideRedirectResult=TT}_openPopup(t,e,i,r){var s=this;return w(function*(){var o;Gr(null===(o=s.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield OT(t,e,i,_h(),r);return function Boe(n,t,e,i=500,r=600){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ooe),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Mt().toLowerCase();e&&(a=lN(c)?"_blank":e),aN(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[g,b])=>`${h}${g}=${b},`,"");if(function ire(n=Mt()){var t;return Pc(n)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(c)&&"_self"!==a)return function Uoe(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}(t||"",a),new XN(null);const d=window.open(t||"",a,u);q(d,n,"popup-blocked");try{d.focus()}catch{}return new XN(d)}(t,a,xh())})()}_openRedirect(t,e,i,r){var s=this;return w(function*(){return yield s._originValidation(t),function Ese(n){In().location.href=n}(yield OT(t,e,i,_h(),r)),new Promise(()=>{})})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:s}=this.eventManagers[e];return r?Promise.resolve(r):(Gr(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}initAndGetManager(t){var e=this;return w(function*(){const i=yield function Poe(n){return PT.apply(this,arguments)}(t),r=new KN(t);return i.register("authEvent",s=>(q(s?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:r},e.iframes[t._key()]=i,r})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(LT,{type:LT},r=>{var s;const o=null===(s=r?.[0])||void 0===s?void 0:s[LT];void 0!==o&&e(!!o),Nn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function Coe(n){return RT.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return hN()||ZC()||Pc()}}),this.cordovaResolver=er(class _ae{constructor(){this._redirectPersistence=No,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=jg,this._overrideRedirectResult=TT}_initialize(t){var e=this;return w(function*(){const i=t._key();let r=e.eventManagers.get(i);return r||(r=new cae(t),e.eventManagers.set(i,r),e.attachCallbackListeners(t,r)),r})()}_openPopup(t){Nn(t,"operation-not-supported-in-this-environment")}_openRedirect(t,e,i,r){var s=this;return w(function*(){!function sae(n){var t,e,i,r,s,o,a,l,c,u;const d=Qa();q("function"==typeof(null===(t=d?.universalLinks)||void 0===t?void 0:t.subscribe),n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(typeof(null===(e=d?.BuildInfo)||void 0===e?void 0:e.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(s=null===(r=null===(i=d?.cordova)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.browsertab)||void 0===s?void 0:s.openUrl),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(l=null===(a=null===(o=d?.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(u=null===(c=d?.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(t);const o=yield s._initialize(t);yield o.initialized(),o.resetRedirect(),function uoe(){kh.clear()}(),yield s._originValidation(t);const a=function uae(n,t,e=null){return{type:t,eventId:e,urlResponse:null,sessionId:pae(),postBody:null,tenantId:n.tenantId,error:Yn(n,"no-auth-event")}}(t,i,r);yield function dae(n,t){return jT()._set(GT(n),t)}(t,a);const l=yield function tae(n,t,e){return BT.apply(this,arguments)}(t,a,e),c=yield function iae(n){const{cordova:t}=Qa();return new Promise(e=>{t.plugins.browsertab.isAvailable(i=>{let r=null;i?t.plugins.browsertab.openUrl(n):r=t.InAppBrowser.open(n,function nre(n=Mt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}()?"_blank":"_system","location=yes"),e(r)})})}(l);return function rae(n,t,e){return HT.apply(this,arguments)}(t,o,c)})()}_isIframeWebStorageSupported(t,e){throw new Error("Method not implemented.")}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function nae(n){return UT.apply(this,arguments)}(t)),this.originValidationPromises[e]}attachCallbackListeners(t,e){const{universalLinks:i,handleOpenURL:r,BuildInfo:s}=Qa(),o=setTimeout(w(function*(){yield sV(t),e.onEvent(oV())}),500),a=function(){var u=w(function*(d){clearTimeout(o);const h=yield sV(t);let g=null;h&&d?.url&&(g=function hae(n,t){var e,i;const r=function mae(n){const t=Wg(n),e=t.link?decodeURIComponent(t.link):void 0,i=Wg(e).link,r=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Wg(r).link||r||i||e||n}(t);if(r.includes("/__/auth/callback")){const s=Wg(r),o=s.firebaseError?function fae(n){try{return JSON.parse(n)}catch{return null}}(decodeURIComponent(s.firebaseError)):null,a=null===(i=null===(e=o?.code)||void 0===e?void 0:e.split("auth/"))||void 0===i?void 0:i[1],l=a?Yn(a):null;return l?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:r,postBody:null}}return null}(h,d.url)),e.onEvent(g||oV())});return function(h){return u.apply(this,arguments)}}();typeof i<"u"&&"function"==typeof i.subscribe&&i.subscribe(null,a);const l=r,c=`${s.packageName.toLowerCase()}://`;Qa().handleOpenURL=function(){var u=w(function*(d){if(d.toLowerCase().startsWith(c)&&a({url:d}),"function"==typeof l)try{l(d)}catch(h){console.error(h)}});return function(d){return u.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=No,this._completeRedirectFn=jg,this._overrideRedirectResult=TT}_initialize(t){var e=this;return w(function*(){return yield e.selectUnderlyingResolver(),e.assertedUnderlyingResolver._initialize(t)})()}_openPopup(t,e,i,r){var s=this;return w(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(t,e,i,r)})()}_openRedirect(t,e,i,r){var s=this;return w(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(t,e,i,r)})()}_isIframeWebStorageSupported(t,e){this.assertedUnderlyingResolver._isIframeWebStorageSupported(t,e)}_originValidation(t){return this.assertedUnderlyingResolver._originValidation(t)}get _shouldInitProactively(){return cV()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Rae(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var t=this;return w(function*(){if(t.underlyingResolver)return;const e=yield function Dae(){return KT.apply(this,arguments)}();t.underlyingResolver=e?t.cordovaResolver:t.browserResolver})()}}function hV(n){return n.unwrap()}function Oae(n){return pV(n)}function pV(n){const{_tokenResponse:t}=n instanceof ci?n.customData:n;if(!t)return null;if(!(n instanceof ci)&&"temporaryProof"in t&&"phoneNumber"in t)return Ah.credentialFromResult(n);const e=t.providerId;if(!e||"password"===e)return null;let i;switch(e){case"google.com":i=TN;break;case"facebook.com":i=IN;break;case"github.com":i=EN;break;case"twitter.com":i=SN;break;default:const{oauthIdToken:r,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=t;return s||o||r||a?a?e.startsWith("saml.")?Nc._create(e,a):as._fromParams({providerId:e,signInMethod:e,pendingToken:a,idToken:r,accessToken:s}):new Lc(e).credential({idToken:r,accessToken:s,rawNonce:l}):null}return n instanceof ci?i.credentialFromError(n):i.credentialFromResult(n)}function Ni(n,t){return t.catch(e=>{throw e instanceof ci&&function Fae(n,t){var e;const i=null===(e=t.customData)||void 0===e?void 0:e._tokenResponse;if("auth/multi-factor-auth-required"===t?.code)t.resolver=new Lae(n,function pse(n,t){var e;const i=pe(n),r=t;return q(t.customData.operationType,i,"argument-error"),q(null===(e=r.customData._serverResponse)||void 0===e?void 0:e.mfaPendingCredential,i,"argument-error"),eT._fromError(i,r)}(n,t));else if(i){const r=pV(t),s=t;r&&(s.credential=r,s.tenantId=i.tenantId||void 0,s.email=i.email||void 0,s.phoneNumber=i.phoneNumber||void 0)}}(n,e),e}).then(e=>{const r=e.user;return{operationType:e.operationType,credential:Oae(e),additionalUserInfo:use(e),user:Xs.getOrCreate(r)}})}function ZT(n,t){return JT.apply(this,arguments)}function JT(){return JT=w(function*(n,t){const e=yield t;return{verificationId:e.verificationId,confirm:i=>Ni(n,e.confirm(i))}}),JT.apply(this,arguments)}class Lae{constructor(t,e){this.resolver=e,this.auth=function Pae(n){return n.wrapped()}(t)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(t){return Ni(hV(this.auth),this.resolver.resolveSignIn(t))}}class Xs{constructor(t){this._delegate=t,this.multiFactor=function yse(n){const t=pe(n);return nT.has(t)||nT.set(t,tT._fromUser(t)),nT.get(t)}(t)}static getOrCreate(t){return Xs.USER_MAP.has(t)||Xs.USER_MAP.set(t,new Xs(t)),Xs.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(t){return this._delegate.getIdTokenResult(t)}getIdToken(t){return this._delegate.getIdToken(t)}linkAndRetrieveDataWithCredential(t){return this.linkWithCredential(t)}linkWithCredential(t){var e=this;return w(function*(){return Ni(e.auth,PN(e._delegate,t))})()}linkWithPhoneNumber(t,e){var i=this;return w(function*(){return ZT(i.auth,function Zse(n,t,e){return dT.apply(this,arguments)}(i._delegate,t,e))})()}linkWithPopup(t){var e=this;return w(function*(){return Ni(e.auth,function ooe(n,t,e){return vT.apply(this,arguments)}(e._delegate,t,Vo))})()}linkWithRedirect(t){var e=this;return w(function*(){return yield QT(Bt(e.auth)),function moe(n,t,e){return function goe(n,t,e){return xT.apply(this,arguments)}(n,t,e)}(e._delegate,t,Vo)})()}reauthenticateAndRetrieveDataWithCredential(t){return this.reauthenticateWithCredential(t)}reauthenticateWithCredential(t){var e=this;return w(function*(){return Ni(e.auth,ON(e._delegate,t))})()}reauthenticateWithPhoneNumber(t,e){return ZT(this.auth,function Jse(n,t,e){return hT.apply(this,arguments)}(this._delegate,t,e))}reauthenticateWithPopup(t){return Ni(this.auth,function soe(n,t,e){return yT.apply(this,arguments)}(this._delegate,t,Vo))}reauthenticateWithRedirect(t){var e=this;return w(function*(){return yield QT(Bt(e.auth)),function poe(n,t,e){return function foe(n,t,e){return ST.apply(this,arguments)}(n,t,e)}(e._delegate,t,Vo)})()}sendEmailVerification(t){return function Xre(n,t){return WI.apply(this,arguments)}(this._delegate,t)}unlink(t){var e=this;return w(function*(){return yield function Bre(n,t){return CI.apply(this,arguments)}(e._delegate,t),e})()}updateEmail(t){return function ise(n,t){return LN(pe(n),t,null)}(this._delegate,t)}updatePassword(t){return function rse(n,t){return LN(pe(n),null,t)}(this._delegate,t)}updatePhoneNumber(t){return function Xse(n,t){return fT.apply(this,arguments)}(this._delegate,t)}updateProfile(t){return function nse(n,t){return YI.apply(this,arguments)}(this._delegate,t)}verifyBeforeUpdateEmail(t,e){return function ese(n,t,e){return KI.apply(this,arguments)}(this._delegate,t,e)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xs.USER_MAP=new WeakMap;const Ph=q;let fV=(()=>{class n{constructor(e,i){if(this.app=e,i.isInitialized())return this._delegate=i.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:r}=e.options;Ph(r,"invalid-api-key",{appName:e.name}),Ph(r,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?Vo:void 0;this._delegate=i.initialize({options:{persistence:Nae(r,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(Fie),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,i){!function yN(n,t,e){const i=Bt(n);q(i._canInitEmulator,i,"emulator-config-failed"),q(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!e?.disableWarnings,s=vN(t),{host:o,port:a}=function yre(n){const t=vN(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:bN(i.substr(s.length+1))}}{const[s,o]=i.split(":");return{host:s,port:bN(o)}}}(t);i.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function vre(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(this._delegate,e,i)}applyActionCode(e){return function jre(n,t){return BI.apply(this,arguments)}(this._delegate,e)}checkActionCode(e){return FN(this._delegate,e)}confirmPasswordReset(e,i){return function $re(n,t,e){return VI.apply(this,arguments)}(this._delegate,e,i)}createUserWithEmailAndPassword(e,i){var r=this;return w(function*(){return Ni(r._delegate,function qre(n,t,e){return zI.apply(this,arguments)}(r._delegate,e,i))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return function Jre(n,t){return qI.apply(this,arguments)}(this._delegate,e)}isSignInWithEmailLink(e){return function Qre(n,t){return"EMAIL_SIGNIN"===Eh.parseLink(t)?.operation}(0,e)}getRedirectResult(){var e=this;return w(function*(){Ph(WT(),e._delegate,"operation-not-supported-in-this-environment");const i=yield function _oe(n,t){return DT.apply(this,arguments)}(e._delegate,Vo);return i?Ni(e._delegate,Promise.resolve(i)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function vae(n,t){Bt(n)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,i,r){const{next:s,error:o,complete:a}=mV(e,i,r);return this._delegate.onAuthStateChanged(s,o,a)}onIdTokenChanged(e,i,r){const{next:s,error:o,complete:a}=mV(e,i,r);return this._delegate.onIdTokenChanged(s,o,a)}sendSignInLinkToEmail(e,i){return function Kre(n,t,e){return $I.apply(this,arguments)}(this._delegate,e,i)}sendPasswordResetEmail(e,i){return function zre(n,t,e){return NI.apply(this,arguments)}(this._delegate,e,i||void 0)}setPersistence(e){var i=this;return w(function*(){let r;switch(function kae(n,t){Rh(Object.values(tr).includes(t),n,"invalid-persistence-type"),_C()?Rh(t!==tr.SESSION,n,"unsupported-persistence-type"):Tg()?Rh(t===tr.NONE,n,"unsupported-persistence-type"):qT()?Rh(t===tr.NONE||t===tr.LOCAL&&hh(),n,"unsupported-persistence-type"):Rh(t===tr.NONE||lV(),n,"unsupported-persistence-type")}(i._delegate,e),e){case tr.SESSION:r=No;break;case tr.LOCAL:r=(yield er(Bc)._isAvailable())?Bc:Bg;break;case tr.NONE:r=Mc;break;default:return Nn("argument-error",{appName:i._delegate.name})}return i._delegate.setPersistence(r)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Ni(this._delegate,function Vre(n){return wI.apply(this,arguments)}(this._delegate))}signInWithCredential(e){return Ni(this._delegate,Lg(this._delegate,e))}signInWithCustomToken(e){return Ni(this._delegate,function Hre(n,t){return RI.apply(this,arguments)}(this._delegate,e))}signInWithEmailAndPassword(e,i){return Ni(this._delegate,function Wre(n,t,e){return Lg(pe(n),vI.credential(t,e)).catch(function(){var i=w(function*(r){throw"auth/password-does-not-meet-requirements"===r.code&&FI(n),r});return function(r){return i.apply(this,arguments)}}())}(this._delegate,e,i))}signInWithEmailLink(e,i){return Ni(this._delegate,function Yre(n,t,e){return jI.apply(this,arguments)}(this._delegate,e,i))}signInWithPhoneNumber(e,i){return ZT(this._delegate,function Yse(n,t,e){return uT.apply(this,arguments)}(this._delegate,e,i))}signInWithPopup(e){var i=this;return w(function*(){return Ph(WT(),i._delegate,"operation-not-supported-in-this-environment"),Ni(i._delegate,function roe(n,t,e){return _T.apply(this,arguments)}(i._delegate,e,Vo))})()}signInWithRedirect(e){var i=this;return w(function*(){return Ph(WT(),i._delegate,"operation-not-supported-in-this-environment"),yield QT(i._delegate),function doe(n,t,e){return function hoe(n,t,e){return ET.apply(this,arguments)}(n,t,e)}(i._delegate,e,Vo)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return function Gre(n,t){return HI.apply(this,arguments)}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=tr,n})();function mV(n,t,e){let i=n;"function"!=typeof n&&({next:i,error:t,complete:e}=n);const r=i;return{next:o=>r(o&&Xs.getOrCreate(o)),error:t,complete:e}}function Nae(n,t){const e=function Mae(n,t){const e=dV();if(!e)return[];const i=Ga(uV,n,t);switch(e.getItem(i)){case tr.NONE:return[Mc];case tr.LOCAL:return[Bc,No];case tr.SESSION:return[No];default:return[]}}(n,t);if(typeof self<"u"&&!e.includes(Bc)&&e.push(Bc),typeof window<"u")for(const i of[Bg,No])e.includes(i)||e.push(i);return e.includes(Mc)||e.push(Mc),e}class XT{constructor(){this.providerId="phone",this._delegate=new Ah(hV(jr.auth()))}static credential(t,e){return Ah.credential(t,e)}verifyPhoneNumber(t,e){return this._delegate.verifyPhoneNumber(t,e)}unwrap(){return this._delegate}}XT.PHONE_SIGN_IN_METHOD=Ah.PHONE_SIGN_IN_METHOD,XT.PROVIDER_ID=Ah.PROVIDER_ID;const Vae=q;class Bae{constructor(t,e,i=jr.app()){var r;Vae(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Kse(i.auth(),t,e),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Hae(n){n.INTERNAL.registerComponent(new yr("auth-compat",t=>{const e=t.getProvider("app-compat").getImmediate(),i=t.getProvider("auth");return new fV(e,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:vI,FacebookAuthProvider:IN,GithubAuthProvider:EN,GoogleAuthProvider:TN,OAuthProvider:Lc,SAMLAuthProvider:Pg,PhoneAuthProvider:XT,PhoneMultiFactorGenerator:Woe,RecaptchaVerifier:Bae,TwitterAuthProvider:SN,Auth:fV,AuthCredential:Oc,Error:ci}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion("@firebase/auth-compat","0.4.8")}(jr);var X,zae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qr={},eE=eE||{},Re=zae||self;function Kg(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Oh(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var tE="closure_uid_"+(1e9*Math.random()>>>0),jae=0;function Gae(n,t,e){return n.call.apply(n.bind,arguments)}function qae(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function ui(n,t,e){return(ui=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Gae:qae).apply(null,arguments)}function Qg(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Vn(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(i,o)}}function Bo(){this.s=this.s,this.o=this.o}Bo.prototype.s=!1,Bo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function $ae(n){Object.prototype.hasOwnProperty.call(n,tE)&&n[tE]||(n[tE]=++jae)}(this)},Bo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gV=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function nE(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function _V(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Kg(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function di(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}di.prototype.h=function(){this.defaultPrevented=!0};var Kae=function(){if(!Re.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Re.addEventListener("test",()=>{},t),Re.removeEventListener("test",()=>{},t)}catch{}return n}();function Fh(n){return/^[\s\xa0]*$/.test(n)}function Yg(){var n=Re.navigator;return n&&(n=n.userAgent)?n:""}function ls(n){return-1!=Yg().indexOf(n)}function iE(n){return iE[" "](n),n}iE[" "]=function(){};var sE,Yae=ls("Opera"),Uc=ls("Trident")||ls("MSIE"),yV=ls("Edge"),rE=yV||Uc,vV=ls("Gecko")&&!(-1!=Yg().toLowerCase().indexOf("webkit")&&!ls("Edge"))&&!(ls("Trident")||ls("MSIE"))&&!ls("Edge"),Zae=-1!=Yg().toLowerCase().indexOf("webkit")&&!ls("Edge");function bV(){var n=Re.document;return n?n.documentMode:void 0}e:{var oE="",aE=function(){var n=Yg();return vV?/rv:([^\);]+)(\)|;)/.exec(n):yV?/Edge\/([\d\.]+)/.exec(n):Uc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Zae?/WebKit\/(\S+)/.exec(n):Yae?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(aE&&(oE=aE?aE[1]:""),Uc){var lE=bV();if(null!=lE&&lE>parseFloat(oE)){sE=String(lE);break e}}sE=oE}var Jae=Re.document&&Uc&&(bV()||parseInt(sE,10))||void 0;function Lh(n,t){if(di.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(vV){e:{try{iE(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Xae[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Lh.$.h.call(this)}}Vn(Lh,di);var Xae={2:"touch",3:"pen",4:"mouse"};Lh.prototype.h=function(){Lh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Nh="closure_listenable_"+(1e6*Math.random()|0),ele=0;function tle(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++ele,this.fa=this.ia=!1}function Zg(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function uE(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function CV(n){const t={};for(const e in n)t[e]=n[e];return t}const IV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TV(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<IV.length;s++)e=IV[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Jg(n){this.src=n,this.g={},this.h=0}function dE(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=gV(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Zg(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function hE(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}Jg.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=hE(n,t,i,r);return-1<o?(t=n[o],e||(t.ia=!1)):((t=new tle(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var pE="closure_lm_"+(1e6*Math.random()|0),fE={};function EV(n,t,e,i,r){if(i&&i.once)return xV(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)EV(n,t[s],e,i,r);return null}return e=yE(e),n&&n[Nh]?n.O(t,e,Oh(i)?!!i.capture:!!i,r):SV(n,t,e,!1,i,r)}function SV(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var o=Oh(r)?!!r.capture:!!r,a=gE(n);if(a||(n[pE]=a=new Jg(n)),(e=a.add(t,e,i,o,s)).proxy)return e;if(i=function ile(){const t=rle;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Kae||(r=o),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(AV(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function xV(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)xV(n,t[s],e,i,r);return null}return e=yE(e),n&&n[Nh]?n.P(t,e,Oh(i)?!!i.capture:!!i,r):SV(n,t,e,!0,i,r)}function DV(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)DV(n,t[s],e,i,r);else i=Oh(i)?!!i.capture:!!i,e=yE(e),n&&n[Nh]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=hE(s=n.g[t],e,i,r))&&(Zg(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=gE(n))&&(t=n.g[t.toString()],n=-1,t&&(n=hE(t,e,i,r)),(e=-1<n?t[n]:null)&&mE(e))}function mE(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[Nh])dE(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(AV(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=gE(t))?(dE(e,n),0==e.h&&(e.src=null,t[pE]=null)):Zg(n)}}}function AV(n){return n in fE?fE[n]:fE[n]="on"+n}function rle(n,t){if(n.fa)n=!0;else{t=new Lh(t,this);var e=n.listener,i=n.la||n.src;n.ia&&mE(n),n=e.call(i,t)}return n}function gE(n){return(n=n[pE])instanceof Jg?n:null}var _E="__closure_events_fn_"+(1e9*Math.random()>>>0);function yE(n){return"function"==typeof n?n:(n[_E]||(n[_E]=function(t){return n.handleEvent(t)}),n[_E])}function Bn(){Bo.call(this),this.i=new Jg(this),this.S=this,this.J=null}function Zn(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new di(t,n);else if(t instanceof di)t.target=t.target||n;else{var r=t;TV(t=new di(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.g=e[s];r=Xg(o,i,!0,t)&&r}if(r=Xg(o=t.g=n,i,!0,t)&&r,r=Xg(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=Xg(o=t.g=e[s],i,!1,t)&&r}function Xg(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==e){var a=o.listener,l=o.la||o.src;o.ia&&dE(n.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Vn(Bn,Bo),Bn.prototype[Nh]=!0,Bn.prototype.removeEventListener=function(n,t,e,i){DV(this,n,t,e,i)},Bn.prototype.N=function(){if(Bn.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Zg(e[i]);delete n.g[t],n.h--}}this.J=null},Bn.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Bn.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var vE=Re.JSON.stringify;function ole(){var n=bE;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var kV=new class sle{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new lle,n=>n.reset());class lle{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function cle(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function ule(n){Re.setTimeout(()=>{throw n},0)}let Vh,Bh=!1,bE=new class ale{constructor(){this.h=this.g=null}add(t,e){const i=kV.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},MV=()=>{const n=Re.Promise.resolve(void 0);Vh=()=>{n.then(dle)}};var dle=()=>{for(var n;n=ole();){try{n.h.call(n.g)}catch(e){ule(e)}var t=kV;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Bh=!1};function e_(n,t){Bn.call(this),this.h=n||1,this.g=t||Re,this.j=ui(this.qb,this),this.l=Date.now()}function wE(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function CE(n,t,e){if("function"==typeof n)e&&(n=ui(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ui(n.handleEvent,n)}return 2147483647<Number(t)?-1:Re.setTimeout(n,t||0)}function RV(n){n.g=CE(()=>{n.g=null,n.i&&(n.i=!1,RV(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Vn(e_,Bn),(X=e_.prototype).ga=!1,X.T=null,X.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zn(this,"tick"),this.ga&&(wE(this),this.start()))}},X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},X.N=function(){e_.$.N.call(this),wE(this),delete this.g};class hle extends Bo{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:RV(this)}N(){super.N(),this.g&&(Re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uh(n){Bo.call(this),this.h=n,this.g={}}Vn(Uh,Bo);var PV=[];function OV(n,t,e,i){Array.isArray(e)||(e&&(PV[0]=e.toString()),e=PV);for(var r=0;r<e.length;r++){var s=EV(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function FV(n){uE(n.g,function(t,e){this.g.hasOwnProperty(e)&&mE(t)},n),n.g={}}function t_(){this.g=!0}function Hc(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function gle(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return vE(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Uh.prototype.N=function(){Uh.$.N.call(this),FV(this)},Uh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},t_.prototype.Ea=function(){this.g=!1},t_.prototype.info=function(){};var Ya={},LV=null;function n_(){return LV=LV||new Bn}function NV(n){di.call(this,Ya.Ta,n)}function Hh(n){const t=n_();Zn(t,new NV(t))}function VV(n,t){di.call(this,Ya.STAT_EVENT,n),this.stat=t}function xi(n){const t=n_();Zn(t,new VV(t,n))}function BV(n,t){di.call(this,Ya.Ua,n),this.size=t}function zh(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Re.setTimeout(function(){n()},t)}Ya.Ta="serverreachability",Vn(NV,di),Ya.STAT_EVENT="statevent",Vn(VV,di),Ya.Ua="timingevent",Vn(BV,di);var i_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},UV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function IE(){}function zV(){}IE.prototype.h=null;var SE,$h={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function TE(){di.call(this,"d")}function EE(){di.call(this,"c")}function r_(){}function jh(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Uh(this),this.P=_le,this.V=new e_(n=rE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $V}function $V(){this.i=null,this.g="",this.h=!1}Vn(TE,di),Vn(EE,di),Vn(r_,IE),r_.prototype.g=function(){return new XMLHttpRequest},r_.prototype.i=function(){return{}},SE=new r_;var _le=45e3,xE={},s_={};function DE(n,t,e){n.L=1,n.v=c_(eo(t)),n.s=e,n.S=!0,jV(n,null)}function jV(n,t){n.G=Date.now(),Gh(n),n.A=eo(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),e3(e.i,"t",i),n.C=0,e=n.l.J,n.h=new $V,n.g=E3(n.l,e?t:null,!n.s),0<n.O&&(n.M=new hle(ui(n.Pa,n,n.g),n.O)),OV(n.U,n.g,"readystatechange",n.nb),t=n.I?CV(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Hh(),function ple(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function GV(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function qV(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=yle(n,e),r==s_){4==t&&(n.o=4,xi(14),i=!1),Hc(n.j,n.m,null,"[Incomplete Response]");break}if(r==xE){n.o=4,xi(15),Hc(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Hc(n.j,n.m,r,null),AE(n,r)}GV(n)&&r!=s_&&r!=xE&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,xi(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),LE(t),t.M=!0,xi(11))):(Hc(n.j,n.m,e,"[Invalid Chunked Response]"),Za(n),qh(n))}function yle(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?s_:(e=Number(t.substring(e,i)),isNaN(e)?xE:(i+=1)+e>t.length?s_:(t=t.slice(i,i+e),n.C=i+e,t))}function Gh(n){n.Y=Date.now()+n.P,WV(n,n.P)}function WV(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=zh(ui(n.lb,n),t)}function o_(n){n.B&&(Re.clearTimeout(n.B),n.B=null)}function qh(n){0==n.l.H||n.J||w3(n.l,n)}function Za(n){o_(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,wE(n.V),FV(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function AE(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||kE(e.i,n)))if(!n.K&&kE(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;m_(e),p_(e)}FE(e),xi(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=zh(ui(e.ib,e),6e3));if(1>=r3(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Xa(e,11)}else if((n.K||e.g==n)&&m_(e),!Fh(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(e.V=c[0],c=c[1],2==e.H)if("c"==c[0]){e.K=c[1],e.pa=c[2];const u=c[3];null!=u&&(e.ra=u,e.l.info("VER="+e.ra));const d=c[4];null!=d&&(e.Ga=d,e.l.info("SVER="+e.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(e.L=i=1.5*h,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const g=n.g;if(g){const b=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var s=i.i;s.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ME(s,s.h),s.h=null))}if(i.F){const T=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(i.Da=T,Rt(i.I,i.F,T))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var o=n;if((i=e).wa=T3(i,i.J?i.pa:null,i.Y),o.K){s3(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(o_(a),Gh(a)),i.g=o}else v3(i);0<e.j.length&&f_(e)}else"stop"!=c[0]&&"close"!=c[0]||Xa(e,7);else 3==e.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Xa(e,7):OE(e):"noop"!=c[0]&&e.h&&e.h.Aa(c),e.A=0)}Hh()}catch{}}function KV(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Kg(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function ble(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Kg(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function vle(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Kg(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(X=jh.prototype).setTimeout=function(n){this.P=n},X.nb=function(n){n=n.target;const t=this.M;t&&3==cs(n)?t.l():this.Pa(n)},X.Pa=function(n){try{if(n==this.g)e:{const u=cs(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||rE||this.g&&(this.h.h||this.g.ja()||p3(this.g)))){this.J||4!=u||7==t||Hh(),o_(this);var e=this.g.da();this.ca=e;t:if(GV(this)){var i=p3(this.g);n="";var r=i.length,s=4==cs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Za(this),qh(this);var o="";break t}this.h.i=new Re.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==e,function fle(n,t,e,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fh(a)){var c=a;break t}}c=null}if(!(e=c)){this.i=!1,this.o=3,xi(12),Za(this),qh(this);break e}Hc(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,AE(this,e)}this.S?(qV(this,u,o),rE&&this.i&&3==u&&(OV(this.U,this.V,"tick",this.mb),this.V.start())):(Hc(this.j,this.m,o,null),AE(this,o)),4==u&&Za(this),this.i&&!this.J&&(4==u?w3(this.l,this):(this.i=!1,Gh(this)))}else(function Vle(n){const t={};n=(n.g&&2<=cs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Fh(n[i]))continue;var e=cle(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function nle(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<o.indexOf("Unknown SID")?(this.o=3,xi(12)):(this.o=0,xi(13)),Za(this),qh(this)}}}catch{}},X.mb=function(){if(this.g){var n=cs(this.g),t=this.g.ja();this.C<t.length&&(o_(this),qV(this,n,t),this.i&&4!=n&&Gh(this))}},X.cancel=function(){this.J=!0,Za(this)},X.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function mle(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Hh(),xi(17)),Za(this),this.o=2,qh(this)):WV(this,this.Y-n)};var QV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ja(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ja){this.h=n.h,a_(this,n.j),this.s=n.s,this.g=n.g,l_(this,n.m),this.l=n.l;var t=n.i,e=new Qh;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),YV(this,e),this.o=n.o}else n&&(t=String(n).match(QV))?(this.h=!1,a_(this,t[1]||"",!0),this.s=Wh(t[2]||""),this.g=Wh(t[3]||"",!0),l_(this,t[4]),this.l=Wh(t[5]||"",!0),YV(this,t[6]||"",!0),this.o=Wh(t[7]||"")):(this.h=!1,this.i=new Qh(null,this.h))}function eo(n){return new Ja(n)}function a_(n,t,e){n.j=e?Wh(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function l_(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function YV(n,t,e){t instanceof Qh?(n.i=t,function xle(n,t){t&&!n.j&&(Uo(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(JV(this,i),e3(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Kh(t,Ele)),n.i=new Qh(t,n.h))}function Rt(n,t,e){n.i.set(t,e)}function c_(n){return Rt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wh(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Kh(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Cle),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Cle(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ja.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Kh(t,ZV,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Kh(t,ZV,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Kh(e,"/"==e.charAt(0)?Tle:Ile,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Kh(e,Sle)),n.join("")};var ZV=/[#\/\?@]/g,Ile=/[#\?:]/g,Tle=/[#\?]/g,Ele=/[#\?@]/g,Sle=/#/g;function Qh(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Uo(n){n.g||(n.g=new Map,n.h=0,n.i&&function wle(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function JV(n,t){Uo(n),t=zc(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function XV(n,t){return Uo(n),t=zc(n,t),n.g.has(t)}function e3(n,t,e){JV(n,t),0<e.length&&(n.i=null,n.g.set(zc(n,t),nE(e)),n.h+=e.length)}function zc(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function t3(n){this.l=n||Ale,n=Re.PerformanceNavigationTiming?0<(n=Re.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Re.g&&Re.g.Ka&&Re.g.Ka()&&Re.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(X=Qh.prototype).add=function(n,t){Uo(this),this.i=null,n=zc(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},X.forEach=function(n,t){Uo(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},X.ta=function(){Uo(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},X.Z=function(n){Uo(this);let t=[];if("string"==typeof n)XV(this,n)&&(t=t.concat(this.g.get(zc(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},X.set=function(n,t){return Uo(this),this.i=null,XV(this,n=zc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},X.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var Ale=10;function n3(n){return!!n.h||!!n.g&&n.g.size>=n.j}function r3(n){return n.h?1:n.g?n.g.size:0}function kE(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function ME(n,t){n.g?n.g.add(t):n.h=t}function s3(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function o3(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return nE(n.i)}function Mle(){this.g=new class{stringify(n){return Re.JSON.stringify(n,void 0)}parse(n){return Re.JSON.parse(n,void 0)}}}function Rle(n,t,e){const i=e||"";try{KV(n,function(r,s){let o=r;Oh(r)&&(o=vE(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function u_(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Yh(n){this.l=n.ec||null,this.j=n.ob||!1}function d_(n,t){Bn.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=RE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}t3.prototype.cancel=function(){if(this.i=o3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Vn(Yh,IE),Yh.prototype.g=function(){return new d_(this.l,this.j)},Yh.prototype.i=function(n){return function(){return n}}({}),Vn(d_,Bn);var RE=0;function a3(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Zh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jh(n)}function Jh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(X=d_.prototype).open=function(n,t){if(this.readyState!=RE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Jh(this)},X.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Re).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zh(this)),this.readyState=RE},X.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jh(this)),this.g&&(this.readyState=3,Jh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Re.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;a3(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},X.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Zh(this):Jh(this),3==this.readyState&&a3(this)}},X.Za=function(n){this.g&&(this.response=this.responseText=n,Zh(this))},X.Ya=function(n){this.g&&(this.response=n,Zh(this))},X.ka=function(){this.g&&Zh(this)},X.setRequestHeader=function(n,t){this.v.append(n,t)},X.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},X.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(d_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ole=Re.JSON.parse;function nn(n){Bn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=l3,this.L=this.M=!1}Vn(nn,Bn);var l3="",Fle=/^https?$/i,Lle=["POST","PUT"];function c3(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,u3(n),h_(n)}function u3(n){n.F||(n.F=!0,Zn(n,"complete"),Zn(n,"error"))}function d3(n){if(n.h&&typeof eE<"u"&&(!n.C[1]||4!=cs(n)||2!=n.da()))if(n.v&&4==cs(n))CE(n.La,0,n);else if(Zn(n,"readystatechange"),4==cs(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===o){var r=String(n.I).match(QV)[1]||null;!r&&Re.self&&Re.self.location&&(r=Re.self.location.protocol.slice(0,-1)),i=!Fle.test(r?r.toLowerCase():"")}e=i}if(e)Zn(n,"complete"),Zn(n,"success");else{n.m=6;try{var s=2<cs(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",u3(n)}}finally{h_(n)}}}function h_(n,t){if(n.g){h3(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Zn(n,"ready");try{e.onreadystatechange=i}catch{}}}function h3(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Re.clearTimeout(n.A),n.A=null)}function cs(n){return n.g?n.g.readyState:0}function p3(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case l3:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function f3(n){let t="";return uE(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function PE(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=f3(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Rt(n,t,e))}function Xh(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function m3(n){this.Ga=0,this.j=[],this.l=new t_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xh("baseRetryDelayMs",5e3,n),this.hb=Xh("retryDelaySeedMs",1e4,n),this.eb=Xh("forwardChannelMaxRetries",2,n),this.xa=Xh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new t3(n&&n.concurrentRequestLimit),this.Ja=new Mle,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function OE(n){if(g3(n),3==n.H){var t=n.W++,e=eo(n.I);if(Rt(e,"SID",n.K),Rt(e,"RID",t),Rt(e,"TYPE","terminate"),ep(n,e),(t=new jh(n,n.l,t)).L=2,t.v=c_(eo(e)),e=!1,Re.navigator&&Re.navigator.sendBeacon)try{e=Re.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&Re.Image&&((new Image).src=t.v,e=!0),e||(t.g=E3(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Gh(t)}I3(n)}function p_(n){n.g&&(LE(n),n.g.cancel(),n.g=null)}function g3(n){p_(n),n.u&&(Re.clearTimeout(n.u),n.u=null),m_(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Re.clearTimeout(n.m),n.m=null)}function f_(n){if(!n3(n.i)&&!n.m){n.m=!0;var t=n.Na;Vh||MV(),Bh||(Vh(),Bh=!0),bE.add(t,n),n.C=0}}function _3(n,t){var e;e=t?t.m:n.W++;const i=eo(n.I);Rt(i,"SID",n.K),Rt(i,"RID",e),Rt(i,"AID",n.V),ep(n,i),n.o&&n.s&&PE(i,n.o,n.s),e=new jh(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=y3(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),ME(n.i,e),DE(e,i,t)}function ep(n,t){n.na&&uE(n.na,function(e,i){Rt(t,i,e)}),n.h&&KV({},function(e,i){Rt(t,i,e)})}function y3(n,t,e){e=Math.min(n.j.length,e);var i=n.h?ui(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+e];-1==s?0<e?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<e;l++){let c=r[l].g;const u=r[l].map;if(c-=s,0>c)s=Math.max(0,r[l].g-100),a=!1;else try{Rle(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function v3(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Vh||MV(),Bh||(Vh(),Bh=!0),bE.add(t,n),n.A=0}}function FE(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=zh(ui(n.Ma,n),C3(n,n.A)),n.A++,0))}function LE(n){null!=n.B&&(Re.clearTimeout(n.B),n.B=null)}function b3(n){n.g=new jh(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=eo(n.wa);Rt(t,"RID","rpc"),Rt(t,"SID",n.K),Rt(t,"AID",n.V),Rt(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&Rt(t,"TO",n.qa),Rt(t,"TYPE","xmlhttp"),ep(n,t),n.o&&n.s&&PE(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=c_(eo(t)),e.s=null,e.S=!0,jV(e,n)}function m_(n){null!=n.v&&(Re.clearTimeout(n.v),n.v=null)}function w3(n,t){var e=null;if(n.g==t){m_(n),LE(n),n.g=null;var i=2}else{if(!kE(n.i,t))return;e=t.F,s3(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Zn(i=n_(),new BV(i,e)),f_(n)}else v3(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function Ble(n,t){return!(r3(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=zh(ui(n.Na,n,t),C3(n,n.C)),n.C++,0)))}(n,t)||2==i&&FE(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Xa(n,5);break;case 4:Xa(n,10);break;case 3:Xa(n,6);break;default:Xa(n,2)}}function C3(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Xa(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=ui(n.pb,n);e||(e=new Ja("//www.google.com/images/cleardot.gif"),Re.location&&"http"==Re.location.protocol||a_(e,"https"),c_(e)),function Ple(n,t){const e=new t_;if(Re.Image){const i=new Image;i.onload=Qg(u_,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Qg(u_,e,i,"TestLoadImage: error",!1,t),i.onabort=Qg(u_,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Qg(u_,e,i,"TestLoadImage: timeout",!1,t),Re.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else xi(2);n.H=0,n.h&&n.h.za(t),I3(n),g3(n)}function I3(n){if(n.H=0,n.ma=[],n.h){const t=o3(n.i);(0!=t.length||0!=n.j.length)&&(_V(n.ma,t),_V(n.ma,n.j),n.i.i.length=0,nE(n.j),n.j.length=0),n.h.ya()}}function T3(n,t,e){var i=e instanceof Ja?eo(e):new Ja(e);if(""!=i.g)t&&(i.g=t+"."+i.g),l_(i,i.m);else{var r=Re.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Ja(null);i&&a_(s,i),t&&(s.g=t),r&&l_(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&Rt(i,e,t),Rt(i,"VER",n.ra),ep(n,i),i}function E3(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new nn(e&&n.Ha&&!n.va?new Yh({ob:!0}):n.va)).Oa(n.J),t}function S3(){}function g_(){if(Uc&&!(10<=Number(Jae)))throw Error("Environmental error: no available transport.")}function nr(n,t){Bn.call(this),this.g=new m3(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Fh(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Fh(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new $c(this)}function x3(n){TE.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function D3(){EE.call(this),this.status=1}function $c(n){this.g=n}function Wr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function NE(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],o=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=e+((o=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function ft(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(X=nn.prototype).Oa=function(n){this.M=n},X.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():SE.g(),this.C=function HV(n){return n.h||(n.h=n.i())}(this.u?this.u:SE),this.g.onreadystatechange=ui(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void c3(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Re.FormData&&n instanceof Re.FormData,!(0<=gV(Lle,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of e)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{h3(this),0<this.B&&((this.L=function Nle(n){return Uc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ui(this.ua,this)):this.A=CE(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){c3(this,s)}},X.ua=function(){typeof eE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zn(this,"timeout"),this.abort(8))},X.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zn(this,"complete"),Zn(this,"abort"),h_(this))},X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),h_(this,!0)),nn.$.N.call(this)},X.La=function(){this.s||(this.G||this.v||this.l?d3(this):this.kb())},X.kb=function(){d3(this)},X.isActive=function(){return!!this.g},X.da=function(){try{return 2<cs(this)?this.g.status:-1}catch{return-1}},X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},X.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Ole(t)}},X.Ia=function(){return this.m},X.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(X=m3.prototype).ra=8,X.H=1,X.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new jh(this,this.l,n);let s=this.s;if(this.U&&(s?(s=CV(s),TV(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=y3(this,r,t),Rt(e=eo(this.I),"RID",n),Rt(e,"CVER",22),this.F&&Rt(e,"X-HTTP-Session-Id",this.F),ep(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(f3(s)))+"&"+t:this.o&&PE(e,this.o,s)),ME(this.i,r),this.bb&&Rt(e,"TYPE","init"),this.P?(Rt(e,"$req",t),Rt(e,"SID","null"),r.aa=!0,DE(r,e,null)):DE(r,e,t),this.H=2}}else 3==this.H&&(n?_3(this,n):0==this.j.length||n3(this.i)||_3(this))},X.Ma=function(){if(this.u=null,b3(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=zh(ui(this.jb,this),n)}},X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xi(10),p_(this),b3(this))},X.ib=function(){null!=this.v&&(this.v=null,p_(this),FE(this),xi(19))},X.pb=function(n){n?(this.l.info("Successfully pinged google.com"),xi(2)):(this.l.info("Failed to ping google.com"),xi(1))},X.isActive=function(){return!!this.h&&this.h.isActive(this)},(X=S3.prototype).Ba=function(){},X.Aa=function(){},X.za=function(){},X.ya=function(){},X.isActive=function(){return!0},X.Va=function(){},g_.prototype.g=function(n,t){return new nr(n,t)},Vn(nr,Bn),nr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;xi(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=T3(n,null,n.Y),f_(n)},nr.prototype.close=function(){OE(this.g)},nr.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=vE(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&f_(t)},nr.prototype.N=function(){this.g.h=null,delete this.j,OE(this.g),delete this.g,nr.$.N.call(this)},Vn(x3,TE),Vn(D3,EE),Vn($c,S3),$c.prototype.Ba=function(){Zn(this.g,"a")},$c.prototype.Aa=function(n){Zn(this.g,new x3(n))},$c.prototype.za=function(n){Zn(this.g,new D3)},$c.prototype.ya=function(){Zn(this.g,"b")},Vn(Wr,function Ule(){this.blockSize=-1}),Wr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Wr.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)NE(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){NE(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){NE(this,i),r=0;break}}this.h=r,this.i+=t},Wr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var Hle={};function VE(n){return-128<=n&&128>n?function Qae(n,t){var e=Hle;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new ft([0|t],0>t?-1:0)}):new ft([0|n],0>n?-1:0)}function us(n){if(isNaN(n)||!isFinite(n))return jc;if(0>n)return Jn(us(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=BE;return new ft(t,0)}var BE=4294967296,jc=VE(0),UE=VE(1),k3=VE(16777216);function to(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function wr(n){return-1==n.h}function Jn(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new ft(e,~n.h).add(UE)}function __(n,t){return n.add(Jn(t))}function y_(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function tp(n,t){this.g=n,this.h=t}function v_(n,t){if(to(t))throw Error("division by zero");if(to(n))return new tp(jc,jc);if(wr(n))return t=v_(Jn(n),t),new tp(Jn(t.g),Jn(t.h));if(wr(t))return t=v_(n,Jn(t)),new tp(Jn(t.g),t.h);if(30<n.g.length){if(wr(n)||wr(t))throw Error("slowDivide_ only works with positive integers.");for(var e=UE,i=t;0>=i.X(n);)e=M3(e),i=M3(i);var r=Gc(e,1),s=Gc(i,1);for(i=Gc(i,2),e=Gc(e,2);!to(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(e),s=o),i=Gc(i,1),e=Gc(e,1)}return t=__(n,r.R(t)),new tp(r,t)}for(r=jc;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),o=(s=us(e)).R(t);wr(o)||0<o.X(n);)o=(s=us(e-=i)).R(t);to(s)&&(s=UE),r=r.add(s),n=__(n,o)}return new tp(r,n)}function M3(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new ft(e,n.h)}function Gc(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new ft(r,n.h)}(X=ft.prototype).ea=function(){if(wr(this))return-Jn(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:BE+i)*t,t*=BE}return n},X.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(to(this))return"0";if(wr(this))return"-"+Jn(this).toString(n);for(var t=us(Math.pow(n,6)),e=this,i="";;){var r=v_(e,t).g,s=((0<(e=__(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(to(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},X.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},X.X=function(n){return wr(n=__(this,n))?-1:to(n)?0:1},X.abs=function(){return wr(this)?Jn(this):this},X.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,e[r]=(o&=65535)<<16|(s&=65535)}return new ft(e,-2147483648&e[e.length-1]?-1:0)},X.R=function(n){if(to(this)||to(n))return jc;if(wr(this))return wr(n)?Jn(this).R(Jn(n)):Jn(Jn(this).R(n));if(wr(n))return Jn(this.R(Jn(n)));if(0>this.X(k3)&&0>n.X(k3))return us(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);e[2*i+2*r]+=o*l,y_(e,2*i+2*r),e[2*i+2*r+1]+=s*l,y_(e,2*i+2*r+1),e[2*i+2*r+1]+=o*a,y_(e,2*i+2*r+1),e[2*i+2*r+2]+=s*a,y_(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new ft(e,0)},X.gb=function(n){return v_(this,n).h},X.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new ft(e,this.h&n.h)},X.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new ft(e,this.h|n.h)},X.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new ft(e,this.h^n.h)},g_.prototype.createWebChannel=g_.prototype.g,nr.prototype.send=nr.prototype.u,nr.prototype.open=nr.prototype.m,nr.prototype.close=nr.prototype.close,i_.NO_ERROR=0,i_.TIMEOUT=8,i_.HTTP_ERROR=6,UV.COMPLETE="complete",zV.EventType=$h,$h.OPEN="a",$h.CLOSE="b",$h.ERROR="c",$h.MESSAGE="d",Bn.prototype.listen=Bn.prototype.O,nn.prototype.listenOnce=nn.prototype.P,nn.prototype.getLastError=nn.prototype.Sa,nn.prototype.getLastErrorCode=nn.prototype.Ia,nn.prototype.getStatus=nn.prototype.da,nn.prototype.getResponseJson=nn.prototype.Wa,nn.prototype.getResponseText=nn.prototype.ja,nn.prototype.send=nn.prototype.ha,nn.prototype.setWithCredentials=nn.prototype.Oa,Wr.prototype.digest=Wr.prototype.l,Wr.prototype.reset=Wr.prototype.reset,Wr.prototype.update=Wr.prototype.j,ft.prototype.add=ft.prototype.add,ft.prototype.multiply=ft.prototype.R,ft.prototype.modulo=ft.prototype.gb,ft.prototype.compare=ft.prototype.X,ft.prototype.toNumber=ft.prototype.ea,ft.prototype.toString=ft.prototype.toString,ft.prototype.getBits=ft.prototype.D,ft.fromNumber=us,ft.fromString=function A3(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Jn(A3(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=us(Math.pow(t,8)),i=jc,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),t);8>s?(s=us(Math.pow(t,s)),i=i.R(s).add(us(o))):i=(i=i.R(e)).add(us(o))}return i};var zle=qr.createWebChannelTransport=function(){return new g_},$le=qr.getStatEventTarget=function(){return n_()},HE=qr.ErrorCode=i_,jle=qr.EventType=UV,Gle=qr.Event=Ya,R3=qr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qle=qr.FetchXmlHttpFactory=Yh,b_=qr.WebChannel=zV,Wle=qr.XhrIo=nn,Kle=qr.Md5=Wr,qc=qr.Integer=ft;const P3="@firebase/firestore";class Un{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");let Wc="10.5.2";const Ho=new Sg("@firebase/firestore");function Kc(){return Ho.logLevel}function z(n,...t){if(Ho.logLevel<=Ke.DEBUG){const e=t.map(zE);Ho.debug(`Firestore (${Wc}): ${n}`,...e)}}function mn(n,...t){if(Ho.logLevel<=Ke.ERROR){const e=t.map(zE);Ho.error(`Firestore (${Wc}): ${n}`,...e)}}function Vi(n,...t){if(Ho.logLevel<=Ke.WARN){const e=t.map(zE);Ho.warn(`Firestore (${Wc}): ${n}`,...e)}}function zE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function re(n="Unexpected state"){const t=`FIRESTORE (${Wc}) INTERNAL ASSERTION FAILED: `+n;throw mn(t),new Error(t)}function fe(n,t){n||re()}function Z(n,t){return n}const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends ci{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rn{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class O3{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Zle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Un.UNAUTHENTICATED))}shutdown(){}}class Jle{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Xle{constructor(t){this.t=t,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let o=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rn,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;t.enqueueRetryable(w(function*(){yield c.promise,yield s(i.currentUser)}))},l=c=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rn)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fe("string"==typeof i.accessToken),new O3(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return fe(null===t||"string"==typeof t),new Un(t)}}class ece{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tce{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new ece(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class F3{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nce{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=s=>{null!=s.error&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(fe("string"==typeof e.token),this.R=e.token,new F3(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ice(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class L3{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=ice(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function ke(n,t){return n<t?-1:n>t?1:0}function Qc(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function N3(n){return n+"\0"}class Ut{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new U(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new U(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new U(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new U(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ut.fromMillis(Date.now())}static fromDate(t){return Ut.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ut(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ke(this.nanoseconds,t.nanoseconds):ke(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class me{constructor(t){this.timestamp=t}static fromTimestamp(t){return new me(t)}static min(){return new me(new Ut(0,0))}static max(){return new me(new Ut(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class np{constructor(t,e,i){void 0===e?e=0:e>t.length&&re(),void 0===i?i=t.length-e:i>t.length-e&&re(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===np.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof np?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class it extends np{construct(t,e,i){return new it(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new U(F.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new it(e)}static emptyPath(){return new it([])}}const rce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends np{construct(t,e,i){return new Pt(t,e,i)}static isValidIdentifier(t){return rce.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pt(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new U(F.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new U(F.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new U(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new U(F.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pt(e)}static emptyPath(){return new Pt([])}}class J{constructor(t){this.path=t}static fromPath(t){return new J(it.fromString(t))}static fromName(t){return new J(it.fromString(t).popFirst(5))}static empty(){return new J(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===it.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return it.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new J(new it(t.slice()))}}class Yc{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function $E(n){return n.fields.find(t=>2===t.kind)}function el(n){return n.fields.filter(t=>2!==t.kind)}Yc.UNKNOWN_ID=-1;class tl{constructor(t,e){this.fieldPath=t,this.kind=e}}class Zc{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Zc(0,ir.min())}}function V3(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=me.fromTimestamp(1e9===i?new Ut(e+1,0):new Ut(e,i));return new ir(r,J.empty(),t)}function B3(n){return new ir(n.readTime,n.key,-1)}class ir{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ir(me.min(),J.empty(),-1)}static max(){return new ir(me.max(),J.empty(),-1)}}function jE(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=J.comparator(n.documentKey,t.documentKey),0!==e?e:ke(n.largestBatchId,t.largestBatchId))}const U3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function zo(n){return GE.apply(this,arguments)}function GE(){return GE=w(function*(n){if(n.code!==F.FAILED_PRECONDITION||n.message!==U3)throw n;z("LocalStore","Unexpectedly lost primary lease")}),GE.apply(this,arguments)}class P{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new P((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof P?e:P.resolve(e)}catch(e){return P.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):P.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):P.reject(e)}static resolve(t){return new P((e,i)=>{e(t)})}static reject(t){return new P((e,i)=>{i(t)})}static waitFor(t){return new P((e,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&e()},l=>i(l))}),o=!0,s===r&&e()})}static or(t){let e=P.resolve(!1);for(const i of t)e=e.next(r=>r?P.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new P((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;e(t[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(t,e){return new P((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class w_{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new Rn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new ip(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=qE(i.target.error);this.V.reject(new ip(t,r))}}static open(t,e,i,r){try{return new w_(e,t.transaction(r,i))}catch(s){throw new ip(e,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(z("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new lce(e)}}class Kr{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===Kr.S(Mt())&&mn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return z("SimpleDb","Removing database:",t),nl(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!hh())return!1;if(Kr.C())return!0;const t=Mt(),e=Kr.S(t),i=0<e&&e<10,r=Kr.v(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.F)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return w(function*(){return e.db||(z("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=o=>{i(o.target.result)},s.onblocked=()=>{r(new ip(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;r("VersionError"===a.name?new U(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new U(F.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new ip(t,a))},s.onupgradeneeded=o=>{z("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',o.oldVersion),e.p.N(o.target.result,s.transaction,o.oldVersion,e.version).next(()=>{z("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return w(function*(){const o="readonly"===e;let a=0;for(;;){++a;try{s.db=yield s.O(t);const l=w_.open(s.db,t,o?"readonly":"readwrite",i),c=r(l).next(u=>(l.g(),u)).catch(u=>(l.abort(u),P.reject(u))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,u="FirebaseError"!==c.name&&a<3;if(z("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),s.close(),!u)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ace{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return nl(this.k.delete())}}class ip extends U{constructor(t,e){super(F.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function $o(n){return"IndexedDbTransactionError"===n.name}class lce{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(z("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(z("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),nl(i)}add(t){return z("SimpleDb","ADD",this.store.name,t,t),nl(this.store.add(t))}get(t){return nl(this.store.get(t)).next(e=>(void 0===e&&(e=null),z("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return z("SimpleDb","DELETE",this.store.name,t),nl(this.store.delete(t))}count(){return z("SimpleDb","COUNT",this.store.name),nl(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.G(r,(o,a)=>{s.push(a)}).next(()=>s)}{const r=this.store.getAll(i.range);return new P((s,o)=>{r.onerror=a=>{o(a.target.error)},r.onsuccess=a=>{s(a.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new P((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}H(t,e){z("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.J=!1;const r=this.cursor(i);return this.G(r,(s,o,a)=>a.delete())}Y(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Z(t){const e=this.cursor({});return new P((i,r)=>{e.onerror=s=>{const o=qE(s.target.error);r(o)},e.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}G(t,e){const i=[];return new P((r,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void r();const l=new ace(a),c=e(a.primaryKey,a.value,l);if(c instanceof P){const u=c.catch(d=>(l.done(),P.reject(d)));i.push(u)}l.isDone?r():null===l.$?a.continue():a.continue(l.$)}}).next(()=>P.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.J?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function nl(n){return new P((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=qE(i.target.error);e(r)}})}let z3=!1;function qE(n){const t=Kr.S(Mt());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new U("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return z3||(z3=!0,setTimeout(()=>{throw i},0)),i}}return n}class cce{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(t){var e=this;z("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,w(function*(){e.task=null;try{z("IndexBackiller",`Documents written: ${yield e.X.te()}`)}catch(i){$o(i)?z("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield zo(i)}yield e.ee(6e4)}))}}class uce{constructor(t,e){this.localStore=t,this.persistence=e}te(t=50){var e=this;return w(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.ne(i,t))})()}ne(t,e){const i=new Set;let r=e,s=!0;return P.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(o=>{if(null!==o&&!i.has(o))return z("IndexBackiller",`Processing collection: ${o}`),this.re(t,o,r).next(a=>{r-=a,i.add(o)});s=!1})).next(()=>e-r)}re(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next(()=>this.ie(r,s)).next(a=>(z("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>o.size)}))}ie(t,e){let i=t;return e.changes.forEach((r,s)=>{const o=B3(s);jE(o,i)>0&&(i=o)}),new ir(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let rr=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function rp(n){return null==n}function sp(n){return 0===n&&1/n==-1/0}function $3(n){return"number"==typeof n&&Number.isInteger(n)&&!sp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function hi(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=j3(t)),t=dce(n.get(e),t);return j3(t)}function dce(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function j3(n){return n+"\x01\x01"}function ds(n){const t=n.length;if(fe(t>=2),2===t)return fe("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),it.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const o=n.indexOf("\x01",s);switch((o<0||o>e)&&re(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(s,o),r+="\0";break;case"\x11":r+=n.substring(s,o+1);break;default:re()}s=o+2}return new it(i)}const G3=["userId","batchId"];function C_(n,t){return[n,hi(t)]}function q3(n,t,e){return[n,hi(t),e]}const hce={},pce=["prefixPath","collectionGroup","readTime","documentId"],fce=["prefixPath","collectionGroup","documentId"],mce=["collectionGroup","readTime","prefixPath","documentId"],gce=["canonicalId","targetId"],_ce=["targetId","path"],yce=["path","targetId"],vce=["collectionId","parent"],bce=["indexId","uid"],wce=["uid","sequenceNumber"],Cce=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ice=["indexId","uid","orderedDocumentKey"],Tce=["userId","collectionPath","documentId"],Ece=["userId","collectionPath","largestBatchId"],Sce=["userId","collectionGroup","largestBatchId"],W3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xce=[...W3,"documentOverlays"],K3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Q3=K3,Dce=[...Q3,"indexConfiguration","indexState","indexEntries"];class WE extends H3{constructor(t,e){super(),this.ae=t,this.currentSequenceNumber=e}}function Hn(n,t){const e=Z(n);return Kr.M(e.ae,t)}function Y3(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function jo(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Z3(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class xt{constructor(t,e){this.comparator=t,this.root=e||Xn.EMPTY}insert(t,e){return new xt(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(t){return new xt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new I_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new I_(this.root,t,this.comparator,!1)}getReverseIterator(){return new I_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new I_(this.root,t,this.comparator,!0)}}class I_{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xn{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Xn.RED,this.left=r??Xn.EMPTY,this.right=s??Xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Xn(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Xn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const t=this.left.check();if(t!==this.right.check())throw re();return t+(this.isRed()?0:1)}}Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1,Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(t,e,i,r,s){return this}insert(t,e,i){return new Xn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _t{constructor(t){this.comparator=t,this.data=new xt(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new J3(this.data.getIterator())}getIteratorFrom(t){return new J3(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof _t)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new _t(this.comparator);return e.data=t,e}}class J3{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jc(n){return n.hasNext()?n.getNext():void 0}class Bi{constructor(t){this.fields=t,t.sort(Pt.comparator)}static empty(){return new Bi([])}unionWith(t){let e=new _t(Pt.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Bi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Qc(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class X3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new X3("Invalid base64 string: "+s):s}}(t);return new Pn(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new Pn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ke(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const kce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Go(n){if(fe(!!n),"string"==typeof n){let t=0;const e=kce.exec(n);if(fe(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:rn(n.seconds),nanos:rn(n.nanos)}}function rn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function no(n){return"string"==typeof n?Pn.fromBase64String(n):Pn.fromUint8Array(n)}function T_(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function E_(n){const t=n.mapValue.fields.__previous_value__;return T_(t)?E_(t):t}function op(n){const t=Go(n.mapValue.fields.__local_write_time__.timestampValue);return new Ut(t.seconds,t.nanos)}class Mce{constructor(t,e,i,r,s,o,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class qo{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new qo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof qo&&t.projectId===this.projectId&&t.database===this.database}}const Wo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},S_={nullValue:"NULL_VALUE"};function Ko(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?T_(n)?4:iB(n)?9007199254740991:10:re()}function hs(n,t){if(n===t)return!0;const e=Ko(n);if(e!==Ko(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return op(n).isEqual(op(t));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Go(r.timestampValue),a=Go(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,no(n.bytesValue).isEqual(no(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return rn(r.geoPointValue.latitude)===rn(s.geoPointValue.latitude)&&rn(r.geoPointValue.longitude)===rn(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return rn(r.integerValue)===rn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=rn(r.doubleValue),a=rn(s.doubleValue);return o===a?sp(o)===sp(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return Qc(n.arrayValue.values||[],t.arrayValue.values||[],hs);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(Y3(o)!==Y3(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!hs(o[l],a[l])))return!1;return!0}(n,t);default:return re()}var s}function ap(n,t){return void 0!==(n.values||[]).find(e=>hs(e,t))}function Qo(n,t){if(n===t)return 0;const e=Ko(n),i=Ko(t);if(e!==i)return ke(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,t.booleanValue);case 2:return function(s,o){const a=rn(s.integerValue||s.doubleValue),l=rn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return eB(n.timestampValue,t.timestampValue);case 4:return eB(op(n),op(t));case 5:return ke(n.stringValue,t.stringValue);case 6:return function(s,o){const a=no(s),l=no(o);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ke(a[c],l[c]);if(0!==u)return u}return ke(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const a=ke(rn(s.latitude),rn(o.latitude));return 0!==a?a:ke(rn(s.longitude),rn(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Qo(a[c],l[c]);if(u)return u}return ke(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Wo.mapValue&&o===Wo.mapValue)return 0;if(s===Wo.mapValue)return 1;if(o===Wo.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=ke(l[d],u[d]);if(0!==h)return h;const g=Qo(a[l[d]],c[u[d]]);if(0!==g)return g}return ke(l.length,u.length)}(n.mapValue,t.mapValue);default:throw re()}}function eB(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return ke(n,t);const e=Go(n),i=Go(t),r=ke(e.seconds,i.seconds);return 0!==r?r:ke(e.nanos,i.nanos)}function Xc(n){return KE(n)}function KE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Go(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?no(n.bytesValue).toBase64():"referenceValue"in n?J.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=KE(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${KE(e.fields[o])}`;return r+"}"}(n.mapValue):re()}function il(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function QE(n){return!!n&&"integerValue"in n}function lp(n){return!!n&&"arrayValue"in n}function tB(n){return!!n&&"nullValue"in n}function nB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function D_(n){return!!n&&"mapValue"in n}function cp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return jo(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=cp(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=cp(n.arrayValue.values[e]);return t}return Object.assign({},n)}function iB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Rce(n){return"nullValue"in n?S_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?il(qo.empty(),J.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:re()}function Pce(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?il(qo.empty(),J.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Wo:re()}function rB(n,t){const e=Qo(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function sB(n,t){const e=Qo(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class ei{constructor(t){this.value=t}static empty(){return new ei({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!D_(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=cp(e)}setAll(t){let e=Pt.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}o?i[a.lastSegment()]=cp(o):r.push(a.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());D_(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return hs(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];D_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){jo(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new ei(cp(this.value))}}function oB(n){const t=[];return jo(n.fields,(e,i)=>{const r=new Pt([e]);if(D_(i)){const s=oB(i.mapValue).fields;if(0===s.length)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new Bi(t)}class Ot{constructor(t,e,i,r,s,o,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Ot(t,0,me.min(),me.min(),me.min(),ei.empty(),0)}static newFoundDocument(t,e,i,r){return new Ot(t,1,e,me.min(),i,r,0)}static newNoDocument(t,e){return new Ot(t,2,e,me.min(),me.min(),ei.empty(),0)}static newUnknownDocument(t,e){return new Ot(t,3,e,me.min(),me.min(),ei.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(me.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ot&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yo{constructor(t,e){this.position=t,this.inclusive=e}}function aB(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(i=s.field.isKeyField()?J.comparator(J.fromName(o.referenceValue),e.key):Qo(o,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function lB(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!hs(n.position[e],t.position[e]))return!1;return!0}class up{constructor(t,e="asc"){this.field=t,this.dir=e}}function Oce(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class cB{}class Je extends cB{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Fce(t,e,i):"array-contains"===e?new Vce(t,i):"in"===e?new mB(t,i):"not-in"===e?new Bce(t,i):"array-contains-any"===e?new Uce(t,i):new Je(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new Lce(t,i):new Nce(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Qo(e,this.value)):null!==e&&Ko(this.value)===Ko(e)&&this.matchesComparison(Qo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mt extends cB{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new mt(t,e)}matches(t){return eu(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function eu(n){return"and"===n.op}function YE(n){return"or"===n.op}function ZE(n){return uB(n)&&eu(n)}function uB(n){for(const t of n.filters)if(t instanceof mt)return!1;return!0}function JE(n){if(n instanceof Je)return n.field.canonicalString()+n.op.toString()+Xc(n.value);if(ZE(n))return n.filters.map(t=>JE(t)).join(",");{const t=n.filters.map(e=>JE(e)).join(",");return`${n.op}(${t})`}}function dB(n,t){return n instanceof Je?(i=n,(r=t)instanceof Je&&i.op===r.op&&i.field.isEqual(r.field)&&hs(i.value,r.value)):n instanceof mt?function(i,r){return r instanceof mt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,a)=>s&&dB(o,r.filters[a]),!0)}(n,t):void re();var i,r}function hB(n,t){const e=n.filters.concat(t);return mt.create(e,n.op)}function pB(n){return n instanceof Je?`${(e=n).field.canonicalString()} ${e.op} ${Xc(e.value)}`:n instanceof mt?function(e){return e.op.toString()+" {"+e.getFilters().map(pB).join(" ,")+"}"}(n):"Filter";var e}class Fce extends Je{constructor(t,e,i){super(t,e,i),this.key=J.fromName(i.referenceValue)}matches(t){const e=J.comparator(t.key,this.key);return this.matchesComparison(e)}}class Lce extends Je{constructor(t,e){super(t,"in",e),this.keys=fB(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Nce extends Je{constructor(t,e){super(t,"not-in",e),this.keys=fB(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function fB(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>J.fromName(i.referenceValue))}class Vce extends Je{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return lp(e)&&ap(e.arrayValue,this.value)}}class mB extends Je{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&ap(this.value.arrayValue,e)}}class Bce extends Je{constructor(t,e){super(t,"not-in",e)}matches(t){if(ap(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!ap(this.value.arrayValue,e)}}class Uce extends Je{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!lp(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>ap(this.value.arrayValue,i))}}class Hce{constructor(t,e=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function XE(n,t=null,e=[],i=[],r=null,s=null,o=null){return new Hce(n,t,e,i,r,s,o)}function rl(n){const t=Z(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>JE(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),rp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Xc(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Xc(i)).join(",")),t.ce=e}return t.ce}function dp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Oce(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!dB(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!lB(n.startAt,t.startAt)&&lB(n.endAt,t.endAt)}function A_(n){return J.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function k_(n,t){return n.filters.filter(e=>e instanceof Je&&e.field.isEqual(t))}function gB(n,t,e){let i=S_,r=!0;for(const s of k_(n,t)){let o=S_,a=!0;switch(s.op){case"<":case"<=":o=Rce(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=S_}rB({value:i,inclusive:r},{value:o,inclusive:a})<0&&(i=o,r=a)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];rB({value:i,inclusive:r},{value:o,inclusive:e.inclusive})<0&&(i=o,r=e.inclusive);break}return{value:i,inclusive:r}}function _B(n,t,e){let i=Wo,r=!0;for(const s of k_(n,t)){let o=Wo,a=!0;switch(s.op){case">=":case">":o=Pce(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Wo}sB({value:i,inclusive:r},{value:o,inclusive:a})>0&&(i=o,r=a)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];sB({value:i,inclusive:r},{value:o,inclusive:e.inclusive})>0&&(i=o,r=e.inclusive);break}return{value:i,inclusive:r}}class io{constructor(t,e=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function yB(n,t,e,i,r,s,o,a){return new io(n,t,e,i,r,s,o,a)}function tu(n){return new io(n)}function vB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function e1(n){return null!==n.collectionGroup}function nu(n){const t=Z(n);if(null===t.le){t.le=[];const e=new Set;for(const s of t.explicitOrderBy)t.le.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _t(Pt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.le.push(new up(s,i))}),e.has(Pt.keyField().canonicalString())||t.le.push(new up(Pt.keyField(),i))}return t.le}function Di(n){const t=Z(n);return t.he||(t.he=function bB(n,t){if("F"===n.limitType)return XE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new up(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Yo(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Yo(n.startAt.position,n.startAt.inclusive):null;return XE(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,nu(n))),t.he}function t1(n,t){const e=n.filters.concat([t]);return new io(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function M_(n,t,e){return new io(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function hp(n,t){return dp(Di(n),Di(t))&&n.limitType===t.limitType}function wB(n){return`${rl(Di(n))}|lt:${n.limitType}`}function iu(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>pB(r)).join(", ")}]`),rp(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Xc(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Xc(r)).join(",")),`Target(${i})`}(Di(n))}; limitType=${n.limitType})`}function pp(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):J.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of nu(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(o,a,l){const c=aB(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,nu(i),r)||i.endAt&&!function(o,a,l){const c=aB(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,nu(i),r)));var i,r}function CB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IB(n){return(t,e)=>{let i=!1;for(const r of nu(n)){const s=zce(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function zce(n,t,e){const i=n.field.isKeyField()?J.comparator(t.key,e.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?Qo(l,c):re()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return re()}}class ro{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){jo(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return Z3(this.inner)}size(){return this.innerSize}}const $ce=new xt(J.comparator);function Ui(){return $ce}const TB=new xt(J.comparator);function fp(...n){let t=TB;for(const e of n)t=t.insert(e.key,e);return t}function EB(n){let t=TB;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ps(){return mp()}function SB(){return mp()}function mp(){return new ro(n=>n.toString(),(n,t)=>n.isEqual(t))}const jce=new xt(J.comparator),Gce=new _t(J.comparator);function Ne(...n){let t=Gce;for(const e of n)t=t.add(e);return t}const qce=new _t(ke);function n1(){return qce}function xB(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sp(t)?"-0":t}}function DB(n){return{integerValue:""+n}}function AB(n,t){return $3(t)?DB(t):xB(n,t)}class R_{constructor(){this._=void 0}}function Wce(n,t,e){return n instanceof ru?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&T_(s)&&(s=E_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof sl?MB(n,t):n instanceof ol?RB(n,t):function(r,s){const o=kB(r,s),a=PB(o)+PB(r.Ie);return QE(o)&&QE(r.Ie)?DB(a):xB(r.serializer,a)}(n,t)}function Kce(n,t,e){return n instanceof sl?MB(n,t):n instanceof ol?RB(n,t):e}function kB(n,t){return n instanceof su?QE(i=t)||(s=i)&&"doubleValue"in s?t:{integerValue:0}:null;var i,s}class ru extends R_{}class sl extends R_{constructor(t){super(),this.elements=t}}function MB(n,t){const e=OB(t);for(const i of n.elements)e.some(r=>hs(r,i))||e.push(i);return{arrayValue:{values:e}}}class ol extends R_{constructor(t){super(),this.elements=t}}function RB(n,t){let e=OB(t);for(const i of n.elements)e=e.filter(r=>!hs(r,i));return{arrayValue:{values:e}}}class su extends R_{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function PB(n){return rn(n.integerValue||n.doubleValue)}function OB(n){return lp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class gp{constructor(t,e){this.field=t,this.transform=e}}class Yce{constructor(t,e){this.version=t,this.transformResults=e}}class Ht{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ht}static exists(t){return new Ht(void 0,t)}static updateTime(t){return new Ht(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function P_(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class O_{}function FB(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new au(n.key,Ht.none()):new ou(n.key,n.data,Ht.none());{const e=n.data,i=ei.empty();let r=new _t(Pt.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new so(n.key,i,new Bi(r.toArray()),Ht.none())}}function Zce(n,t,e){n instanceof ou?function(r,s,o){const a=r.value.clone(),l=VB(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof so?function(r,s,o){if(!P_(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=VB(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(NB(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function _p(n,t,e,i){return n instanceof ou?function(s,o,a,l){if(!P_(s.precondition,o))return a;const c=s.value.clone(),u=BB(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof so?function(s,o,a,l){if(!P_(s.precondition,o))return a;const c=BB(s.fieldTransforms,l,o),u=o.data;return u.setAll(NB(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,t,e,i):(a=e,P_(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Jce(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=kB(i.transform,r||null);null!=s&&(null===e&&(e=ei.empty()),e.set(i.field,s))}return e||null}function LB(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Qc(i,r,(s,o)=>function Qce(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof sl&&r instanceof sl||i instanceof ol&&r instanceof ol?Qc(i.elements,r.elements,hs):i instanceof su&&r instanceof su?hs(i.Ie,r.Ie):i instanceof ru&&r instanceof ru);var i,r}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class ou extends O_{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class so extends O_{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function NB(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function VB(n,t,e){const i=new Map;fe(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,Kce(o,a,e[r]))}return i}function BB(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,Wce(s,o,t))}return i}class au extends O_{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r1 extends O_{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class s1{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&Zce(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=_p(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=_p(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=SB();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=e.has(r.key)?null:a;const l=FB(o,a);null!==l&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ne())}isEqual(t){return this.batchId===t.batchId&&Qc(this.mutations,t.mutations,(e,i)=>LB(e,i))&&Qc(this.baseMutations,t.baseMutations,(e,i)=>LB(e,i))}}class o1{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){fe(t.mutations.length===i.length);let r=jce;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new o1(t,e,i,r)}}class a1{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class eue{constructor(t,e){this.count=t,this.unchangedNames=e}}var Tn,rt;function UB(n){switch(n){default:return re();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function HB(n){if(void 0===n)return mn("GRPC error has no .code"),F.UNKNOWN;switch(n){case Tn.OK:return F.OK;case Tn.CANCELLED:return F.CANCELLED;case Tn.UNKNOWN:return F.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return F.INTERNAL;case Tn.UNAVAILABLE:return F.UNAVAILABLE;case Tn.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Tn.NOT_FOUND:return F.NOT_FOUND;case Tn.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Tn.ABORTED:return F.ABORTED;case Tn.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Tn.DATA_LOSS:return F.DATA_LOSS;default:return re()}}(rt=Tn||(Tn={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";function zB(){return new TextEncoder}const tue=new qc([4294967295,4294967295],0);function $B(n){const t=zB().encode(n),e=new Kle;return e.update(t),new Uint8Array(e.digest())}function jB(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new qc([e,i],0),new qc([r,s],0)]}class l1{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new yp(`Invalid padding: ${e}`);if(i<0)throw new yp(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new yp(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new yp(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=qc.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(qc.fromNumber(i)));return 1===r.compare(tue)&&(r=new qc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=$B(t),[i,r]=jB(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new l1(s,r,e);return i.forEach(a=>o.insert(a)),o}insert(t){if(0===this.Te)return;const e=$B(t),[i,r]=jB(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class yp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vp{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,bp.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new vp(me.min(),r,new xt(ke),Ui(),Ne())}}class bp{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new bp(i,e,Ne(),Ne(),Ne())}}class L_{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class GB{constructor(t,e){this.targetId=t,this.fe=e}}class qB{constructor(t,e,i=Pn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class WB{constructor(){this.ge=0,this.pe=QB(),this.ye=Pn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Ne(),e=Ne(),i=Ne();return this.pe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:re()}}),new bp(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=QB()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class nue{constructor(t){this.Le=t,this.ke=new Map,this.qe=Ui(),this.Qe=KB(),this.Ke=new xt(ke)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:re()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const s=r.target;if(A_(s))if(0===i){const o=new J(s.path);this.We(e,o,Ot.newNoDocument(o,me.min()))}else fe(1===i);else{const o=this.Ze(e);if(o!==i){const a=this.Xe(t),l=a?this.et(a,t,o):1;0!==l&&(this.He(e),this.Ke=this.Ke.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,a;try{o=no(i).toUint8Array()}catch(l){if(l instanceof X3)return Vi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new l1(o,r,s)}catch(l){return Vi(l instanceof yp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(e,s,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&A_(a.target)){const l=new J(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,Ot.newNoDocument(l,t))}s.De&&(e.set(o,s.ve()),s.Fe())}});let i=Ne();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const r=new vp(t,e,this.Ke,this.qe,i);return this.qe=Ui(),this.Qe=KB(),this.Ke=new xt(ke),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new WB,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new _t(ke),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||z("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new WB),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function KB(){return new xt(J.comparator)}function QB(){return new xt(J.comparator)}const iue={asc:"ASCENDING",desc:"DESCENDING"},rue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sue={and:"AND",or:"OR"};class oue{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function c1(n,t){return n.useProto3Json||rp(t)?t:{value:t}}function lu(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function YB(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function aue(n,t){return lu(n,t.toTimestamp())}function gn(n){return fe(!!n),me.fromTimestamp(function(e){const i=Go(e);return new Ut(i.seconds,i.nanos)}(n))}function u1(n,t){return(i=n,new it(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function ZB(n){const t=it.fromString(n);return fe(a4(t)),t}function wp(n,t){return u1(n.databaseId,t.path)}function fs(n,t){const e=ZB(t);if(e.get(1)!==n.databaseId.projectId)throw new U(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new U(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new J(XB(e))}function d1(n,t){return u1(n.databaseId,t)}function JB(n){const t=ZB(n);return 4===t.length?it.emptyPath():XB(t)}function Cp(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function XB(n){return fe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function e4(n,t,e){return{name:wp(n,t),fields:e.value.mapValue.fields}}function t4(n,t,e){const i=fs(n,t.name),r=gn(t.updateTime),s=t.createTime?gn(t.createTime):me.min(),o=new ei({mapValue:{fields:t.fields}}),a=Ot.newFoundDocument(i,r,s,o);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function Ip(n,t){let e;if(t instanceof ou)e={update:e4(n,t.key,t.value)};else if(t instanceof au)e={delete:wp(n,t.key)};else if(t instanceof so)e={update:e4(n,t.key,t.data),updateMask:mue(t.fieldMask)};else{if(!(t instanceof r1))return re();e={verify:wp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof ru)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ol)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof su)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw re()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:aue(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:re()),e;var s}function h1(n,t){const e=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?Ht.updateTime(gn(s.updateTime)):void 0!==s.exists?Ht.exists(s.exists):Ht.none():Ht.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,a){let l=null;"setToServerValue"in a?(fe("REQUEST_TIME"===a.setToServerValue),l=new ru):"appendMissingElements"in a?l=new sl(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new ol(a.removeAllFromArray.values||[]):"increment"in a?l=new su(o,a.increment):re();const c=Pt.fromServerFormat(a.fieldPath);return new gp(c,l)}(n,r)):[];var s;if(t.update){const r=fs(n,t.update.name),s=new ei({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=new Bi((t.updateMask.fieldPaths||[]).map(u=>Pt.fromServerFormat(u)));return new so(r,s,o,e,i)}return new ou(r,s,e,i)}if(t.delete){const r=fs(n,t.delete);return new au(r,e)}if(t.verify){const r=fs(n,t.verify);return new r1(r,e)}return re()}function n4(n,t){return{documents:[d1(n,t.path)]}}function p1(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=d1(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=d1(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return o4(mt.create(l,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Zo((d=c).field),direction:hue(d.dir)};var d})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const o=c1(n,t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),e;var l}function r4(n){let t=JB(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){fe(1===i);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let s=[];e.where&&(s=function(d){const h=s4(d);return h instanceof mt&&ZE(h)?h.getFilters():[h]}(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(h=>{return new up(cu((b=h).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;e.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,rp(h)?null:h}(e.limit));let l=null;var d;e.startAt&&(l=new Yo((d=e.startAt).values||[],!!d.before));let c=null;return e.endAt&&(c=function(d){return new Yo(d.values||[],!d.before)}(e.endAt)),yB(t,r,o,s,a,"F",l,c)}function s4(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=cu(e.unaryFilter.field);return Je.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=cu(e.unaryFilter.field);return Je.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=cu(e.unaryFilter.field);return Je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=cu(e.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(n):void 0!==n.fieldFilter?Je.create(cu((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return mt.create(e.compositeFilter.filters.map(i=>s4(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return re()}}(e.compositeFilter.op))}(n):re();var e}function hue(n){return iue[n]}function pue(n){return rue[n]}function fue(n){return sue[n]}function Zo(n){return{fieldPath:n.canonicalString()}}function cu(n){return Pt.fromServerFormat(n.fieldPath)}function o4(n){return n instanceof Je?function(e){if("=="===e.op){if(nB(e.value))return{unaryFilter:{field:Zo(e.field),op:"IS_NAN"}};if(tB(e.value))return{unaryFilter:{field:Zo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nB(e.value))return{unaryFilter:{field:Zo(e.field),op:"IS_NOT_NAN"}};if(tB(e.value))return{unaryFilter:{field:Zo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(e.field),op:pue(e.op),value:e.value}}}(n):n instanceof mt?function(e){const i=e.getFilters().map(r=>o4(r));return 1===i.length?i[0]:{compositeFilter:{op:fue(e.op),filters:i}}}(n):re()}function mue(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function a4(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class oo{constructor(t,e,i,r,s=me.min(),o=me.min(),a=Pn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new oo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class l4{constructor(t){this.ut=t}}function c4(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:N_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:wp(s=n.ut,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:lu(s,o.version.toTimestamp()),createTime:lu(s,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:al(t.version)};else{if(!t.isUnknownDocument())return re();i.unknownDocument={path:e.path.toArray(),version:al(t.version)}}var s,o;return i}function N_(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function al(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ll(n){const t=new Ut(n.seconds,n.nanoseconds);return me.fromTimestamp(t)}function cl(n,t){const e=(t.baseMutations||[]).map(s=>h1(n.ut,s));for(let s=0;s<t.mutations.length-1;++s){const o=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(o.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>h1(n.ut,s)),r=Ut.fromMillis(t.localWriteTimeMs);return new s1(t.batchId,r,e,i)}function Tp(n){const t=ll(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?ll(n.lastLimboFreeSnapshotVersion):me.min();let i;return i=void 0!==n.query.documents?(fe(1===(s=n.query).documents.length),Di(tu(JB(s.documents[0])))):function(s){return Di(r4(s))}(n.query),new oo(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Pn.fromBase64String(n.resumeToken));var s}function u4(n,t){const e=al(t.snapshotVersion),i=al(t.lastLimboFreeSnapshotVersion);let r;r=A_(t.target)?n4(n.ut,t.target):p1(n.ut,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:rl(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function f1(n){const t=r4({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?M_(t,t.limit,"L"):t}function m1(n,t){return new a1(t.largestBatchId,h1(n.ut,t.overlayMutation))}function d4(n,t){const e=t.path.lastSegment();return[n,hi(t.path.popLast()),e]}function h4(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:al(i.readTime),documentKey:hi(i.documentKey.path),largestBatchId:i.largestBatchId}}class _ue{getBundleMetadata(t,e){return p4(t).get(e).next(i=>{if(i)return{id:(s=i).bundleId,createTime:ll(s.createTime),version:s.version};var s})}saveBundleMetadata(t,e){return p4(t).put({bundleId:(r=e).id,createTime:al(gn(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return f4(t).get(e).next(i=>{if(i)return{name:(s=i).name,query:f1(s.bundledQuery),readTime:ll(s.readTime)};var s})}saveNamedQuery(t,e){return f4(t).put({name:(r=e).name,readTime:al(gn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function p4(n){return Hn(n,"bundles")}function f4(n){return Hn(n,"namedQueries")}class V_{constructor(t,e){this.serializer=t,this.userId=e}static ct(t,e){return new V_(t,e.uid||"")}getOverlay(t,e){return Ep(t).get(d4(this.userId,e)).next(i=>i?m1(this.serializer,i):null)}getOverlays(t,e){const i=ps();return P.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,o)=>{const a=new a1(e,o);r.push(this.lt(t,a))}),P.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(o=>r.add(hi(o.getCollectionPath())));const s=[];return r.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(Ep(t).H("collectionPathOverlayIndex",a))}),P.waitFor(s)}getOverlaysForCollection(t,e,i){const r=ps(),s=hi(e),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ep(t).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=m1(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=ps();let o;const a=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Ep(t).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=m1(this.serializer,c);s.size()<r||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}lt(t,e){return Ep(t).put(function(r,s,o){const[a,l,c]=d4(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Ip(r.ut,o.mutation)}}(this.serializer,this.userId,e))}}function Ep(n){return Hn(n,"documentOverlays")}class ul{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(rn(t.integerValue));else if("doubleValue"in t){const i=rn(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),sp(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(no(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?iB(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):re()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),J.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}function yue(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function m4(n){const t=64-function(i){let r=0;for(let s=0;s<8;++s){const o=yue(255&i[s]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(t/8)}ul.St=new ul;class vue{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Dt(i.value),i=e.next();this.Ct()}vt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=e.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(t){const e=this.Bt(t),i=m4(e);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}kt(t){const e=this.Bt(t),i=m4(e);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(t){this.Lt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ut(){return this.buffer.slice(0,this.position)}Bt(t){const e=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Dt(t){const e=255&t;0===e?(this.Qt(0),this.Qt(255)):255===e?(this.Qt(255),this.Qt(0)):this.Qt(e)}Ft(t){const e=255&t;0===e?(this.$t(0),this.$t(255)):255===e?(this.$t(255),this.$t(0)):this.$t(t)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(t){this.Lt(1),this.buffer[this.position++]=t}$t(t){this.Lt(1),this.buffer[this.position++]=~t}Lt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class bue{constructor(t){this.Wt=t}Vt(t){this.Wt.bt(t)}dt(t){this.Wt.xt(t)}Et(t){this.Wt.Nt(t)}It(){this.Wt.qt()}}class wue{constructor(t){this.Wt=t}Vt(t){this.Wt.vt(t)}dt(t){this.Wt.Ot(t)}Et(t){this.Wt.kt(t)}It(){this.Wt.Kt()}}class Sp{constructor(){this.Wt=new vue,this.Gt=new bue(this.Wt),this.zt=new wue(this.Wt)}seed(t){this.Wt.seed(t)}jt(t){return 0===t?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class dl{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ht(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new dl(this.indexId,this.documentKey,this.arrayValue,i)}}function Jo(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=g4(n.arrayValue,t.arrayValue),0!==e?e:(e=g4(n.directionalValue,t.directionalValue),0!==e?e:J.comparator(n.documentKey,t.documentKey)))}function g4(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class _4{constructor(t){this.Jt=new _t((e,i)=>Pt.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];for(const e of t.filters){const i=e;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(t){if(fe(t.collectionGroup===this.collectionId),this.Xt)return!1;const e=$E(t);if(void 0!==e&&!this.tn(e))return!1;const i=el(t);let r=new Set,s=0,o=0;for(;s<i.length&&this.tn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[s];if(!this.nn(a,l)||!this.rn(this.Yt[o++],l))return!1}++s}for(;s<i.length;++s){const a=i[s];if(o>=this.Yt.length||!this.rn(this.Yt[o++],a))return!1}return!0}sn(){if(this.Xt)return null;let t=new _t(Pt.comparator);const e=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new tl(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new tl(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new tl(i.field,"asc"===i.dir?0:1)));return new Yc(Yc.UNKNOWN_ID,this.collectionId,e,Zc.empty())}tn(t){for(const e of this.Zt)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}rn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function y4(n){var t,e;if(fe(n instanceof Je||n instanceof mt),n instanceof Je){if(n instanceof mB){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>Je.create(n.field,"==",s)))||[];return mt.create(r,"or")}return n}const i=n.filters.map(r=>y4(r));return mt.create(i,n.op)}function Cue(n){if(0===n.getFilters().length)return[];const t=y1(y4(n));return fe(v4(t)),g1(t)||_1(t)?[t]:t.getFilters()}function g1(n){return n instanceof Je}function _1(n){return n instanceof mt&&ZE(n)}function v4(n){return g1(n)||_1(n)||function(e){if(e instanceof mt&&YE(e)){for(const i of e.getFilters())if(!g1(i)&&!_1(i))return!1;return!0}return!1}(n)}function y1(n){if(fe(n instanceof Je||n instanceof mt),n instanceof Je)return n;if(1===n.filters.length)return y1(n.filters[0]);const t=n.filters.map(i=>y1(i));let e=mt.create(t,n.op);return e=B_(e),v4(e)?e:(fe(e instanceof mt),fe(eu(e)),fe(e.filters.length>1),e.filters.reduce((i,r)=>v1(i,r)))}function v1(n,t){let e;return fe(n instanceof Je||n instanceof mt),fe(t instanceof Je||t instanceof mt),e=n instanceof Je?t instanceof Je?mt.create([n,t],"and"):b4(n,t):t instanceof Je?b4(t,n):function(r,s){if(fe(r.filters.length>0&&s.filters.length>0),eu(r)&&eu(s))return hB(r,s.getFilters());const o=YE(r)?r:s,a=YE(r)?s:r,l=o.filters.map(c=>v1(c,a));return mt.create(l,"or")}(n,t),B_(e)}function b4(n,t){if(eu(t))return hB(t,n.getFilters());{const e=t.filters.map(i=>v1(n,i));return mt.create(e,"or")}}function B_(n){if(fe(n instanceof Je||n instanceof mt),n instanceof Je)return n;const t=n.getFilters();if(1===t.length)return B_(t[0]);if(uB(n))return n;const e=t.map(r=>B_(r)),i=[];return e.forEach(r=>{r instanceof Je?i.push(r):r instanceof mt&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:mt.create(i,n.op)}class Iue{constructor(){this.on=new b1}addToCollectionParentIndex(t,e){return this.on.add(e),P.resolve()}getCollectionParents(t,e){return P.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return P.resolve()}deleteFieldIndex(t,e){return P.resolve()}deleteAllFieldIndexes(t){return P.resolve()}createTargetIndexes(t,e){return P.resolve()}getDocumentsMatchingTarget(t,e){return P.resolve(null)}getIndexType(t,e){return P.resolve(0)}getFieldIndexes(t,e){return P.resolve([])}getNextCollectionGroupToUpdate(t){return P.resolve(null)}getMinOffset(t,e){return P.resolve(ir.min())}getMinOffsetFromCollectionGroup(t,e){return P.resolve(ir.min())}updateCollectionGroup(t,e,i){return P.resolve()}updateIndexEntries(t,e){return P.resolve()}}class b1{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new _t(it.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new _t(it.comparator)).toArray()}}const U_=new Uint8Array(0);class Tue{constructor(t,e){this.user=t,this.databaseId=e,this._n=new b1,this.an=new ro(i=>rl(i),(i,r)=>dp(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this._n.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this._n.add(e)});const s={collectionId:i,parent:hi(r)};return w4(t).put(s)}return P.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[N3(e),""],!1,!0);return w4(t).W(r).next(s=>{for(const o of s){if(o.collectionId!==e)break;i.push(ds(o.parent))}return i})}addFieldIndex(t,e){const i=xp(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const s=i.add(r);if(e.indexState){const o=du(t);return s.next(a=>{o.put(h4(a,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=xp(t),r=du(t),s=uu(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=xp(t),i=uu(t),r=du(t);return e.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(t,e){return P.forEach(this.un(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const s=new _4(i).sn();if(null!=s)return this.addFieldIndex(t,s)}}))}getDocumentsMatchingTarget(t,e){const i=uu(t);let r=!0;const s=new Map;return P.forEach(this.un(e),o=>this.cn(t,o).next(a=>{r&&(r=!!a),s.set(o,a)})).next(()=>{if(r){let o=Ne();const a=[];return P.forEach(s,(l,c)=>{var A;z("IndexedDbIndexManager",`Using index ${A=l,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(O=>`${O.fieldPath}:${O.kind}`).join(",")}`} to execute ${rl(e)}`);const u=function(A,O){const W=$E(O);if(void 0===W)return null;for(const K of k_(A,W.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null}(c,l),d=function(A,O){const W=new Map;for(const K of el(O))for(const be of k_(A,K.fieldPath))switch(be.op){case"==":case"in":W.set(K.fieldPath.canonicalString(),be.value);break;case"not-in":case"!=":return W.set(K.fieldPath.canonicalString(),be.value),Array.from(W.values())}return null}(c,l),h=function(A,O){const W=[];let K=!0;for(const be of el(O)){const Ve=0===be.kind?gB(A,be.fieldPath,A.startAt):_B(A,be.fieldPath,A.startAt);W.push(Ve.value),K&&(K=Ve.inclusive)}return new Yo(W,K)}(c,l),g=function(A,O){const W=[];let K=!0;for(const be of el(O)){const Ve=0===be.kind?_B(A,be.fieldPath,A.endAt):gB(A,be.fieldPath,A.endAt);W.push(Ve.value),K&&(K=Ve.inclusive)}return new Yo(W,K)}(c,l),b=this.ln(l,c,h),T=this.ln(l,c,g),E=this.hn(l,c,d),D=this.Pn(l.indexId,u,b,h.inclusive,T,g.inclusive,E);return P.forEach(D,M=>i.j(M,e.limit).next(A=>{A.forEach(O=>{const W=J.fromSegments(O.documentKey);o.has(W)||(o=o.add(W),a.push(W))})}))}).next(()=>a)}return P.resolve(null)})}un(t){let e=this.an.get(t);return e||(e=0===t.filters.length?[t]:Cue(mt.create(t.filters,"and")).map(i=>XE(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.an.set(t,e),e)}Pn(t,e,i,r,s,o,a){const l=(null!=e?e.length:1)*Math.max(i.length,s.length),c=l/(null!=e?e.length:1),u=[];for(let d=0;d<l;++d){const h=e?this.In(e[d/c]):U_,g=this.Tn(t,h,i[d%c],r),b=this.En(t,h,s[d%c],o),T=a.map(E=>this.Tn(t,h,E,!0));u.push(...this.createRange(g,b,T))}return u}Tn(t,e,i,r){const s=new dl(t,J.empty(),e,i);return r?s:s.Ht()}En(t,e,i,r){const s=new dl(t,J.empty(),e,i);return r?s.Ht():s}cn(t,e){const i=new _4(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let o=null;for(const a of s)i.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(t,e){let i=2;const r=this.un(e);return P.forEach(r,s=>this.cn(t,s).next(o=>{o?0!==i&&o.fields.length<function(l){let c=new _t(Pt.comparator),u=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||("array-contains"===h.op||"array-contains-any"===h.op?u=!0:c=c.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}dn(t,e){const i=new Sp;for(const r of el(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const o=i.jt(r.kind);ul.St.ht(s,o)}return i.Ut()}In(t){const e=new Sp;return ul.St.ht(t,e.jt(0)),e.Ut()}An(t,e){const i=new Sp;return ul.St.ht(il(this.databaseId,e),i.jt(function(s){const o=el(s);return 0===o.length?0:o[o.length-1].kind}(t))),i.Ut()}hn(t,e,i){if(null===i)return[];let r=[];r.push(new Sp);let s=0;for(const o of el(t)){const a=i[s++];for(const l of r)if(this.Rn(e,o.fieldPath)&&lp(a))r=this.Vn(r,o,a);else{const c=l.jt(o.kind);ul.St.ht(a,c)}}return this.mn(r)}ln(t,e,i){return this.hn(t,e,i.position)}mn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Ut();return e}Vn(t,e,i){const r=[...t],s=[];for(const o of i.arrayValue.values||[])for(const a of r){const l=new Sp;l.seed(a.Ut()),ul.St.ht(o,l.jt(e.kind)),s.push(l)}return s}Rn(t,e){return!!t.filters.find(i=>i instanceof Je&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=xp(t),r=du(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const o=[];return P.forEach(s,a=>r.get([a.indexId,this.uid]).next(l=>{o.push(function(u,d){const h=d?new Zc(d.sequenceNumber,new ir(ll(d.readTime),new J(ds(d.documentKey)),d.largestBatchId)):Zc.empty(),g=u.fields.map(([b,T])=>new tl(Pt.fromServerFormat(b),T));return new Yc(u.indexId,u.collectionGroup,g,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:ke(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=xp(t),s=du(t);return this.fn(t).next(o=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>P.forEach(a,l=>s.put(h4(l.indexId,this.user,o,i)))))}updateIndexEntries(t,e){const i=new Map;return P.forEach(e,(r,s)=>{const o=i.get(r.collectionGroup);return(o?P.resolve(o):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),P.forEach(a,l=>this.gn(t,r,l).next(c=>{const u=this.pn(s,l);return c.isEqual(u)?P.resolve():this.yn(t,s,l,c,u)}))))})}wn(t,e,i,r){return uu(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,e.key),documentKey:e.key.path.toArray()})}Sn(t,e,i,r){return uu(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,e.key),e.key.path.toArray()])}gn(t,e,i){const r=uu(t);let s=new _t(Jo);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,e)])},(o,a)=>{s=s.add(new dl(i.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(t,e){let i=new _t(Jo);const r=this.dn(e,t);if(null==r)return i;const s=$E(e);if(null!=s){const o=t.data.field(s.fieldPath);if(lp(o))for(const a of o.arrayValue.values||[])i=i.add(new dl(e.indexId,t.key,this.In(a),r))}else i=i.add(new dl(e.indexId,t.key,U_,r));return i}yn(t,e,i,r,s){z("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const o=[];return function(l,c,u,d,h){const g=l.getIterator(),b=c.getIterator();let T=Jc(g),E=Jc(b);for(;T||E;){let D=!1,M=!1;if(T&&E){const A=u(T,E);A<0?M=!0:A>0&&(D=!0)}else null!=T?M=!0:D=!0;D?(d(E),E=Jc(b)):M?(h(T),T=Jc(g)):(T=Jc(g),E=Jc(b))}}(r,s,Jo,a=>{o.push(this.wn(t,e,i,a))},a=>{o.push(this.Sn(t,e,i,a))}),P.waitFor(o)}fn(t){let e=1;return du(t).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((o,a)=>Jo(o,a)).filter((o,a,l)=>!a||0!==Jo(o,l[a-1]));const r=[];r.push(t);for(const o of i){const a=Jo(o,t),l=Jo(o,e);if(0===a)r[0]=t.Ht();else if(a>0&&l<0)r.push(o),r.push(o.Ht());else if(l>0)break}r.push(e);const s=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];s.push(IDBKeyRange.bound([r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,U_,[]],[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,U_,[]]))}return s}bn(t,e){return Jo(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(C4)}getMinOffset(t,e){return P.mapArray(this.un(e),i=>this.cn(t,i).next(r=>r||re())).next(C4)}}function w4(n){return Hn(n,"collectionParents")}function uu(n){return Hn(n,"indexEntries")}function xp(n){return Hn(n,"indexConfiguration")}function du(n){return Hn(n,"indexState")}function C4(n){fe(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;jE(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ir(t.readTime,t.documentKey,e)}const I4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pi{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new pi(t,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function T4(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],o=IDBKeyRange.only(e.batchId);let a=0;const l=i.Y({range:o},(u,d,h)=>(a++,h.delete()));s.push(l.next(()=>{fe(1===a)}));const c=[];for(const u of e.mutations){const d=q3(t,u.key.path,e.batchId);s.push(r.delete(d)),c.push(u.key)}return P.waitFor(s).next(()=>c)}function H_(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw re();t=n.noDocument}return JSON.stringify(t).length}pi.DEFAULT_COLLECTION_PERCENTILE=10,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pi.DEFAULT=new pi(41943040,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pi.DISABLED=new pi(-1,0,0);class z_{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(t,e,i,r){fe(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new z_(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xo(t).Y({index:"userMutationsIndex",range:i},(r,s,o)=>{e=!1,o.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=hu(t),o=Xo(t);return o.add({}).next(a=>{fe("number"==typeof a);const l=new s1(a,e,i,r),c=function(g,b,T){const E=T.baseMutations.map(M=>Ip(g.ut,M)),D=T.mutations.map(M=>Ip(g.ut,M));return{userId:b,batchId:T.batchId,localWriteTimeMs:T.localWriteTime.toMillis(),baseMutations:E,mutations:D}}(this.serializer,this.userId,l),u=[];let d=new _t((h,g)=>ke(h.canonicalString(),g.canonicalString()));for(const h of r){const g=q3(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(o.put(c)),u.push(s.put(g,hce))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(t,h))}),t.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),P.waitFor(u).next(()=>l)})}lookupMutationBatch(t,e){return Xo(t).get(e).next(i=>i?(fe(i.userId===this.userId),cl(this.serializer,i)):null)}Cn(t,e){return this.Dn[e]?P.resolve(this.Dn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Dn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Xo(t).Y({index:"userMutationsIndex",range:r},(o,a,l)=>{a.userId===this.userId&&(fe(a.batchId>=i),s=cl(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Xo(t).Y({index:"userMutationsIndex",range:e,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xo(t).W("userMutationsIndex",e).next(i=>i.map(r=>cl(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=C_(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return hu(t).Y({range:r},(o,a,l)=>{const[c,u,d]=o,h=ds(u);if(c===this.userId&&e.path.isEqual(h))return Xo(t).get(d).next(g=>{if(!g)throw re();fe(g.userId===this.userId),s.push(cl(this.serializer,g))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new _t(ke);const r=[];return e.forEach(s=>{const o=C_(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=hu(t).Y({range:a},(c,u,d)=>{const[h,g,b]=c,T=ds(g);h===this.userId&&s.path.isEqual(T)?i=i.add(b):d.done()});r.push(l)}),P.waitFor(r).next(()=>this.vn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=C_(this.userId,i),o=IDBKeyRange.lowerBound(s);let a=new _t(ke);return hu(t).Y({range:o},(l,c,u)=>{const[d,h,g]=l,b=ds(h);d===this.userId&&i.isPrefixOf(b)?b.length===r&&(a=a.add(g)):u.done()}).next(()=>this.vn(t,a))}vn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Xo(t).get(s).next(o=>{if(null===o)throw re();fe(o.userId===this.userId),i.push(cl(this.serializer,o))}))}),P.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return T4(t.ae,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Fn(e.batchId)}),P.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Fn(t){delete this.Dn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return P.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return hu(t).Y({range:i},(s,o,a)=>{if(s[0]===this.userId){const l=ds(s[1]);r.push(l)}else a.done()}).next(()=>{fe(0===r.length)})})}containsKey(t,e){return E4(t,this.userId,e)}Mn(t){return S4(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function E4(n,t,e){const i=C_(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return hu(n).Y({range:s,J:!0},(a,l,c)=>{const[u,d,h]=a;u===t&&d===r&&(o=!0),c.done()}).next(()=>o)}function Xo(n){return Hn(n,"mutations")}function hu(n){return Hn(n,"documentMutations")}function S4(n){return Hn(n,"mutationQueues")}class hl{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new hl(0)}static Nn(){return new hl(-1)}}class Eue{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Bn(t).next(e=>{const i=new hl(e.highestTargetId);return e.highestTargetId=i.next(),this.Ln(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(e=>me.fromTimestamp(new Ut(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Ln(t,r)))}addTargetData(t,e){return this.kn(t,e).next(()=>this.Bn(t).next(i=>(i.targetCount+=1,this.qn(e,i),this.Ln(t,i))))}updateTargetData(t,e){return this.kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>pu(t).delete(e.targetId)).next(()=>this.Bn(t)).next(i=>(fe(i.targetCount>0),i.targetCount-=1,this.Ln(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return pu(t).Y((o,a)=>{const l=Tp(a);l.sequenceNumber<=e&&null===i.get(l.targetId)&&(r++,s.push(this.removeTargetData(t,l)))}).next(()=>P.waitFor(s)).next(()=>r)}forEachTarget(t,e){return pu(t).Y((i,r)=>{const s=Tp(r);e(s)})}Bn(t){return x4(t).get("targetGlobalKey").next(e=>(fe(null!==e),e))}Ln(t,e){return x4(t).put("targetGlobalKey",e)}kn(t,e){return pu(t).put(u4(this.serializer,e))}qn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=rl(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return pu(t).Y({range:r,index:"queryTargetsIndex"},(o,a,l)=>{const c=Tp(a);dp(e,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=ea(t);return e.forEach(o=>{const a=hi(o.path);r.push(s.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(t,i,o))}),P.waitFor(r)}removeMatchingKeys(t,e,i){const r=ea(t);return P.forEach(e,s=>{const o=hi(s.path);return P.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=ea(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=ea(t);let s=Ne();return r.Y({range:i,J:!0},(o,a,l)=>{const c=ds(o[1]),u=new J(c);s=s.add(u)}).next(()=>s)}containsKey(t,e){const i=hi(e.path),r=IDBKeyRange.bound([i],[N3(i)],!1,!0);let s=0;return ea(t).Y({index:"documentTargetsIndex",J:!0,range:r},([o,a],l,c)=>{0!==o&&(s++,c.done())}).next(()=>s>0)}_t(t,e){return pu(t).get(e).next(i=>i?Tp(i):null)}}function pu(n){return Hn(n,"targets")}function x4(n){return Hn(n,"targetGlobal")}function ea(n){return Hn(n,"targetDocuments")}function D4([n,t],[e,i]){const r=ke(n,e);return 0===r?ke(t,i):r}class Sue{constructor(t){this.Qn=t,this.buffer=new _t(D4),this.Kn=0}$n(){return++this.Kn}Un(t){const e=[t,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();D4(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class A4{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(t){var e=this;z("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,w(function*(){e.Wn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){$o(i)?z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield zo(i)}yield e.Gn(3e5)}))}}class xue{constructor(t,e){this.zn=t,this.params=e}calculateTargetCount(t,e){return this.zn.jn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return P.resolve(rr._e);const i=new Sue(e);return this.zn.forEachTarget(t,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(t,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.zn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(I4)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I4):this.Jn(t,e))}getCacheSize(t){return this.zn.getCacheSize(t)}Jn(t,e){let i,r,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,o=Date.now(),this.nthSequenceNumber(t,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(t,i,e))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(d=>(c=Date.now(),Kc()<=Ke.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-u}ms\n\tDetermined least recently used ${r} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(l-a)+`ms\n\tRemoved ${d} documents in `+(c-l)+`ms\nTotal Duration: ${c-u}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:d})))}}class Due{constructor(t,e){this.db=t,this.garbageCollector=function k4(n,t){return new xue(n,t)}(this,e)}jn(t){const e=this.Yn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Yn(t){let e=0;return this.Hn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Hn(t,e){return this.Zn(t,(i,r)=>e(r))}addReference(t,e,i){return $_(t,i)}removeReference(t,e,i){return $_(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return $_(t,e)}Xn(t,e){return function(r,s){let o=!1;return S4(r).Z(a=>E4(r,a,s).next(l=>(l&&(o=!0),P.resolve(!l)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Zn(t,(o,a)=>{if(a<=e){const l=this.Xn(t,o).next(c=>{if(!c)return s++,i.getEntry(t,o).next(()=>(i.removeEntry(o,me.min()),ea(t).delete([0,hi(o.path)])))});r.push(l)}}).next(()=>P.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return $_(t,e)}Zn(t,e){const i=ea(t);let r,s=rr._e;return i.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{0===o?(s!==rr._e&&e(new J(ds(r)),s),s=c,r=l):s=rr._e}).next(()=>{s!==rr._e&&e(new J(ds(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function $_(n,t){return ea(n).put((r=n.currentSequenceNumber,{targetId:0,path:hi(t.path),sequenceNumber:r}));var r}class M4{constructor(){this.changes=new ro(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ot.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?P.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Aue{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return pl(t).put(i)}removeEntry(t,e,i){return pl(t).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],N_(o),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.er(t,i)))}getEntry(t,e){let i=Ot.newInvalidDocument(e);return pl(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Dp(e))},(r,s)=>{i=this.tr(e,s)}).next(()=>i)}nr(t,e){let i={size:0,document:Ot.newInvalidDocument(e)};return pl(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Dp(e))},(r,s)=>{i={document:this.tr(e,s),size:H_(s)}}).next(()=>i)}getEntries(t,e){let i=Ui();return this.rr(t,e,(r,s)=>{const o=this.tr(r,s);i=i.insert(r,o)}).next(()=>i)}ir(t,e){let i=Ui(),r=new xt(J.comparator);return this.rr(t,e,(s,o)=>{const a=this.tr(s,o);i=i.insert(s,a),r=r.insert(s,H_(o))}).next(()=>({documents:i,sr:r}))}rr(t,e,i){if(e.isEmpty())return P.resolve();let r=new _t(F4);e.forEach(l=>r=r.add(l));const s=IDBKeyRange.bound(Dp(r.first()),Dp(r.last())),o=r.getIterator();let a=o.getNext();return pl(t).Y({index:"documentKeyIndex",range:s},(l,c,u)=>{const d=J.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&F4(a,d)<0;)i(a,null),a=o.getNext();a&&a.isEqual(d)&&(i(a,c),a=o.hasNext()?o.getNext():null),a?u.U(Dp(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,s){const o=e.path,a=[o.popLast().toArray(),o.lastSegment(),N_(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pl(t).W(IDBKeyRange.bound(a,l,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let u=Ui();for(const d of c){const h=this.tr(J.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(pp(e,h)||r.has(h.key))&&(u=u.insert(h.key,h))}return u})}getAllFromCollectionGroup(t,e,i,r){let s=Ui();const o=O4(e,i),a=O4(e,ir.max());return pl(t).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.tr(J.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===r&&u.done()}).next(()=>s)}newChangeBuffer(t){return new kue(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return P4(t).get("remoteDocumentGlobalKey").next(e=>(fe(!!e),e))}er(t,e){return P4(t).put("remoteDocumentGlobalKey",e)}tr(t,e){if(e){const i=function gue(n,t){let e;if(t.document)e=t4(n.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=J.fromSegments(t.noDocument.path),r=ll(t.noDocument.readTime);e=Ot.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return re();{const i=J.fromSegments(t.unknownDocument.path),r=ll(t.unknownDocument.version);e=Ot.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const s=new Ut(r[0],r[1]);return me.fromTimestamp(s)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(me.min()))return i}return Ot.newInvalidDocument(t)}}function R4(n){return new Aue(n)}class kue extends M4{constructor(t,e){super(),this._r=t,this.trackRemovals=e,this.ar=new ro(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new _t((s,o)=>ke(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(e.push(this._r.removeEntry(t,s,a.readTime)),o.isValidDocument()){const l=c4(this._r.serializer,o);r=r.add(s.path.popLast()),i+=H_(l)-a.size,e.push(this._r.addEntry(t,s,l))}else if(i-=a.size,this.trackRemovals){const l=c4(this._r.serializer,o.convertToNoDocument(me.min()));e.push(this._r.addEntry(t,s,l))}}),r.forEach(s=>{e.push(this._r.indexManager.addToCollectionParentIndex(t,s))}),e.push(this._r.updateMetadata(t,i)),P.waitFor(e)}getFromCache(t,e){return this._r.nr(t,e).next(i=>(this.ar.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this._r.ir(t,e).next(({documents:i,sr:r})=>(r.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:i.get(s).readTime})}),i))}}function P4(n){return Hn(n,"remoteDocumentGlobal")}function pl(n){return Hn(n,"remoteDocumentsV14")}function Dp(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function O4(n,t){const e=t.documentKey.path.toArray();return[n,N_(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function F4(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=ke(e[s],i[s]),r)return r;return r=ke(e.length,i.length),r||(r=ke(e[e.length-2],i[i.length-2]),r||ke(e[e.length-1],i[i.length-1]))}class Mue{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class L4{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&_p(i.mutation,r,Bi.empty(),Ut.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ne()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ne()){const r=ps();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=fp();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=ps();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ne()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{e.set(o,a)})})}computeViews(t,e,i,r){let s=Ui();const o=mp(),a=mp();return e.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof so)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),_p(u.mutation,c,u.mutation.getFieldMask(),Ut.now())):o.set(c.key,Bi.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),e.forEach((c,u)=>{var d;return a.set(c,new Mue(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(t,e){const i=mp();let r=new xt((o,a)=>o-a),s=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let u=i.get(l)||Bi.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||Ne()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=SB();u.forEach(h=>{if(!s.has(h)){const g=FB(e.get(h),i.get(h));null!==g&&d.set(h,g),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,d))}return P.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return J.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):e1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var o}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):P.resolve(ps());let a=-1,l=s;return o.next(c=>P.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?P.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,Ne())).next(u=>({batchId:a,changes:EB(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new J(e)).next(i=>{let r=fp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=fp();return this.indexManager.getCollectionParents(t,s).next(a=>P.forEach(a,l=>{const c=(d=e,h=l.child(s),new io(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();null===o.get(u)&&(o=o.insert(u,Ot.newInvalidDocument(u)))});let a=fp();return o.forEach((l,c)=>{const u=s.get(l);void 0!==u&&_p(u.mutation,c,Bi.empty(),Ut.now()),pp(e,c)&&(a=a.insert(l,c))}),a})}}class Rue{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return P.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:gn(r.createTime)}),P.resolve();var r}getNamedQuery(t,e){return P.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:f1(r.bundledQuery),readTime:gn(r.readTime)}),P.resolve();var r}}class Pue{constructor(){this.overlays=new xt(J.comparator),this.lr=new Map}getOverlay(t,e){return P.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ps();return P.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.lt(t,e,s)}),P.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),P.resolve()}getOverlaysForCollection(t,e,i){const r=ps(),s=e.length+1,o=new J(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return P.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new xt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let u=s.get(c.largestBatchId);null===u&&(u=ps(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ps(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return P.resolve(a)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new a1(e,i));let s=this.lr.get(e);void 0===s&&(s=Ne(),this.lr.set(e,s)),this.lr.set(e,s.add(i.key))}}class w1{constructor(){this.hr=new _t(zn.Pr),this.Ir=new _t(zn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new zn(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new zn(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new J(new it([])),i=new zn(e,t),r=new zn(e,t+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new J(new it([])),i=new zn(e,t),r=new zn(e,t+1);let s=Ne();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new zn(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class zn{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return J.comparator(t.key,e.key)||ke(t.gr,e.gr)}static Tr(t,e){return ke(t.gr,e.gr)||J.comparator(t.key,e.key)}}class Oue{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new _t(zn.Pr)}checkEmpty(t){return P.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.pr;this.pr++;const o=new s1(s,e,i,r);this.mutationQueue.push(o);for(const a of r)this.yr=this.yr.add(new zn(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(t,e){return P.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),s=r<0?0:r;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new zn(e,0),r=new zn(e,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{const a=this.wr(o.gr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new _t(ke);return e.forEach(r=>{const s=new zn(r,0),o=new zn(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{i=i.add(a.gr)})}),P.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;J.isDocumentKey(s)||(s=s.child(""));const o=new zn(new J(s),0);let a=new _t(ke);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},o),P.resolve(this.br(a))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){fe(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return P.forEach(e.mutations,r=>{const s=new zn(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new zn(e,0),r=this.yr.firstAfterOrEqual(i);return P.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return P.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Fue{constructor(t){this.Cr=t,this.docs=new xt(J.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return P.resolve(i?i.document.mutableCopy():Ot.newInvalidDocument(e))}getEntries(t,e){let i=Ui();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ot.newInvalidDocument(r))}),P.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=Ui();const o=e.path,a=new J(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||jE(B3(u),i)<=0||(r.has(u.key)||pp(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(t,e,i,r){re()}vr(t,e){return P.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Lue(this)}getSize(t){return P.resolve(this.size)}}class Lue extends M4{constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),P.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class Nue{constructor(t){this.persistence=t,this.Fr=new ro(e=>rl(e),dp),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Mr=0,this.Or=new w1,this.targetCount=0,this.Nr=hl.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),P.resolve()}getLastRemoteSnapshotVersion(t){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return P.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),P.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new hl(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,P.resolve()}updateTargetData(t,e){return this.kn(e),P.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,P.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),P.waitFor(s).next(()=>r)}getTargetCount(t){return P.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return P.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),P.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),P.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return P.resolve(i)}containsKey(t,e){return P.resolve(this.Or.containsKey(e))}}class C1{constructor(t,e){this.Br={},this.overlays={},this.Lr=new rr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new Nue(this),this.indexManager=new Iue,this.remoteDocumentCache=new Fue(i=>this.referenceDelegate.Qr(i)),this.serializer=new l4(e),this.Kr=new Rue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Pue,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new Oue(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){z("MemoryPersistence","Starting transaction:",t);const r=new Vue(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(t,e){return P.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class Vue extends H3{constructor(t){super(),this.currentSequenceNumber=t}}class j_{constructor(t){this.persistence=t,this.Gr=new w1,this.zr=null}static jr(t){return new j_(t)}get Hr(){if(this.zr)return this.zr;throw re()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),P.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),P.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),P.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Hr,i=>{const r=J.fromPath(i);return this.Jr(t,r).next(s=>{s||e.removeEntry(r,me.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return P.or([()=>P.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class Bue{constructor(t){this.serializer=t}N(t,e,i,r){const s=new w_("createOrUpgrade",e);var l;i<1&&r>=1&&(t.createObjectStore("owner"),(l=t).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",G3,{unique:!0}),l.createObjectStore("documentMutations"),N4(t),function(l){l.createObjectStore("remoteDocuments")}(t));let o=P.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(t),N4(t)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:me.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(s))),i<4&&r>=4&&(0!==i&&(o=o.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",G3,{unique:!0});const d=c.store("mutations"),h=u.map(g=>d.put(g));return P.waitFor(h)})}(t,s))),o=o.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(o=o.next(()=>this.Zr(s))),i<6&&r>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(t),this.Xr(s)))),i<7&&r>=7&&(o=o.next(()=>this.ei(s))),i<8&&r>=8&&(o=o.next(()=>this.ti(t,s))),i<9&&r>=9&&(o=o.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(o=o.next(()=>this.ni(s))),i<11&&r>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(o=o.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:Tce});c.createIndex("collectionPathOverlayIndex",Ece,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",Sce,{unique:!1})}(t)})),i<13&&r>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:pce});c.createIndex("documentKeyIndex",fce),c.createIndex("collectionGroupIndex",mce)}(t)).next(()=>this.ri(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.ii(t,s))),i<15&&r>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:bce}).createIndex("sequenceNumberIndex",wce,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Cce}).createIndex("documentKeyIndex",Ice,{unique:!1})}(t))),o}Xr(t){let e=0;return t.store("remoteDocuments").Y((i,r)=>{e+=H_(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>P.forEach(r,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",o).next(a=>P.forEach(a,l=>{fe(l.userId===s.userId);const c=cl(this.serializer,l);return T4(t,s.userId,c).next(()=>{})}))}))}ei(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Y((o,a)=>{const l=new it(o),c=[0,hi(l)];s.push(e.get(c).next(u=>u?P.resolve():e.put({targetId:0,path:hi(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>P.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:vce});const i=e.store("collectionParents"),r=new b1,s=o=>{if(r.add(o)){const a=o.lastSegment(),l=o.popLast();return i.put({collectionId:a,parent:hi(l)})}};return e.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new it(o);return s(l.popLast())}).next(()=>e.store("documentMutations").Y({J:!0},([o,a,l],c)=>{const u=ds(a);return s(u.popLast())}))}ni(t){const e=t.store("targets");return e.Y((i,r)=>{const s=Tp(r),o=u4(this.serializer,s);return e.put(o)})}ri(t,e){const i=e.store("remoteDocuments"),r=[];return i.Y((s,o)=>{const a=e.store("remoteDocumentsV14"),l=(d=o,d.document?new J(it.fromString(d.document.name).popFirst(5)):d.noDocument?J.fromSegments(d.noDocument.path):d.unknownDocument?J.fromSegments(d.unknownDocument.path):re()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var d;r.push(a.put(c))}).next(()=>P.waitFor(r))}ii(t,e){const i=e.store("mutations"),r=R4(this.serializer),s=new C1(j_.jr,this.serializer.ut);return i.W().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=null!==(c=a.get(l.userId))&&void 0!==c?c:Ne();cl(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),P.forEach(a,(l,c)=>{const u=new Un(c),d=V_.ct(this.serializer,u),h=s.getIndexManager(u),g=z_.ct(u,this.serializer,h,s.referenceDelegate);return new L4(r,g,d,h).recalculateAndSaveOverlaysForDocumentKeys(new WE(e,rr._e),l).next()})})}}function N4(n){n.createObjectStore("targetDocuments",{keyPath:_ce}).createIndex("documentTargetsIndex",yce,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",gce,{unique:!0}),n.createObjectStore("targetGlobal")}const I1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class T1{constructor(t,e,i,r,s,o,a,l,c,u,d=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.si=s,this.window=o,this.document=a,this.oi=c,this._i=u,this.ai=d,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=h=>Promise.resolve(),!T1.D())throw new U(F.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Due(this,r),this.Ii=e+"main",this.serializer=new l4(l),this.Ti=new Kr(this.Ii,this.ai,new Bue(this.serializer)),this.qr=new Eue(this.referenceDelegate,this.serializer),this.remoteDocumentCache=R4(this.serializer),this.Kr=new _ue,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===u&&mn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new U(F.FAILED_PRECONDITION,I1);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.qr.getHighestSequenceNumber(t))}).then(t=>{this.Lr=new rr(t,this.oi)}).then(()=>{this.kr=!0}).catch(t=>(this.Ti&&this.Ti.close(),Promise.reject(t)))}mi(t){var e=this;return this.Pi=function(){var i=w(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ti.L(function(){var e=w(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget(w(function*(){e.started&&(yield e.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>q_(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(t)).next(e=>this.isPrimary&&!e?this.pi(t).next(()=>!1):!!e&&this.yi(t).next(()=>!0))).catch(t=>{if($o(t))return z("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return z("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.Pi(t)),this.isPrimary=t})}fi(t){return Ap(t).get("owner").next(e=>P.resolve(this.wi(e)))}Si(t){return q_(t).delete(this.clientId)}bi(){var t=this;return w(function*(){if(t.isPrimary&&!t.Di(t.hi,18e5)){t.hi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Hn(i,"clientMetadata");return r.W().next(s=>{const o=t.Ci(s,18e5),a=s.filter(l=>-1===o.indexOf(l));return P.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(t.Ei)for(const i of e)t.Ei.removeItem(t.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(t){return!!t&&t.ownerId===this.clientId}gi(t){return this._i?P.resolve(!0):Ap(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)){if(this.wi(e)&&this.networkEnabled)return!0;if(!this.wi(e)){if(!e.allowTabSynchronization)throw new U(F.FAILED_PRECONDITION,I1);return!1}}return!(!this.networkEnabled||!this.inForeground)||q_(t).W().next(i=>void 0===this.Ci(i,5e3).find(r=>{if(this.clientId!==r.clientId){const o=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||o&&a)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&z("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return w(function*(){t.kr=!1,t.Mi(),t.li&&(t.li.cancel(),t.li=null),t.xi(),t.Oi(),yield t.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new WE(e,rr._e);return t.pi(i).next(()=>t.Si(i))}),t.Ti.close(),t.Ni()})()}Ci(t,e){return t.filter(i=>this.Di(i.updateTimeMs,e)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>q_(t).W().next(e=>this.Ci(e,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(t,e){return z_.ct(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Tue(t,this.serializer.ut.databaseId)}getDocumentOverlayCache(t){return V_.ct(this.serializer,t)}getBundleCache(){return this.Kr}runTransaction(t,e,i){z("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(l=this.ai)?Dce:14===l?Q3:13===l?K3:12===l?xce:11===l?W3:void re();var l;let o;return this.Ti.runTransaction(t,r,s,a=>(o=new WE(a,this.Lr?this.Lr.next():rr._e),"readwrite-primary"===e?this.fi(o).next(l=>!!l||this.gi(o)).next(l=>{if(!l)throw mn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new U(F.FAILED_PRECONDITION,U3);return i(o)}).next(l=>this.yi(o).next(()=>l)):this.Li(o).next(()=>i(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(t){return Ap(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new U(F.FAILED_PRECONDITION,I1)})}yi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ap(t).put("owner",e)}static D(){return Kr.D()}pi(t){const e=Ap(t);return e.get("owner").next(i=>this.wi(i)?(z("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):P.resolve())}Di(t,e){const i=Date.now();return!(t<i-e||t>i&&(mn(`Detected an update time that is in the future: ${t} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;(function ine(){return!Tg()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")})()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(t){var e;try{const i=null!==(null===(e=this.Ei)||void 0===e?void 0:e.getItem(this.vi(t)));return z("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return mn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(t){mn("Failed to set zombie client id.",t)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Ap(n){return Hn(n,"owner")}function q_(n){return Hn(n,"clientMetadata")}function E1(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class S1{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=Ne(),r=Ne();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new S1(t,e.fromCache,i,r)}}class Uue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class V4{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.zi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Uue;return this.Hi(t,e,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,e,o,a.size)})}).next(()=>s.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(Kc()<=Ke.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",iu(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),P.resolve()):(Kc()<=Ke.DEBUG&&z("QueryEngine","Query:",iu(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Kc()<=Ke.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",iu(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(e))):P.resolve())}zi(t,e){if(vB(e))return P.resolve(null);let i=Di(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=M_(e,null,"F"),i=Di(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=Ne(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Yi(e,a);return this.Zi(e,c,o,l.readTime)?this.zi(t,M_(e,null,"F")):this.Xi(t,c,e,l)}))})))}ji(t,e,i,r){return vB(e)||r.isEqual(me.min())?P.resolve(null):this.Gi.getDocuments(t,i).next(s=>{const o=this.Yi(e,s);return this.Zi(e,o,i,r)?P.resolve(null):(Kc()<=Ke.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),iu(e)),this.Xi(t,o,e,V3(r,-1)).next(a=>a))})}Yi(t,e){let i=new _t(IB(t));return e.forEach((r,s)=>{pp(t,s)&&(i=i.add(s))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(t,e,i){return Kc()<=Ke.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",iu(e)),this.Gi.getDocumentsMatchingQuery(t,e,ir.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Hue{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new xt(ke),this.ns=new ro(s=>rl(s),dp),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new L4(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function B4(n,t,e,i){return new Hue(n,t,e,i)}function U4(n,t){return x1.apply(this,arguments)}function x1(){return x1=w(function*(n,t){const e=Z(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Ne();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),x1.apply(this,arguments)}function zue(n,t){const e=Z(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let g=P.resolve();return h.forEach(b=>{g=g.next(()=>u.getEntry(l,b)).next(T=>{const E=c.docVersions.get(b);fe(null!==E),T.version.compareTo(E)<0&&(d.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),u.addEntry(T)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ne();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function H4(n){const t=Z(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function $ue(n,t){const e=Z(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const a=[];t.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(e.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>e.qr.addMatchingKeys(s,u.addedDocuments,d)));let g=h.withSequenceNumber(s.currentSequenceNumber);var T,E,D;null!==t.targetMismatches.get(d)?g=g.withResumeToken(Pn.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,i)),r=r.insert(d,g),E=g,D=u,(0===(T=h).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0)&&a.push(e.qr.updateTargetData(s,g))});let l=Ui(),c=Ne();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(z4(s,o,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(me.min())){const u=e.qr.getLastRemoteSnapshotVersion(s).next(d=>e.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(e.ts=r,s))}function z4(n,t,e){let i=Ne(),r=Ne();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=Ui();return e.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:r}})}function jue(n,t){const e=Z(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function fu(n,t){const e=Z(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(s=>s?(r=s,P.resolve(r)):e.qr.allocateTargetId(i).next(o=>(r=new oo(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}function mu(n,t,e){return D1.apply(this,arguments)}function D1(){return D1=w(function*(n,t,e){const i=Z(n),r=i.ts.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!$o(o))throw o;z("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),D1.apply(this,arguments)}function W_(n,t,e){const i=Z(n);let r=me.min(),s=Ne();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=Z(l),h=d.ns.get(u);return void 0!==h?P.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(i,o,Di(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.es.getDocumentsMatchingQuery(o,t,e?r:me.min(),e?s:Ne())).next(a=>(G4(i,CB(t),a),{documents:a,ls:s})))}function $4(n,t){const e=Z(n),i=Z(e.qr),r=e.ts.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i._t(s,t).next(o=>o?o.target:null))}function j4(n,t){const e=Z(n),i=e.rs.get(t)||me.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.ss.getAllFromCollectionGroup(r,t,V3(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(G4(e,t,r),r))}function G4(n,t,e){let i=n.rs.get(t)||me.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.rs.set(t,i)}function A1(){return A1=w(function*(n,t,e,i){const r=Z(n);let s=Ne(),o=Ui();for(const c of e){const u=t.hs(c.metadata.name);c.document&&(s=s.add(u));const d=t.Ps(c);d.setReadTime(t.Is(c.metadata.readTime)),o=o.insert(u,d)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),l=yield fu(r,(u=i,Di(tu(it.fromString(`__bundle__/docs/${u}`)))));var u;return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>z4(c,a,o).next(u=>(a.apply(c),u)).next(u=>r.qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.qr.addMatchingKeys(c,s,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,u.us,u.cs)).next(()=>u.us)))}),A1.apply(this,arguments)}function que(n,t){return k1.apply(this,arguments)}function k1(){return k1=w(function*(n,t,e=Ne()){const i=yield fu(n,Di(f1(t.bundledQuery))),r=Z(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const o=gn(t.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.Kr.saveNamedQuery(s,t);const a=i.withResumeToken(Pn.EMPTY_BYTE_STRING,o);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(s,a).next(()=>r.qr.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.qr.addMatchingKeys(s,e,i.targetId)).next(()=>r.Kr.saveNamedQuery(s,t))})}),k1.apply(this,arguments)}function q4(n,t){return`firestore_clients_${n}_${t}`}function W4(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function M1(n,t){return`firestore_targets_${n}_${t}`}class K_{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ts(t,e,i){const r=JSON.parse(i);let s,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(s=new U(r.error.code,r.error.message))),o?new K_(t,e,r.state,s):(mn("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class kp{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ts(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new U(i.error.code,i.error.message))),s?new kp(t,i.state,r):(mn("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Q_{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ts(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=n1();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=$3(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new Q_(t,s):(mn("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class R1{constructor(t,e){this.clientId=t,this.onlineState=e}static Ts(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new R1(e.clientId,e.onlineState):(mn("SharedClientState",`Failed to parse online state: ${t}`),null)}}class P1{constructor(){this.activeTargetIds=n1()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class O1{constructor(t,e,i,r,s){this.window=t,this.si=e,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new xt(ke),this.started=!1,this.ps=[];const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=q4(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new P1),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return w(function*(){const e=yield t.syncEngine.Bi();for(const r of e){if(r===t.Rs)continue;const s=t.getItem(q4(t.persistenceKey,r));if(s){const o=Q_.Ts(r,s);o&&(t.gs=t.gs.insert(o.clientId,o))}}t.Fs();const i=t.storage.getItem(t.Cs);if(i){const r=t.Ms(i);r&&t.xs(r)}for(const r of t.ps)t.fs(r);t.ps=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(t){let e=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ns(t,"pending")}updateMutationState(t,e,i){this.Ns(t,e,i),this.Bs(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(M1(this.persistenceKey,t));if(i){const r=kp.Ts(t,i);r&&(e=r.state)}}return this.Ls.ds(t),this.Fs(),e}removeLocalQueryTarget(t){this.Ls.As(t),this.Fs()}isLocalQueryTarget(t){return this.Ls.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(M1(this.persistenceKey,t))}updateQueryState(t,e,i){this.ks(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Bs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.qs(t)}notifyBundleLoaded(t){this.Qs(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return z("SharedClientState","READ",t,e),e}setItem(t,e){z("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){z("SharedClientState","REMOVE",t),this.storage.removeItem(t)}fs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(z("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void mn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(w(function*(){if(e.started){if(null!==i.key)if(e.Ss.test(i.key)){if(null==i.newValue){const r=e.Ks(i.key);return e.$s(r,null)}{const r=e.Us(i.key,i.newValue);if(r)return e.$s(r.clientId,r)}}else if(e.bs.test(i.key)){if(null!==i.newValue){const r=e.Ws(i.key,i.newValue);if(r)return e.Gs(r)}}else if(e.Ds.test(i.key)){if(null!==i.newValue){const r=e.zs(i.key,i.newValue);if(r)return e.js(r)}}else if(i.key===e.Cs){if(null!==i.newValue){const r=e.Ms(i.newValue);if(r)return e.xs(r)}}else if(i.key===e.ws){const r=function(o){let a=rr._e;if(null!=o)try{const l=JSON.parse(o);fe("number"==typeof l),a=l}catch(l){mn("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==rr._e&&e.sequenceNumberHandler(r)}else if(i.key===e.vs){const r=e.Hs(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Js(s)))}}else e.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(t,e,i){const r=new K_(this.currentUser,t,e,i),s=W4(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Es())}Bs(t){const e=W4(this.persistenceKey,this.currentUser,t);this.removeItem(e)}qs(t){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:t}))}ks(t,e,i){const r=M1(this.persistenceKey,t),s=new kp(t,e,i);this.setItem(r,s.Es())}Qs(t){const e=JSON.stringify(Array.from(t));this.setItem(this.vs,e)}Ks(t){const e=this.Ss.exec(t);return e?e[1]:null}Us(t,e){const i=this.Ks(t);return Q_.Ts(i,e)}Ws(t,e){const i=this.bs.exec(t),r=Number(i[1]);return K_.Ts(new Un(void 0!==i[2]?i[2]:null),r,e)}zs(t,e){const i=this.Ds.exec(t),r=Number(i[1]);return kp.Ts(r,e)}Ms(t){return R1.Ts(t)}Hs(t){return JSON.parse(t)}Gs(t){var e=this;return w(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Ys(t.batchId,t.state,t.error);z("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}js(t){return this.syncEngine.Zs(t.targetId,t.state,t.error)}$s(t,e){const i=e?this.gs.insert(t,e):this.gs.remove(t),r=this.Os(this.gs),s=this.Os(i),o=[],a=[];return s.forEach(l=>{r.has(l)||o.push(l)}),r.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=i})}xs(t){this.gs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Os(t){let e=n1();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class K4{constructor(){this.eo=new P1,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new P1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Wue{ro(t){}shutdown(){}}class Q4{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Y_=null;function F1(){return null===Y_?Y_=268435456+Math.round(2147483648*Math.random()):Y_++,"0x"+Y_.toString(16)}const Kue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Que{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const fi="WebChannelConnection";class Yue extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(e,i,r,s,o){const a=F1(),l=this.So(e,i);z("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(e,l,c,r).then(u=>(z("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw Vi("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Co(e,i,r,s,o,a){return this.wo(e,i,r,s,o)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}So(e,i){return`${this.mo}/v1/${i}:${Kue[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const s=F1();return new Promise((o,a)=>{const l=new Wle;l.setWithCredentials(!0),l.listenOnce(jle.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case HE.NO_ERROR:const u=l.getResponseJson();z(fi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),o(u);break;case HE.TIMEOUT:z(fi,`RPC '${t}' ${s} timed out`),a(new U(F.DEADLINE_EXCEEDED,"Request time out"));break;case HE.HTTP_ERROR:const d=l.getStatus();if(z(fi,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const g=h?.error;if(g&&g.status&&g.message){const b=function(E){const D=E.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(D)>=0?D:F.UNKNOWN}(g.status);a(new U(b,g.message))}else a(new U(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new U(F.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{z(fi,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(r);z(fi,`RPC '${t}' ${s} sending request:`,r),l.send(e,"POST",c,i,15)})}vo(t,e,i){const r=F1(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=zle(),a=$le(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new qle({})),this.bo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const u=s.join("");z(fi,`Creating RPC '${t}' stream ${r}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,g=!1;const b=new Que({co:E=>{g?z(fi,`Not sending because RPC '${t}' stream ${r} is closed:`,E):(h||(z(fi,`Opening RPC '${t}' stream ${r} transport.`),d.open(),h=!0),z(fi,`RPC '${t}' stream ${r} sending:`,E),d.send(E))},lo:()=>d.close()}),T=(E,D,M)=>{E.listen(D,A=>{try{M(A)}catch(O){setTimeout(()=>{throw O},0)}})};return T(d,b_.EventType.OPEN,()=>{g||z(fi,`RPC '${t}' stream ${r} transport opened.`)}),T(d,b_.EventType.CLOSE,()=>{g||(g=!0,z(fi,`RPC '${t}' stream ${r} transport closed`),b.Ro())}),T(d,b_.EventType.ERROR,E=>{g||(g=!0,Vi(fi,`RPC '${t}' stream ${r} transport errored:`,E),b.Ro(new U(F.UNAVAILABLE,"The operation could not be completed")))}),T(d,b_.EventType.MESSAGE,E=>{var D;if(!g){const M=E.data[0];fe(!!M);const A=M,O=A.error||(null===(D=A[0])||void 0===D?void 0:D.error);if(O){z(fi,`RPC '${t}' stream ${r} received error:`,O);const W=O.status;let K=function(Xe){const zt=Tn[Xe];if(void 0!==zt)return HB(zt)}(W),be=O.message;void 0===K&&(K=F.INTERNAL,be="Unknown error status: "+W+" with message "+O.message),g=!0,b.Ro(new U(K,be)),d.close()}else z(fi,`RPC '${t}' stream ${r} received:`,M),b.Vo(M)}}),T(a,Gle.STAT_EVENT,E=>{E.stat===R3.PROXY?z(fi,`RPC '${t}' stream ${r} detected buffering proxy`):E.stat===R3.NOPROXY&&z(fi,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.Ao()},0),b}}function Y4(){return typeof window<"u"?window:null}function Z_(){return typeof document<"u"?document:null}function Mp(n){return new oue(n,!0)}class L1{constructor(t,e,i=1e3,r=1.5,s=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&z("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Z4{constructor(t,e,i,r,s,o,a,l){this.si=t,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new L1(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return w(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return w(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return w(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===F.RESOURCE_EXHAUSTED?(mn(e.toString()),mn("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===F.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new U(F.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko(w(function*(){t.state=0,t.start()}))}o_(t){return z("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zue extends Z4{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function cue(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:re(),r=t.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(fe(void 0===u||"string"==typeof u),Pn.fromBase64String(u||"")):(fe(void 0===u||u instanceof Uint8Array),Pn.fromUint8Array(u||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=void 0===c.code?F.UNKNOWN:HB(c.code);return new U(u,c.message||"")}(o);e=new qB(i,r,s,a||null)}else if("documentChange"in t){const i=t.documentChange,r=fs(n,i.document.name),s=gn(i.document.updateTime),o=i.document.createTime?gn(i.document.createTime):me.min(),a=new ei({mapValue:{fields:i.document.fields}}),l=Ot.newFoundDocument(r,s,o,a);e=new L_(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=fs(n,i.document),s=i.readTime?gn(i.readTime):me.min(),o=Ot.newNoDocument(r,s);e=new L_([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const i=t.documentRemove,r=fs(n,i.document);e=new L_([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return re();{const i=t.filter,{count:r=0,unchangedNames:s}=i,o=new eue(r,s);e=new GB(i.targetId,o)}}var c;return e}(this.serializer,t),i=function(s){if(!("targetChange"in s))return me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?gn(o.readTime):me.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=Cp(this.serializer),e.addTarget=function(s,o){let a;const l=o.target;if(a=A_(l)?{documents:n4(s,l)}:{query:p1(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=YB(s,o.resumeToken);const c=c1(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(me.min())>0){a.readTime=lu(s,o.snapshotVersion.toTimestamp());const c=c1(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function due(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=Cp(this.serializer),e.removeTarget=t,this.e_(e)}}class Jue extends Z4{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(fe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function uue(n,t){return n&&n.length>0?(fe(void 0!==t),n.map(e=>function(r,s){let o=gn(r.updateTime?r.updateTime:s);return o.isEqual(me.min())&&(o=gn(s)),new Yce(o,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=gn(t.commitTime);return this.listener.I_(i,e)}return fe(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=Cp(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Ip(this.serializer,i))};this.e_(e)}}class Xue extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new U(F.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new U(F.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,e,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(F.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class tde{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(mn(e),this.f_=!1):z("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class nde{constructor(t,e,i,r,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{i.enqueueAndForget(w(function*(){var l;ta(o)&&(z("RemoteStore","Restarting streams for network reachability change."),yield(l=w(function*(u){const d=Z(u);d.C_.add(4),yield gu(d),d.M_.set("Unknown"),d.C_.delete(4),yield Rp(d)}),function c(u){return l.apply(this,arguments)})(o))}))}),this.M_=new tde(i,r)}}function Rp(n){return V1.apply(this,arguments)}function V1(){return V1=w(function*(n){if(ta(n))for(const t of n.v_)yield t(!0)}),V1.apply(this,arguments)}function gu(n){return B1.apply(this,arguments)}function B1(){return B1=w(function*(n){for(const t of n.v_)yield t(!1)}),B1.apply(this,arguments)}function J_(n,t){const e=Z(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),z1(e)?H1(e):yu(e).Ho()&&U1(e,t))}function Pp(n,t){const e=Z(n),i=yu(e);e.D_.delete(t),i.Ho()&&J4(e,t),0===e.D_.size&&(i.Ho()?i.Zo():ta(e)&&e.M_.set("Unknown"))}function U1(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(me.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}yu(n).u_(t)}function J4(n,t){n.x_.Oe(t),yu(n).c_(t)}function H1(n){n.x_=new nue({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),yu(n).start(),n.M_.g_()}function z1(n){return ta(n)&&!yu(n).jo()&&n.D_.size>0}function ta(n){return 0===Z(n).C_.size}function X4(n){n.x_=void 0}function ide(n){return $1.apply(this,arguments)}function $1(){return $1=w(function*(n){n.D_.forEach((t,e)=>{U1(n,t)})}),$1.apply(this,arguments)}function rde(n,t){return j1.apply(this,arguments)}function j1(){return j1=w(function*(n,t){X4(n),z1(n)?(n.M_.w_(t),H1(n)):n.M_.set("Unknown")}),j1.apply(this,arguments)}function sde(n,t,e){return G1.apply(this,arguments)}function G1(){return G1=w(function*(n,t,e){if(n.M_.set("Online"),t instanceof qB&&2===t.state&&t.cause)try{yield(i=w(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function r(s,o){return i.apply(this,arguments)})(n,t)}catch(i){z("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield X_(n,i)}else if(t instanceof L_?n.x_.$e(t):t instanceof GB?n.x_.Je(t):n.x_.Ge(t),!e.isEqual(me.min()))try{const i=yield H4(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.D_.get(c);u&&s.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.D_.get(l);if(!u)return;s.D_.set(l,u.withResumeToken(Pn.EMPTY_BYTE_STRING,u.snapshotVersion)),J4(s,l);const d=new oo(u.target,l,c,u.sequenceNumber);U1(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){z("RemoteStore","Failed to raise snapshot:",i),yield X_(n,i)}var i}),G1.apply(this,arguments)}function X_(n,t,e){return q1.apply(this,arguments)}function q1(){return q1=w(function*(n,t,e){if(!$o(t))throw t;n.C_.add(1),yield gu(n),n.M_.set("Offline"),e||(e=()=>H4(n.localStore)),n.asyncQueue.enqueueRetryable(w(function*(){z("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield Rp(n)}))}),q1.apply(this,arguments)}function eU(n,t){return t().catch(e=>X_(n,e,t))}function _u(n){return W1.apply(this,arguments)}function W1(){return W1=w(function*(n){const t=Z(n),e=na(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;ode(t);)try{const r=yield jue(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,ade(t,r)}catch(r){yield X_(t,r)}tU(t)&&nU(t)}),W1.apply(this,arguments)}function ode(n){return ta(n)&&n.b_.length<10}function ade(n,t){n.b_.push(t);const e=na(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function tU(n){return ta(n)&&!na(n).jo()&&n.b_.length>0}function nU(n){na(n).start()}function lde(n){return K1.apply(this,arguments)}function K1(){return K1=w(function*(n){na(n).E_()}),K1.apply(this,arguments)}function cde(n){return Q1.apply(this,arguments)}function Q1(){return Q1=w(function*(n){const t=na(n);for(const e of n.b_)t.P_(e.mutations)}),Q1.apply(this,arguments)}function ude(n,t,e){return Y1.apply(this,arguments)}function Y1(){return Y1=w(function*(n,t,e){const i=n.b_.shift(),r=o1.from(i,t,e);yield eU(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield _u(n)}),Y1.apply(this,arguments)}function dde(n,t){return Z1.apply(this,arguments)}function Z1(){return Z1=w(function*(n,t){var e;t&&na(n).h_&&(yield(e=w(function*(r,s){if(UB(a=s.code)&&a!==F.ABORTED){const o=r.b_.shift();na(r).Yo(),yield eU(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield _u(r)}var a}),function i(r,s){return e.apply(this,arguments)})(n,t)),tU(n)&&nU(n)}),Z1.apply(this,arguments)}function iU(n,t){return J1.apply(this,arguments)}function J1(){return J1=w(function*(n,t){const e=Z(n);e.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");const i=ta(e);e.C_.add(3),yield gu(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield Rp(e)}),J1.apply(this,arguments)}function X1(n,t){return eS.apply(this,arguments)}function eS(){return eS=w(function*(n,t){const e=Z(n);t?(e.C_.delete(2),yield Rp(e)):t||(e.C_.add(2),yield gu(e),e.M_.set("Unknown"))}),eS.apply(this,arguments)}function yu(n){return n.O_||(n.O_=function(e,i,r){const s=Z(e);return s.A_(),new Zue(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:ide.bind(null,n),Io:rde.bind(null,n),a_:sde.bind(null,n)}),n.v_.push(function(){var t=w(function*(e){e?(n.O_.Yo(),z1(n)?H1(n):n.M_.set("Unknown")):(yield n.O_.stop(),X4(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function na(n){return n.N_||(n.N_=function(e,i,r){const s=Z(e);return s.A_(),new Jue(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:lde.bind(null,n),Io:dde.bind(null,n),T_:cde.bind(null,n),I_:ude.bind(null,n)}),n.v_.push(function(){var t=w(function*(e){e?(n.N_.Yo(),yield _u(n)):(yield n.N_.stop(),n.b_.length>0&&(z("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class tS{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,a=new tS(t,e,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new U(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vu(n,t){if(mn("AsyncQueue",`${t}: ${n}`),$o(n))return new U(F.UNAVAILABLE,`${t}: ${n}`);throw n}class bu{constructor(t){this.comparator=t?(e,i)=>t(e,i)||J.comparator(e.key,i.key):(e,i)=>J.comparator(e.key,i.key),this.keyedMap=fp(),this.sortedSet=new xt(this.comparator)}static emptySet(t){return new bu(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof bu)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new bu;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class rU{constructor(){this.B_=new xt(J.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):re():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class wu{constructor(t,e,i,r,s,o,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(a=>{o.push({type:0,doc:a})}),new wu(t,e,bu.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class hde{constructor(){this.k_=void 0,this.listeners=[]}}class pde{constructor(){this.queries=new ro(t=>wB(t),hp),this.onlineState="Unknown",this.q_=new Set}}function nS(n,t){return iS.apply(this,arguments)}function iS(){return iS=w(function*(n,t){const e=Z(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new hde),r)try{s.k_=yield e.onListen(i)}catch(o){const a=vu(o,`Initialization of query '${iu(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,s),s.listeners.push(t),t.Q_(e.onlineState),s.k_&&t.K_(s.k_)&&oS(e)}),iS.apply(this,arguments)}function rS(n,t){return sS.apply(this,arguments)}function sS(){return sS=w(function*(n,t){const e=Z(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),sS.apply(this,arguments)}function fde(n,t){const e=Z(n);let i=!1;for(const r of t){const o=e.queries.get(r.query);if(o){for(const a of o.listeners)a.K_(r)&&(i=!0);o.k_=r}}i&&oS(e)}function mde(n,t,e){const i=Z(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function oS(n){n.q_.forEach(t=>{t.next()})}class aS{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new wu(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=wu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class gde{constructor(t,e){this.Y_=t,this.byteLength=e}Z_(){return"metadata"in this.Y_}}class sU{constructor(t){this.serializer=t}hs(t){return fs(this.serializer,t)}Ps(t){return t.metadata.exists?t4(this.serializer,t.document,!1):Ot.newNoDocument(this.hs(t.metadata.name),this.Is(t.metadata.readTime))}Is(t){return gn(t)}}class _de{constructor(t,e,i){this.X_=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=oU(t)}ea(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Y_.namedQuery)this.queries.push(t.Y_.namedQuery);else if(t.Y_.documentMetadata){this.documents.push({metadata:t.Y_.documentMetadata}),t.Y_.documentMetadata.exists||++e;const i=it.fromString(t.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Y_.document&&(this.documents[this.documents.length-1].document=t.Y_.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ta(t){const e=new Map,i=new sU(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.hs(r.metadata.name);for(const o of r.metadata.queries){const a=(e.get(o)||Ne()).add(s);e.set(o,a)}}return e}complete(){var t=this;return w(function*(){const e=yield function Gue(n,t,e,i){return A1.apply(this,arguments)}(t.localStore,new sU(t.serializer),t.documents,t.X_.id),i=t.ta(t.documents);for(const r of t.queries)yield que(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,na:t.collectionGroups,ra:e}})()}}function oU(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class aU{constructor(t){this.key=t}}class lU{constructor(t){this.key=t}}class cU{constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ne(),this.mutatedKeys=Ne(),this._a=IB(t),this.aa=new bu(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new rU,r=e?e.aa:this.aa;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,d)=>{const h=r.get(u),g=pp(this.query,d)?d:null,b=!!h&&this.mutatedKeys.has(h.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;h&&g?h.data.isEqual(g.data)?b!==T&&(i.track({type:3,doc:g}),E=!0):this.ha(h,g)||(i.track({type:2,doc:g}),E=!0,(l&&this._a(g,l)>0||c&&this._a(g,c)<0)&&(a=!0)):!h&&g?(i.track({type:0,doc:g}),E=!0):h&&!g&&(i.track({type:1,doc:h}),E=!0,(l||c)&&(a=!0)),E&&(g?(o=o.add(g),s=T?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{aa:o,la:i,Zi:a,mutatedKeys:s}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const s=t.la.L_();s.sort((c,u)=>function(h,g){const b=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return b(h)-b(g)}(c.type,u.type)||this._a(c.doc,u.doc)),this.Pa(i);const o=e?this.Ia():[],a=0===this.oa.size&&this.current?1:0,l=a!==this.sa;return this.sa=a,0!==s.length||l?{snapshot:new wu(this.query,t.aa,r,s,t.mutatedKeys,0===a,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new rU,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Ne(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new lU(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new aU(i))}),e}da(t){this.ia=t.ls,this.oa=Ne();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return wu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class yde{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class vde{constructor(t){this.key=t,this.Ra=!1}}class bde{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ro(a=>wB(a),hp),this.fa=new Map,this.ga=new Set,this.pa=new xt(J.comparator),this.ya=new Map,this.wa=new w1,this.Sa={},this.ba=new Map,this.Da=hl.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function wde(n,t){return lS.apply(this,arguments)}function lS(){return lS=w(function*(n,t){const e=MS(n);let i,r;const s=e.ma.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const o=yield fu(e.localStore,Di(t)),a=e.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield cS(e,t,i,"current"===a,o.resumeToken),e.isPrimaryClient&&J_(e.remoteStore,o)}return r}),lS.apply(this,arguments)}function cS(n,t,e,i,r){return uS.apply(this,arguments)}function uS(){return uS=w(function*(n,t,e,i,r){n.va=(d,h,g)=>{return(b=w(function*(E,D,M,A){let O=D.view.ca(M);O.Zi&&(O=yield W_(E.localStore,D.query,!1).then(({documents:be})=>D.view.ca(be,O)));const W=A&&A.targetChanges.get(D.targetId),K=D.view.applyChanges(O,E.isPrimaryClient,W);return bS(E,D.targetId,K.Ta),K.snapshot}),function T(E,D,M,A){return b.apply(this,arguments)})(n,d,h,g);var b};const s=yield W_(n.localStore,t,!0),o=new cU(t,s.ls),a=o.ca(s.documents),l=bp.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=o.applyChanges(a,n.isPrimaryClient,l);bS(n,e,c.Ta);const u=new yde(t,e,o);return n.ma.set(t,u),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),c.snapshot}),uS.apply(this,arguments)}function Cde(n,t){return dS.apply(this,arguments)}function dS(){return dS=w(function*(n,t){const e=Z(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(s=>!hp(s,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield mu(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Pp(e.remoteStore,i.targetId),Cu(e,i.targetId)}).catch(zo))):(Cu(e,i.targetId),yield mu(e.localStore,i.targetId,!0))}),dS.apply(this,arguments)}function hS(){return hS=w(function*(n,t,e){const i=RS(n);try{const r=yield function(o,a){const l=Z(o),c=Ut.now(),u=a.reduce((g,b)=>g.add(b.key),Ne());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=Ui(),T=Ne();return l.ss.getEntries(g,u).next(E=>{b=E,b.forEach((D,M)=>{M.isValidDocument()||(T=T.add(D))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,b)).next(E=>{d=E;const D=[];for(const M of a){const A=Jce(M,d.get(M.key).overlayedDocument);null!=A&&D.push(new so(M.key,A,oB(A.value.mapValue),Ht.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,D,a)}).next(E=>{h=E;const D=E.applyToLocalDocumentSet(d,T);return l.documentOverlayCache.saveOverlays(g,E.batchId,D)})}).then(()=>({batchId:h.batchId,changes:EB(d)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new xt(ke)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(i,r.batchId,e),yield ao(i,r.changes),yield _u(i.remoteStore)}catch(r){const s=vu(r,"Failed to persist write");e.reject(s)}}),hS.apply(this,arguments)}function uU(n,t){return pS.apply(this,arguments)}function pS(){return pS=w(function*(n,t){const e=Z(n);try{const i=yield $ue(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.ya.get(s);o&&(fe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?fe(o.Ra):r.removedDocuments.size>0&&(fe(o.Ra),o.Ra=!1))}),yield ao(e,i,t)}catch(i){yield zo(i)}}),pS.apply(this,arguments)}function dU(n,t,e){const i=Z(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=Z(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&oS(l)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Tde(n,t,e){return fS.apply(this,arguments)}function fS(){return fS=w(function*(n,t,e){const i=Z(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),s=r&&r.key;if(s){let o=new xt(J.comparator);o=o.insert(s,Ot.newNoDocument(s,me.min()));const a=Ne().add(s),l=new vp(me.min(),new Map,new xt(ke),o,a);yield uU(i,l),i.pa=i.pa.remove(s),i.ya.delete(t),wS(i)}else yield mu(i.localStore,t,!1).then(()=>Cu(i,t,e)).catch(zo)}),fS.apply(this,arguments)}function Ede(n,t){return mS.apply(this,arguments)}function mS(){return mS=w(function*(n,t){const e=Z(n),i=t.batch.batchId;try{const r=yield zue(e.localStore,t);vS(e,i,null),yS(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield ao(e,r)}catch(r){yield zo(r)}}),mS.apply(this,arguments)}function Sde(n,t,e){return gS.apply(this,arguments)}function gS(){return gS=w(function*(n,t,e){const i=Z(n);try{const r=yield function(o,a){const l=Z(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(fe(null!==d),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);vS(i,t,e),yS(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield ao(i,r)}catch(r){yield zo(r)}}),gS.apply(this,arguments)}function _S(){return _S=w(function*(n,t){const e=Z(n);ta(e.remoteStore)||z("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const a=Z(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ba.get(i)||[];r.push(t),e.ba.set(i,r)}catch(i){const r=vu(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),_S.apply(this,arguments)}function yS(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function vS(n,t,e){const i=Z(n);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function Cu(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||hU(n,i)})}function hU(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(Pp(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),wS(n))}function bS(n,t,e){for(const i of e)i instanceof aU?(n.wa.addReference(i.key,t),Dde(n,i)):i instanceof lU?(z("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||hU(n,i.key)):re()}function Dde(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(z("SyncEngine","New document in limbo: "+e),n.ga.add(i),wS(n))}function wS(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new J(it.fromString(t)),i=n.Da.next();n.ya.set(i,new vde(e)),n.pa=n.pa.insert(e,i),J_(n.remoteStore,new oo(Di(tu(e.path)),i,"TargetPurposeLimboResolution",rr._e))}}function ao(n,t,e){return CS.apply(this,arguments)}function CS(){return CS=w(function*(n,t,e){const i=Z(n),r=[],s=[],o=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{o.push(i.va(l,t,e).then(c=>{if((c||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=S1.Qi(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),i.Va.a_(r),yield(a=w(function*(c,u){const d=Z(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>P.forEach(u,g=>P.forEach(g.ki,b=>d.persistence.referenceDelegate.addReference(h,g.targetId,b)).next(()=>P.forEach(g.qi,b=>d.persistence.referenceDelegate.removeReference(h,g.targetId,b)))))}catch(h){if(!$o(h))throw h;z("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const g=h.targetId;if(!h.fromCache){const b=d.ts.get(g),E=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);d.ts=d.ts.insert(g,E)}}}),function l(c,u){return a.apply(this,arguments)})(i.localStore,s))}),CS.apply(this,arguments)}function Ade(n,t){return IS.apply(this,arguments)}function IS(){return IS=w(function*(n,t){const e=Z(n);if(!e.currentUser.isEqual(t)){z("SyncEngine","User change. New user:",t.toKey());const i=yield U4(e.localStore,t);e.currentUser=t,(s=e).ba.forEach(a=>{a.forEach(l=>{l.reject(new U(F.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield ao(e,i._s)}var s}),IS.apply(this,arguments)}function kde(n,t){const e=Z(n),i=e.ya.get(t);if(i&&i.Ra)return Ne().add(i.key);{let r=Ne();const s=e.fa.get(t);if(!s)return r;for(const o of s){const a=e.ma.get(o);r=r.unionWith(a.view.ua)}return r}}function Mde(n,t){return TS.apply(this,arguments)}function TS(){return TS=w(function*(n,t){const e=Z(n),i=yield W_(e.localStore,t.query,!0),r=t.view.da(i);return e.isPrimaryClient&&bS(e,t.targetId,r.Ta),r}),TS.apply(this,arguments)}function Rde(n,t){return ES.apply(this,arguments)}function ES(){return ES=w(function*(n,t){const e=Z(n);return j4(e.localStore,t).then(i=>ao(e,i))}),ES.apply(this,arguments)}function Pde(n,t,e,i){return SS.apply(this,arguments)}function SS(){return SS=w(function*(n,t,e,i){const r=Z(n),s=yield function(a,l){const c=Z(a),u=Z(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",d=>u.Cn(d,l).next(h=>h?c.localDocuments.getDocuments(d,h):P.resolve(null)))}(r.localStore,t);var l;null!==s?("pending"===e?yield _u(r.remoteStore):"acknowledged"===e||"rejected"===e?(vS(r,t,i||null),yS(r,t),l=t,Z(Z(r.localStore).mutationQueue).Fn(l)):re(),yield ao(r,s)):z("SyncEngine","Cannot apply mutation batch with id: "+t)}),SS.apply(this,arguments)}function xS(){return xS=w(function*(n,t){const e=Z(n);if(MS(e),RS(e),!0===t&&!0!==e.Ca){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield pU(e,i.toArray());e.Ca=!0,yield X1(e.remoteStore,!0);for(const s of r)J_(e.remoteStore,s)}else if(!1===t&&!1!==e.Ca){const i=[];let r=Promise.resolve();e.fa.forEach((s,o)=>{e.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(Cu(e,o),mu(e.localStore,o,!0))),Pp(e.remoteStore,o)}),yield r,yield pU(e,i),function(o){const a=Z(o);a.ya.forEach((l,c)=>{Pp(a.remoteStore,c)}),a.wa.Vr(),a.ya=new Map,a.pa=new xt(J.comparator)}(e),e.Ca=!1,yield X1(e.remoteStore,!1)}}),xS.apply(this,arguments)}function pU(n,t,e){return DS.apply(this,arguments)}function DS(){return DS=w(function*(n,t,e){const i=Z(n),r=[],s=[];for(const o of t){let a;const l=i.fa.get(o);if(l&&0!==l.length){a=yield fu(i.localStore,Di(l[0]));for(const c of l){const u=i.ma.get(c),d=yield Mde(i,u);d.snapshot&&s.push(d.snapshot)}}else{const c=yield $4(i.localStore,o);a=yield fu(i.localStore,c),yield cS(i,fU(c),o,!1,a.resumeToken)}r.push(a)}return i.Va.a_(s),r}),DS.apply(this,arguments)}function fU(n){return yB(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Fde(n){return e=Z(n).localStore,Z(Z(e).persistence).Bi();var e}function Lde(n,t,e,i){return AS.apply(this,arguments)}function AS(){return AS=w(function*(n,t,e,i){const r=Z(n);if(r.Ca)return void z("SyncEngine","Ignoring unexpected query state notification.");const s=r.fa.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const o=yield j4(r.localStore,CB(s[0])),a=vp.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Pn.EMPTY_BYTE_STRING);yield ao(r,o,a);break}case"rejected":yield mu(r.localStore,t,!0),Cu(r,t,i);break;default:re()}}),AS.apply(this,arguments)}function Nde(n,t,e){return kS.apply(this,arguments)}function kS(){return kS=w(function*(n,t,e){const i=MS(n);if(i.Ca){for(const r of t){if(i.fa.has(r)){z("SyncEngine","Adding an already active target "+r);continue}const s=yield $4(i.localStore,r),o=yield fu(i.localStore,s);yield cS(i,fU(s),o.targetId,!1,o.resumeToken),J_(i.remoteStore,o)}for(const r of e)i.fa.has(r)&&(yield mu(i.localStore,r,!1).then(()=>{Pp(i.remoteStore,r),Cu(i,r)}).catch(zo))}}),kS.apply(this,arguments)}function MS(n){const t=Z(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=uU.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kde.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Tde.bind(null,t),t.Va.a_=fde.bind(null,t.eventManager),t.Va.Fa=mde.bind(null,t.eventManager),t}function RS(n){const t=Z(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ede.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sde.bind(null,t),t}class Op{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return w(function*(){e.serializer=Mp(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return B4(this.persistence,new V4,t.initialUser,this.serializer)}createPersistence(t){return new C1(j_.jr,this.serializer)}createSharedClientState(t){return new K4}terminate(){var t=this;return w(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class PS extends Op{constructor(t,e,i){super(),this.xa=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return w(function*(){yield e().call(i,t),yield i.xa.initialize(i,t),yield RS(i.xa.syncEngine),yield _u(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return B4(this.persistence,new V4,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new A4(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new uce(e,this.persistence);return new cce(t.asyncQueue,i)}createPersistence(t){const e=E1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?pi.withCacheSize(this.cacheSizeBytes):pi.DEFAULT;return new T1(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,Y4(),Z_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new K4}}class mU extends PS{constructor(t,e){super(t,e,!1),this.xa=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return w(function*(){yield e().call(i,t);const r=i.xa.syncEngine;i.sharedClientState instanceof O1&&(i.sharedClientState.syncEngine={Ys:Pde.bind(null,r),Zs:Lde.bind(null,r),Xs:Nde.bind(null,r),Bi:Fde.bind(null,r),Js:Rde.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var s=w(function*(o){yield function Ode(n,t){return xS.apply(this,arguments)}(i.xa.syncEngine,o),i.gcScheduler&&(o&&!i.gcScheduler.started?i.gcScheduler.start():o||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(o&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():o||i.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=Y4();if(!O1.D(e))throw new U(F.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=E1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new O1(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Iu{initialize(t,e){var i=this;return w(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>dU(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Ade.bind(null,i.syncEngine),yield X1(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new pde}createDatastore(t){const e=Mp(t.databaseInfo.databaseId),i=new Yue(t.databaseInfo);return new Xue(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,s=t.asyncQueue,o=e=>dU(this.syncEngine,e,0),a=Q4.D()?new Q4:new Wue,new nde(i,r,s,o,a);var i,r,s,o,a}createSyncEngine(t,e){return function(r,s,o,a,l,c,u){const d=new bde(r,s,o,a,l,c);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return function(){var t=w(function*(i){const r=Z(i);z("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield gu(r),r.F_.shutdown(),r.M_.set("Unknown")});return function e(i){return t.apply(this,arguments)}}()(this.remoteStore)}}function gU(n,t=10240){let e=0;return{read:()=>w(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>w(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class ey{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):mn("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Ude{constructor(t,e){this.Ba=t,this.serializer=e,this.metadata=new Rn,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var t=this;return w(function*(){return t.metadata.promise})()}Ma(){var t=this;return w(function*(){return yield t.getMetadata(),t.ka()})()}ka(){var t=this;return w(function*(){const e=yield t.qa();if(null===e)return null;const i=t.La.decode(e),r=Number(i);isNaN(r)&&t.Qa(`length string (${i}) is not valid number`);const s=yield t.Ka(r);return new gde(JSON.parse(s),e.length+r)})()}$a(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}qa(){var t=this;return w(function*(){for(;t.$a()<0&&!(yield t.Ua()););if(0===t.buffer.length)return null;const e=t.$a();e<0&&t.Qa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Ka(t){var e=this;return w(function*(){for(;e.buffer.length<t;)(yield e.Ua())&&e.Qa("Reached the end of bundle when more is expected.");const i=e.La.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Qa(t){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${t}`)}Ua(){var t=this;return w(function*(){const e=yield t.Ba.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Hde{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return w(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new U(F.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=w(function*(o,a){const l=Z(o),c=Cp(l.serializer)+"/documents",u={documents:a.map(b=>wp(l.serializer,b))},d=yield l.Co("BatchGetDocuments",c,u,a.length),h=new Map;d.forEach(b=>{const T=function lue(n,t){return"found"in t?function(i,r){fe(!!r.found);const s=fs(i,r.found.name),o=gn(r.found.updateTime),a=r.found.createTime?gn(r.found.createTime):me.min(),l=new ei({mapValue:{fields:r.found.fields}});return Ot.newFoundDocument(s,o,a,l)}(n,t):"missing"in t?function(i,r){fe(!!r.missing),fe(!!r.readTime);const s=fs(i,r.missing),o=gn(r.readTime);return Ot.newNoDocument(s,o)}(n,t):re()}(l.serializer,b);h.set(T.key.toString(),T)});const g=[];return a.forEach(b=>{const T=h.get(b.toString());fe(!!T),g.push(T)}),g}),function s(o,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new au(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return w(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=J.fromPath(r);t.mutations.push(new r1(s,t.precondition(s)))}),yield(i=w(function*(s,o){const a=Z(s),l=Cp(a.serializer)+"/documents",c={writes:o.map(u=>Ip(a.serializer,u))};yield a.wo("Commit",l,c)}),function r(s,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw re();e=me.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new U(F.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(me.min())?Ht.exists(!1):Ht.updateTime(e):Ht.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(me.min()))throw new U(F.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ht.updateTime(e)}return Ht.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class zde{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Wa=i.maxAttempts,this.zo=new L1(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var t=this;this.zo.ko(w(function*(){const e=new Hde(t.datastore),i=t.za(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.ja(s)}))}).catch(r=>{t.ja(r)})}))}za(t){try{const e=this.updateFunction(t);return!rp(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(t){this.Wa>0&&this.Ha(t)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(t)}Ha(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!UB(e)}return!1}}class $de{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Un.UNAUTHENTICATED,this.clientId=L3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=w(function*(a){z("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var t=this;return w(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(w(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=vu(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function ty(n,t){return OS.apply(this,arguments)}function OS(){return OS=w(function*(n,t){n.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=w(function*(s){i.isEqual(s)||(yield U4(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),OS.apply(this,arguments)}function FS(n,t){return LS.apply(this,arguments)}function LS(){return LS=w(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield NS(n);z("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>iU(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>iU(t.remoteStore,s)),n._onlineComponents=t}),LS.apply(this,arguments)}function _U(n){return"FirebaseError"===n.name?n.code===F.FAILED_PRECONDITION||n.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function NS(n){return VS.apply(this,arguments)}function VS(){return VS=w(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ty(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!_U(e))throw e;Vi("Error using user provided cache. Falling back to memory cache: "+e),yield ty(n,new Op)}}else z("FirestoreClient","Using default OfflineComponentProvider"),yield ty(n,new Op);return n._offlineComponents}),VS.apply(this,arguments)}function ny(n){return BS.apply(this,arguments)}function BS(){return BS=w(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),yield FS(n,n._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),yield FS(n,new Iu))),n._onlineComponents}),BS.apply(this,arguments)}function yU(n){return NS(n).then(t=>t.persistence)}function Tu(n){return NS(n).then(t=>t.localStore)}function vU(n){return ny(n).then(t=>t.remoteStore)}function US(n){return ny(n).then(t=>t.syncEngine)}function Eu(n){return HS.apply(this,arguments)}function HS(){return HS=w(function*(n){const t=yield ny(n),e=t.eventManager;return e.onListen=wde.bind(null,t.syncEngine),e.onUnlisten=Cde.bind(null,t.syncEngine),e}),HS.apply(this,arguments)}function wU(n,t,e={}){const i=new Rn;return n.asyncQueue.enqueueAndForget(w(function*(){return function(s,o,a,l,c){const u=new ey({next:h=>{o.enqueueAndForget(()=>rS(s,d));const g=h.docs.has(a);!g&&h.fromCache?c.reject(new U(F.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&"server"===l.source?c.reject(new U(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new aS(tu(a.path),u,{includeMetadataChanges:!0,J_:!0});return nS(s,d)}(yield Eu(n),n.asyncQueue,t,e,i)})),i.promise}function CU(n,t,e={}){const i=new Rn;return n.asyncQueue.enqueueAndForget(w(function*(){return function(s,o,a,l,c){const u=new ey({next:h=>{o.enqueueAndForget(()=>rS(s,d)),h.fromCache&&"server"===l.source?c.reject(new U(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new aS(a,u,{includeMetadataChanges:!0,J_:!0});return nS(s,d)}(yield Eu(n),n.asyncQueue,t,e,i)})),i.promise}function IU(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const TU=new Map;function zS(n,t,e){if(!e)throw new U(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function EU(n,t,e,i){if(!0===t&&!0===i)throw new U(F.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function SU(n){if(!J.isDocumentKey(n))throw new U(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xU(n){if(J.isDocumentKey(n))throw new U(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function iy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":re()}function Ye(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new U(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=iy(n);throw new U(F.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function DU(n,t){if(t<=0)throw new U(F.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class AU{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new U(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new U(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}EU("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=IU(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new U(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Fp{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new U(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AU(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new Zle;switch(i.type){case"firstParty":return new tce(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new U(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=TU.get(e);i&&(z("ComponentProvider","Removing Datastore"),TU.delete(e),i.terminate())}(this),Promise.resolve()}}class ti{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ti(this.firestore,t,this._query)}}class Ft{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ft(this.firestore,t,this._key)}}class ms extends ti{constructor(t,e,i){super(t,e,tu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ft(this.firestore,null,new J(t))}withConverter(t){return new ms(this.firestore,t,this._path)}}function MU(n,t,...e){if(n=pe(n),zS("collection","path",t),n instanceof Fp){const i=it.fromString(t,...e);return xU(i),new ms(n,null,i)}{if(!(n instanceof Ft||n instanceof ms))throw new U(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(t,...e));return xU(i),new ms(n.firestore,null,i)}}function ry(n,t,...e){if(n=pe(n),1===arguments.length&&(t=L3.newId()),zS("doc","path",t),n instanceof Fp){const i=it.fromString(t,...e);return SU(i),new Ft(n,null,new J(i))}{if(!(n instanceof Ft||n instanceof ms))throw new U(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(t,...e));return SU(i),new Ft(n.firestore,n instanceof ms?n.converter:null,new J(i))}}function RU(n,t){return n=pe(n),t=pe(t),(n instanceof Ft||n instanceof ms)&&(t instanceof Ft||t instanceof ms)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function $S(n,t){return n=pe(n),t=pe(t),n instanceof ti&&t instanceof ti&&n.firestore===t.firestore&&hp(n._query,t._query)&&n.converter===t.converter}class the{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new L1(this,"async_queue_retry"),this.iu=()=>{const e=Z_();e&&z("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=Z_();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=Z_();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new Rn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return w(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!$o(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,mn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=tS.createAndSchedule(this,t,e,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&re()}verifyOperationInProgress(){}uu(){var t=this;return w(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}function jS(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class nhe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Dt extends Fp{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new the,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||PU(this),this._firestoreClient.terminate()}}function sn(n){return n._firestoreClient||PU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function PU(n){var t,e,i;const r=n._freezeSettings(),s=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Mce(n._databaseId,l,n._persistenceKey,(u=r).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,IU(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._firestoreClient=new $de(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(e=r.localCache)||void 0===e?void 0:e._offlineComponentProvider)&&(null===(i=r.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function OU(n,t,e){const i=new Rn;return n.asyncQueue.enqueue(w(function*(){try{yield ty(n,e),yield FS(n,t),i.resolve()}catch(r){const s=r;if(!_U(s))throw s;Vi("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function FU(n){if(n._initialized||n._terminated)throw new U(F.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gs(Pn.fromBase64String(t))}catch(e){throw new U(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new gs(Pn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class lo{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new U(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class fl{constructor(t){this._methodName=t}}class sy{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new U(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new U(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ke(this._lat,t._lat)||ke(this._long,t._long)}}const phe=/^__.*__$/;class fhe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new so(t,this.data,this.fieldMask,e,this.fieldTransforms):new ou(t,this.data,e,this.fieldTransforms)}}class LU{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new so(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function NU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class oy{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new oy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return cy(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(NU(this.Iu)&&phe.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class mhe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Mp(t)}pu(t,e,i,r=!1){return new oy({Iu:t,methodName:e,gu:i,path:Pt.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ml(n){const t=n._freezeSettings(),e=Mp(n._databaseId);return new mhe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function ay(n,t,e,i,r,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,t,e,r);KS("Data must be an object, but it was:",o,i);const a=UU(i,o);let l,c;if(s.merge)l=new Bi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Vp(t,d,e);if(!o.contains(h))throw new U(F.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);zU(u,h)||u.push(h)}l=new Bi(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new fhe(new ei(a),l,c)}class Np extends fl{_toFieldTransform(t){if(2!==t.Iu)throw t.mu(1===t.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Np}}function VU(n,t,e){return new oy({Iu:3,gu:t.settings.gu,methodName:n._methodName,du:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class GS extends fl{_toFieldTransform(t){return new gp(t.path,new ru)}isEqual(t){return t instanceof GS}}class ghe extends fl{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=VU(this,t,!0),i=this.yu.map(s=>gl(s,e)),r=new sl(i);return new gp(t.path,r)}isEqual(t){return this===t}}class _he extends fl{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=VU(this,t,!0),i=this.yu.map(s=>gl(s,e)),r=new ol(i);return new gp(t.path,r)}isEqual(t){return this===t}}class yhe extends fl{constructor(t,e){super(t),this.wu=e}_toFieldTransform(t){const e=new su(t.serializer,AB(t.serializer,this.wu));return new gp(t.path,e)}isEqual(t){return this===t}}function qS(n,t,e,i){const r=n.pu(1,t,e);KS("Data must be an object, but it was:",r,i);const s=[],o=ei.empty();jo(i,(l,c)=>{const u=ly(t,l,e);c=pe(c);const d=r.Ru(u);if(c instanceof Np)s.push(u);else{const h=gl(c,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new Bi(s);return new LU(o,a,r.fieldTransforms)}function WS(n,t,e,i,r,s){const o=n.pu(1,t,e),a=[Vp(t,i,e)],l=[r];if(s.length%2!=0)throw new U(F.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Vp(t,s[h])),l.push(s[h+1]);const c=[],u=ei.empty();for(let h=a.length-1;h>=0;--h)if(!zU(c,a[h])){const g=a[h];let b=l[h];b=pe(b);const T=o.Ru(g);if(b instanceof Np)c.push(g);else{const E=gl(b,T);null!=E&&(c.push(g),u.set(g,E))}}const d=new Bi(c);return new LU(u,d,o.fieldTransforms)}function BU(n,t,e,i=!1){return gl(e,n.pu(i?4:3,t))}function gl(n,t){if(HU(n=pe(n)))return KS("Unsupported field value:",t,n),UU(n,t);if(n instanceof fl)return function(i,r){if(!NU(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=gl(a,r.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if(null===(i=pe(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return AB(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=Ut.fromDate(i);return{timestampValue:lu(r.serializer,s)}}if(i instanceof Ut){const s=new Ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:lu(r.serializer,s)}}if(i instanceof sy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gs)return{bytesValue:YB(r.serializer,i._byteString)};if(i instanceof Ft){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:u1(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${iy(i)}`)}(n,t)}function UU(n,t){const e={};return Z3(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jo(n,(i,r)=>{const s=gl(r,t.Eu(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function HU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ut||n instanceof sy||n instanceof gs||n instanceof Ft||n instanceof fl)}function KS(n,t,e){if(!HU(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=iy(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Vp(n,t,e){if((t=pe(t))instanceof lo)return t._internalPath;if("string"==typeof t)return ly(n,t);throw cy("Field path arguments must be of type string or ",n,!1,void 0,e)}const vhe=new RegExp("[~\\*/\\[\\]]");function ly(n,t,e){if(t.search(vhe)>=0)throw cy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new lo(...t.split("."))._internalPath}catch{throw cy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function cy(n,t,e,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new U(F.INVALID_ARGUMENT,a+n+l)}function zU(n,t){return n.some(e=>e.isEqual(t))}class Bp{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new bhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(uy("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class bhe extends Bp{data(){return super.data()}}function uy(n,t){return"string"==typeof t?ly(n,t):t instanceof lo?t._internalPath:t._delegate._internalPath}function $U(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new U(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QS{}class Up extends QS{}function ia(n,t,...e){let i=[];t instanceof QS&&i.push(t),i=i.concat(e),function(s){const o=s.filter(l=>l instanceof Su).length,a=s.filter(l=>l instanceof Hp).length;if(o>1||o>0&&a>0)throw new U(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Hp extends Up{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Hp(t,e,i)}_apply(t){const e=this._parse(t);return WU(t._query,e),new ti(t.firestore,t.converter,t1(t._query,e))}_parse(t){const e=ml(t.firestore);return function(s,o,a,l,c,u,d){let h;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new U(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){qU(d,u);const g=[];for(const b of d)g.push(GU(l,s,b));h={arrayValue:{values:g}}}else h=GU(l,s,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||qU(d,u),h=BU(a,"where",d,"in"===u||"not-in"===u);return Je.create(c,u,h)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Su extends QS{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Su(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:mt.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)WU(o,l),o=t1(o,l)}(t._query,e),new ti(t.firestore,t.converter,t1(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class YS extends Up{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new YS(t,e)}_apply(t){const e=function(r,s,o){if(null!==r.startAt)throw new U(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new U(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new up(s,o)}(t._query,this._field,this._direction);return new ti(t.firestore,t.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new io(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class dy extends Up{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new dy(t,e,i)}_apply(t){return new ti(t.firestore,t.converter,M_(t._query,this._limit,this._limitType))}}class hy extends Up{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new hy(t,e,i)}_apply(t){const e=jU(t,this.type,this._docOrFields,this._inclusive);return new ti(t.firestore,t.converter,(s=e,new io((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class py extends Up{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new py(t,e,i)}_apply(t){const e=jU(t,this.type,this._docOrFields,this._inclusive);return new ti(t.firestore,t.converter,(s=e,new io((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function jU(n,t,e,i){if(e[0]=pe(e[0]),e[0]instanceof Bp)return function(s,o,a,l,c){if(!l)throw new U(F.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of nu(s))if(d.field.isKeyField())u.push(il(o,l.key));else{const h=l.data.field(d.field);if(T_(h))throw new U(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===h){const g=d.field.canonicalString();throw new U(F.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}u.push(h)}return new Yo(u,c)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=ml(n.firestore);return function(o,a,l,c,u,d){const h=o.explicitOrderBy;if(u.length>h.length)throw new U(F.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let b=0;b<u.length;b++){const T=u[b];if(h[b].field.isKeyField()){if("string"!=typeof T)throw new U(F.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof T}`);if(!e1(o)&&-1!==T.indexOf("/"))throw new U(F.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${T}' contains a slash.`);const E=o.path.child(it.fromString(T));if(!J.isDocumentKey(E))throw new U(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const D=new J(E);g.push(il(a,D))}else{const E=BU(l,c,T);g.push(E)}}return new Yo(g,d)}(n._query,n.firestore._databaseId,r,t,e,i)}}function GU(n,t,e){if("string"==typeof(e=pe(e))){if(""===e)throw new U(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e1(t)&&-1!==e.indexOf("/"))throw new U(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(it.fromString(e));if(!J.isDocumentKey(i))throw new U(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return il(n,new J(i))}if(e instanceof Ft)return il(n,e._key);throw new U(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iy(e)}.`)}function qU(n,t){if(!Array.isArray(n)||0===n.length)throw new U(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function WU(n,t){const e=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new U(F.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class ZS{convertValue(t,e="none"){switch(Ko(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(no(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw re()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return jo(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new sy(rn(t.latitude),rn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=E_(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(op(t));default:return null}}convertTimestamp(t){const e=Go(t);return new Ut(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=it.fromString(t);fe(a4(i));const r=new qo(i.get(1),i.get(3)),s=new J(i.popFirst(5));return r.isEqual(e)||mn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function fy(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Ahe extends ZS{constructor(t){super(),this.firestore=t}convertBytes(t){return new gs(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ft(this.firestore,null,e)}}class _l{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class co extends Bp{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new zp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(uy("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class zp extends co{data(t={}){return super.data(t)}}class ra{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new _l(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new zp(this._firestore,this._userDataWriter,i.key,i,new _l(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new U(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new zp(r._firestore,r._userDataWriter,a.doc.key,a.doc,new _l(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new zp(r._firestore,r._userDataWriter,a.doc.key,a.doc,new _l(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Mhe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Mhe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}function QU(n,t){return n instanceof co&&t instanceof co?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof ra&&t instanceof ra&&n._firestore===t._firestore&&$S(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class sa extends ZS{constructor(t){super(),this.firestore=t}convertBytes(t){return new gs(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ft(this.firestore,null,e)}}function YU(n,t,e){n=Ye(n,Ft);const i=Ye(n.firestore,Dt),r=fy(n.converter,t,e);return xu(i,[ay(ml(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Ht.none())])}function ZU(n,t,e,...i){n=Ye(n,Ft);const r=Ye(n.firestore,Dt),s=ml(r);let o;return o="string"==typeof(t=pe(t))||t instanceof lo?WS(s,"updateDoc",n._key,t,e,i):qS(s,"updateDoc",n._key,t),xu(r,[o.toMutation(n._key,Ht.exists(!0))])}function JU(n,...t){var e,i,r;n=pe(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||jS(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(jS(t[o])){const d=t[o];t[o]=null===(e=d.next)||void 0===e?void 0:e.bind(d),t[o+1]=null===(i=d.error)||void 0===i?void 0:i.bind(d),t[o+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}let l,c,u;if(n instanceof Ft)c=Ye(n.firestore,Dt),u=tu(n._key.path),l={next:d=>{t[o]&&t[o](JS(c,n,d))},error:t[o+1],complete:t[o+2]};else{const d=Ye(n,ti);c=Ye(d.firestore,Dt),u=d._query;const h=new sa(c);l={next:g=>{t[o]&&t[o](new ra(c,h,d,g))},error:t[o+1],complete:t[o+2]},$U(n._query)}return function(h,g,b,T){const E=new ey(T),D=new aS(g,E,b);return h.asyncQueue.enqueueAndForget(w(function*(){return nS(yield Eu(h),D)})),()=>{E.Na(),h.asyncQueue.enqueueAndForget(w(function*(){return rS(yield Eu(h),D)}))}}(sn(c),u,a,l)}function xu(n,t){return function(i,r){const s=new Rn;return i.asyncQueue.enqueueAndForget(w(function*(){return function Ide(n,t,e){return hS.apply(this,arguments)}(yield US(i),r,s)})),s.promise}(sn(n),t)}function JS(n,t,e){const i=e.docs.get(t._key),r=new sa(n);return new co(n,r,t._key,i,new _l(e.hasPendingWrites,e.fromCache),t.converter)}const Qhe={maxAttempts:5};class XU{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ml(t)}set(t,e,i){this._verifyNotCommitted();const r=oa(t,this._firestore),s=fy(r.converter,e,i),o=ay(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(o.toMutation(r._key,Ht.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=oa(t,this._firestore);let o;return o="string"==typeof(e=pe(e))||e instanceof lo?WS(this._dataReader,"WriteBatch.update",s._key,e,i,r):qS(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Ht.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=oa(t,this._firestore);return this._mutations=this._mutations.concat(new au(e._key,Ht.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new U(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function oa(n,t){if((n=pe(n)).firestore!==t)throw new U(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Yhe extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=ml(e)}get(e){const i=oa(e,this._firestore),r=new Ahe(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||1!==s.length)return re();const o=s[0];if(o.isFoundDocument())return new Bp(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new Bp(this._firestore,r,i._key,null,i.converter);throw re()})}set(e,i,r){const s=oa(e,this._firestore),o=fy(s.converter,i,r),a=ay(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,r);return this._transaction.set(s._key,a),this}update(e,i,r,...s){const o=oa(e,this._firestore);let a;return a="string"==typeof(i=pe(i))||i instanceof lo?WS(this._dataReader,"Transaction.update",o._key,i,r,s):qS(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,a),this}delete(e){const i=oa(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=oa(t,this._firestore),i=new sa(this._firestore);return super.get(t).then(r=>new co(this._firestore,i,e._key,r._document,new _l(!1,!1),e.converter))}}function ex(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new U("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function iH(){if(typeof Uint8Array>"u")throw new U("unimplemented","Uint8Arrays are not available in this environment.")}function rH(){if(!function Ace(){return typeof atob<"u"}())throw new U("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){Wc=Ks,qs(new yr("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Dt(new Xle(i.getProvider("auth-internal")),new nce(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new U(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qo(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),vr(P3,"4.3.2",t),vr(P3,"4.3.2","esm2017")}();class $p{constructor(t){this._delegate=t}static fromBase64String(t){return rH(),new $p(gs.fromBase64String(t))}static fromUint8Array(t){return iH(),new $p(gs.fromUint8Array(t))}toBase64(){return rH(),this._delegate.toBase64()}toUint8Array(){return iH(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tx(n){return function ope(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class ape{enableIndexedDbPersistence(t,e){return function rhe(n,t){FU(n=Ye(n,Dt));const e=sn(n);if(e._uninitializedComponentsProvider)throw new U(F.FAILED_PRECONDITION,"SDK cache is already specified.");Vi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Iu;return OU(e,r,new PS(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function she(n){FU(n=Ye(n,Dt));const t=sn(n);if(t._uninitializedComponentsProvider)throw new U(F.FAILED_PRECONDITION,"SDK cache is already specified.");Vi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Iu;return OU(t,i,new mU(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function ohe(n){if(n._initialized&&!n._terminated)throw new U(F.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Rn;return n._queue.enqueueAndForgetEvenWhileRestricted(w(function*(){try{yield(e=w(function*(r){if(!Kr.D())return Promise.resolve();const s=r+"main";yield Kr.delete(s)}),function i(r){return e.apply(this,arguments)})(E1(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class sH{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof qo||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Vi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function kU(n,t,e,i={}){var r;const s=(n=Ye(n,Fp))._getSettings(),o=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Un.MOCK_USER;else{a=bL(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new U(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Un(c)}n._authCredentials=new Jle(new O3(a,l))}}(this._delegate,t,e,i)}enableNetwork(){return function lhe(n){return function jde(n){return n.asyncQueue.enqueue(w(function*(){const t=yield yU(n),e=yield vU(n);return t.setNetworkEnabled(!0),function(r){const s=Z(r);return s.C_.delete(0),Rp(s)}(e)}))}(sn(n=Ye(n,Dt)))}(this._delegate)}disableNetwork(){return function che(n){return function Gde(n){return n.asyncQueue.enqueue(w(function*(){const t=yield yU(n),e=yield vU(n);return t.setNetworkEnabled(!1),(i=w(function*(s){const o=Z(s);o.C_.add(0),yield gu(o),o.M_.set("Offline")}),function r(s){return i.apply(this,arguments)})(e);var i}))}(sn(n=Ye(n,Dt)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,EU("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ahe(n){return function(e){const i=new Rn;return e.asyncQueue.enqueueAndForget(w(function*(){return function xde(n,t){return _S.apply(this,arguments)}(yield US(e),i)})),i.promise}(sn(n=Ye(n,Dt)))}(this._delegate)}onSnapshotsInSync(t){return function Uhe(n,t){return function Kde(n,t){const e=new ey(t);return n.asyncQueue.enqueueAndForget(w(function*(){return r=yield Eu(n),s=e,Z(r).q_.add(s),void s.next();var r,s})),()=>{e.Na(),n.asyncQueue.enqueueAndForget(w(function*(){return r=yield Eu(n),s=e,void Z(r).q_.delete(s);var r,s}))}}(sn(n=Ye(n,Dt)),jS(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new U("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Du(this,MU(this._delegate,t))}catch(e){throw Ai(e,"collection()","Firestore.collection()")}}doc(t){try{return new Cr(this,ry(this._delegate,t))}catch(e){throw Ai(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ki(this,function ehe(n,t){if(n=Ye(n,Fp),zS("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new U(F.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ti(n,null,(i=t,new io(it.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw Ai(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function Zhe(n,t,e){n=Ye(n,Dt);const i=Object.assign(Object.assign({},Qhe),e);return function(s){if(s.maxAttempts<1)throw new U(F.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,a){const l=new Rn;return s.asyncQueue.enqueueAndForget(w(function*(){const c=yield function bU(n){return ny(n).then(t=>t.datastore)}(s);new zde(s.asyncQueue,c,a,o,l).run()})),l.promise}(sn(n),r=>t(new Yhe(n,r)),i)}(this._delegate,e=>t(new oH(this,e)))}batch(){return sn(this._delegate),new aH(new XU(this._delegate,t=>xu(this._delegate,t)))}loadBundle(t){return function uhe(n,t){const e=sn(n=Ye(n,Dt)),i=new nhe;return function Qde(n,t,e,i){const r=function(o,a){let l;return l="string"==typeof o?zB().encode(o):o,u=function(u,d){if(u instanceof Uint8Array)return gU(u,d);if(u instanceof ArrayBuffer)return gU(new Uint8Array(u),d);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Ude(u,a);var u}(e,Mp(t));n.asyncQueue.enqueueAndForget(w(function*(){!function Vde(n,t,e){const i=Z(n);var r;(r=w(function*(o,a,l){try{const c=yield a.getMetadata();if(yield function(b,T){const E=Z(b),D=gn(T.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",M=>E.Kr.getBundleMetadata(M,T.id)).then(M=>!!M&&M.createTime.compareTo(D)>=0)}(o.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(b=c).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);l._updateProgress(oU(c));const u=new _de(c,o.localStore,a.serializer);let d=yield a.Ma();for(;d;){const g=yield u.ea(d);g&&l._updateProgress(g),d=yield a.Ma()}const h=yield u.complete();return yield ao(o,h.ra,void 0),yield function(b,T){const E=Z(b);return E.persistence.runTransaction("Save bundle","readwrite",D=>E.Kr.saveBundleMetadata(D,T))}(o.localStore,c),l._completeWith(h.progress),Promise.resolve(h.na)}catch(c){return Vi("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var b}),function s(o,a,l){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield US(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function dhe(n,t){return function Yde(n,t){return n.asyncQueue.enqueue(w(function*(){return function(i,r){const s=Z(i);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,r))}(yield Tu(n),t)}))}(sn(n=Ye(n,Dt)),t).then(e=>e?new ti(n,null,e.query):null)}(this._delegate,t).then(e=>e?new ki(this,e):null)}}class gy extends ZS{constructor(t){super(),this.firestore=t}convertBytes(t){return new $p(new gs(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Cr.forKey(e,this.firestore,null)}}class oH{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new gy(t)}get(t){const e=vl(t);return this._delegate.get(e).then(i=>new jp(this._firestore,new co(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=vl(t);return i?(ex("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=vl(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=vl(t);return this._delegate.delete(e),this}}class aH{constructor(t){this._delegate=t}set(t,e,i){const r=vl(t);return i?(ex("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=vl(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=vl(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class yl{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new zp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Gp(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=yl.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new yl(t,new gy(t),e),r.set(e,s)),s}}yl.INSTANCES=new WeakMap;class Cr{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gy(t)}static forPath(t,e,i){if(t.length%2!=0)throw new U("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Cr(e,new Ft(e._delegate,i,new J(t)))}static forKey(t,e,i){return new Cr(e,new Ft(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Du(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Du(this.firestore,MU(this._delegate,t))}catch(e){throw Ai(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=pe(t))instanceof Ft&&RU(this._delegate,t)}set(t,e){e=ex("DocumentReference.set",e);try{return e?YU(this._delegate,t,e):YU(this._delegate,t)}catch(i){throw Ai(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?ZU(this._delegate,t):ZU(this._delegate,t,e,...i)}catch(r){throw Ai(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Vhe(n){return xu(Ye(n.firestore,Dt),[new au(n._key,Ht.none())])}(this._delegate)}onSnapshot(...t){const e=lH(t),i=cH(t,r=>new jp(this.firestore,new co(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return JU(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function Phe(n){n=Ye(n,Ft);const t=Ye(n.firestore,Dt),e=sn(t),i=new sa(t);return function qde(n,t){const e=new Rn;return n.asyncQueue.enqueueAndForget(w(function*(){return(i=w(function*(s,o,a){try{const l=yield function(u,d){const h=Z(u);return h.persistence.runTransaction("read document","readonly",g=>h.localDocuments.getDocument(g,d))}(s,o);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new U(F.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=vu(l,`Failed to get document '${o} from cache`);a.reject(c)}}),function r(s,o,a){return i.apply(this,arguments)})(yield Tu(n),t,e);var i})),e.promise}(e,n._key).then(r=>new co(t,i,n._key,r,new _l(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function Ohe(n){n=Ye(n,Ft);const t=Ye(n.firestore,Dt);return wU(sn(t),n._key,{source:"server"}).then(e=>JS(t,n,e))}(this._delegate):function Rhe(n){n=Ye(n,Ft);const t=Ye(n.firestore,Dt);return wU(sn(t),n._key).then(e=>JS(t,n,e))}(this._delegate),e.then(i=>new jp(this.firestore,new co(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Cr(this.firestore,this._delegate.withConverter(t?yl.getInstance(this.firestore,t):null))}}function Ai(n,t,e){return n.message=n.message.replace(t,e),n}function lH(n){for(const t of n)if("object"==typeof t&&!tx(t))return t;return{}}function cH(n,t){var e,i;let r;return r=tx(n[0])?n[0]:tx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class jp{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Cr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return QU(this._delegate,t._delegate)}}class Gp extends jp{data(t){const e=this._delegate.data(t);return function Yle(n,t){n||re()}(void 0!==e),e}}class ki{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gy(t)}where(t,e,i){try{return new ki(this.firestore,ia(this._delegate,function whe(n,t,e){const i=t,r=uy("where",n);return Hp._create(r,i,e)}(t,e,i)))}catch(r){throw Ai(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new ki(this.firestore,ia(this._delegate,function Che(n,t="asc"){const e=t,i=uy("orderBy",n);return YS._create(i,e)}(t,e)))}catch(i){throw Ai(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ki(this.firestore,ia(this._delegate,function Ihe(n){return DU("limit",n),dy._create("limit",n,"F")}(t)))}catch(e){throw Ai(e,"limit()","Query.limit()")}}limitToLast(t){try{return new ki(this.firestore,ia(this._delegate,function The(n){return DU("limitToLast",n),dy._create("limitToLast",n,"L")}(t)))}catch(e){throw Ai(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ki(this.firestore,ia(this._delegate,function Ehe(...n){return hy._create("startAt",n,!0)}(...t)))}catch(e){throw Ai(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ki(this.firestore,ia(this._delegate,function She(...n){return hy._create("startAfter",n,!1)}(...t)))}catch(e){throw Ai(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ki(this.firestore,ia(this._delegate,function xhe(...n){return py._create("endBefore",n,!1)}(...t)))}catch(e){throw Ai(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ki(this.firestore,ia(this._delegate,function Dhe(...n){return py._create("endAt",n,!0)}(...t)))}catch(e){throw Ai(e,"endAt()","Query.endAt()")}}isEqual(t){return $S(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function Lhe(n){n=Ye(n,ti);const t=Ye(n.firestore,Dt),e=sn(t),i=new sa(t);return function Wde(n,t){const e=new Rn;return n.asyncQueue.enqueueAndForget(w(function*(){return(i=w(function*(s,o,a){try{const l=yield W_(s,o,!0),c=new cU(o,l.ls),u=c.ca(l.documents),d=c.applyChanges(u,!1);a.resolve(d.snapshot)}catch(l){const c=vu(l,`Failed to execute query '${o} against cache`);a.reject(c)}}),function r(s,o,a){return i.apply(this,arguments)})(yield Tu(n),t,e);var i})),e.promise}(e,n._query).then(r=>new ra(t,i,n,r))}(this._delegate):"server"===t?.source?function Nhe(n){n=Ye(n,ti);const t=Ye(n.firestore,Dt),e=sn(t),i=new sa(t);return CU(e,n._query,{source:"server"}).then(r=>new ra(t,i,n,r))}(this._delegate):function Fhe(n){n=Ye(n,ti);const t=Ye(n.firestore,Dt),e=sn(t),i=new sa(t);return $U(n._query),CU(e,n._query).then(r=>new ra(t,i,n,r))}(this._delegate),e.then(i=>new nx(this.firestore,new ra(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=lH(t),i=cH(t,r=>new nx(this.firestore,new ra(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return JU(this._delegate,e,i)}withConverter(t){return new ki(this.firestore,this._delegate.withConverter(t?yl.getInstance(this.firestore,t):null))}}class cpe{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Gp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nx{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new ki(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Gp(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new cpe(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Gp(this._firestore,i))})}isEqual(t){return QU(this._delegate,t._delegate)}}class Du extends ki{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Cr(this.firestore,t):null}doc(t){try{return new Cr(this.firestore,void 0===t?ry(this._delegate):ry(this._delegate,t))}catch(e){throw Ai(e,"doc()","CollectionReference.doc()")}}add(t){return function Bhe(n,t){const e=Ye(n.firestore,Dt),i=ry(n),r=fy(n.converter,t);return xu(e,[ay(ml(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ht.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Cr(this.firestore,e))}isEqual(t){return RU(this._delegate,t._delegate)}withConverter(t){return new Du(this.firestore,this._delegate.withConverter(t?yl.getInstance(this.firestore,t):null))}}function vl(n){return Ye(n,Ft)}class ix{constructor(...t){this._delegate=new lo(...t)}static documentId(){return new ix(Pt.keyField().canonicalString())}isEqual(t){return(t=pe(t))instanceof lo&&this._delegate._internalPath.isEqual(t._internalPath)}}class bl{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Xhe(){return new GS("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new bl(t)}static delete(){const t=function Jhe(){return new Np("deleteField")}();return t._methodName="FieldValue.delete",new bl(t)}static arrayUnion(...t){const e=function epe(...n){return new ghe("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new bl(e)}static arrayRemove(...t){const e=function tpe(...n){return new _he("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new bl(e)}static increment(t){const e=function npe(n){return new yhe("increment",n)}(t);return e._methodName="FieldValue.increment",new bl(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const upe={Firestore:sH,GeoPoint:sy,Timestamp:Ut,Blob:$p,Transaction:oH,WriteBatch:aH,DocumentReference:Cr,DocumentSnapshot:jp,Query:ki,QueryDocumentSnapshot:Gp,QuerySnapshot:nx,CollectionReference:Du,FieldPath:ix,FieldValue:bl,setLogLevel:function lpe(n){!function Qle(n){Ho.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function hpe(n){(function dpe(n,t){n.INTERNAL.registerComponent(new yr("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},upe)))})(n,(t,e)=>new sH(t,e,new ape)),n.registerVersion("@firebase/firestore-compat","0.3.21")}(jr);const uH="firebasestorage.googleapis.com",dH="storageBucket";class Qt extends ci{constructor(t,e,i=0){super(rx(t),`Firebase Storage: ${e} (${rx(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qt.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return rx(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var At=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(At||(At={})),At))();function rx(n){return"storage/"+n}function sx(){return new Qt(At.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function hH(){return new Qt(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pH(){return new Qt(At.CANCELED,"User canceled the upload/download.")}function fH(){return new Qt(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Au(n){return new Qt(At.INVALID_ARGUMENT,n)}function mH(){return new Qt(At.APP_DELETED,"The Firebase app was deleted.")}function gH(n){return new Qt(At.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qp(n,t){return new Qt(At.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Wp(n){throw new Qt(At.INTERNAL_ERROR,"Internal error: "+n)}class mi{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=mi.makeFromUrl(t,e)}catch{return new mi(t,"")}if(""===i.path)return i;throw function Cpe(n){return new Qt(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function c(O){O.path_=decodeURIComponent(O.path)}const d=e.replace(/[.]/g,"\\."),A=[{regex:a,indices:{bucket:1,path:3},postModify:function s(O){"/"===O.path.charAt(O.path.length-1)&&(O.path_=O.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${e===uH?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let O=0;O<A.length;O++){const W=A[O],K=W.regex.exec(t);if(K){let Ve=K[W.indices.path];Ve||(Ve=""),i=new mi(K[W.indices.bucket],Ve),W.postModify(i);break}}if(null==i)throw function wpe(n){return new Qt(At.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class xpe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function _y(n){return"string"==typeof n||n instanceof String}function _H(n){return ox()&&n instanceof Blob}function ox(){return typeof Blob<"u"&&!Tg()}function ax(n,t,e,i){if(i<t)throw Au(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Au(`Invalid value for '${n}'. Expected ${e} or less.`)}function uo(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function yH(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var aa=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(aa||(aa={})),aa))();function vH(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class Ppe{constructor(t,e,i,r,s,o,a,l,c,u,d,h=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,b)=>{this.resolve_=g,this.reject_=b,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function kpe(n){return void 0!==n}(l)?s():s(l)}catch(l){o(l)}else if(null!==a){const l=sx();l.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,l):l)}else o(r.canceled?this.appDelete_?mH():pH():hH())};this.canceled_?e(0,new yy(!1,null,!0)):this.backoffId_=function Dpe(n,t,e){let i=1,r=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(...E){c||(c=!0,t.apply(null,E))}function d(E){r=setTimeout(()=>{r=null,n(g,l())},E)}function h(){s&&clearTimeout(s)}function g(E,...D){if(c)return void h();if(E)return h(),void u.call(null,E,...D);if(l()||o)return h(),void u.call(null,E,...D);let A;i<64&&(i*=2),1===a?(a=2,A=0):A=1e3*(i+Math.random()),d(A)}let b=!1;function T(E){b||(b=!0,h(),!c&&(null!==r?(E||(a=2),clearTimeout(r),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,T(!0)},e),T}((i,r)=>{if(r)return void i(!1,new yy(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===aa.NO_ERROR,l=s.getStatus();if(!a||vH(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===aa.ABORT;return void i(!1,new yy(!1,null,u))}const c=-1!==this.successCodes_.indexOf(l);i(!0,new yy(c,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function Ape(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class yy{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function Upe(...n){const t=function Bpe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(ox())return new Blob(n);throw new Qt(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lx{constructor(t,e){this.data=t,this.contentType=e||null}}function cx(n,t){switch(n){case sr.RAW:return new lx(bH(t));case sr.BASE64:case sr.BASE64URL:return new lx(wH(n,t));case sr.DATA_URL:return new lx(function jpe(n){const t=new CH(n);return t.base64?wH(sr.BASE64,t.rest):function $pe(n){let t;try{t=decodeURIComponent(n)}catch{throw qp(sr.DATA_URL,"Malformed data URL.")}return bH(t)}(t.rest)}(t),function Gpe(n){return new CH(n).contentType}(t))}throw sx()}function bH(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function wH(n,t){switch(n){case sr.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw qp(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case sr.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw qp(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function zpe(n){if(typeof atob>"u")throw function Spe(n){return new Qt(At.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:qp(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class CH{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw qp(sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function qpe(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class _s{constructor(t,e){let i=0,r="";_H(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(_H(this.data_)){const r=function Hpe(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new _s(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new _s(i,!0)}}static getBlob(...t){if(ox()){const e=t.map(i=>i instanceof _s?i.data_:i);return new _s(Upe.apply(null,e))}{const e=t.map(o=>_y(o)?cx(sr.RAW,o).data:o.data_);let i=0;e.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new _s(r,!0)}}uploadData(){return this.data_}}function ux(n){let t;try{t=JSON.parse(n)}catch{return null}return function Rpe(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function IH(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Qpe(n,t){return t}class Mi{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Qpe}}let vy=null;function Kp(){if(vy)return vy;const n=[];n.push(new Mi("bucket")),n.push(new Mi("generation")),n.push(new Mi("metageneration")),n.push(new Mi("name","fullPath",!0));const e=new Mi("name");e.xform=function t(s,o){return function Ype(n){return!_y(n)||n.length<2?n:IH(n)}(o)},n.push(e);const r=new Mi("size");return r.xform=function i(s,o){return void 0!==o?Number(o):o},n.push(r),n.push(new Mi("timeCreated")),n.push(new Mi("updated")),n.push(new Mi("md5Hash",null,!0)),n.push(new Mi("cacheControl",null,!0)),n.push(new Mi("contentDisposition",null,!0)),n.push(new Mi("contentEncoding",null,!0)),n.push(new Mi("contentLanguage",null,!0)),n.push(new Mi("contentType",null,!0)),n.push(new Mi("metadata","customMetadata",!0)),vy=n,vy}function TH(n,t,e){const i=ux(t);return null===i?null:function Jpe(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const o=e[s];i[o.local]=o.xform(i,t[o.server])}return function Zpe(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new mi(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function dx(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const EH="prefixes";class ys{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vs(n){if(!n)throw sx()}function by(n,t){return function e(i,r){const s=TH(n,r,t);return vs(null!==s),s}}function ku(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function vpe(){return new Qt(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ype(){return new Qt(At.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function _pe(n){return new Qt(At.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function bpe(n){return new Qt(At.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function Qp(n){const t=ku(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function gpe(n){return new Qt(At.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function xH(n,t,e){const r=uo(t.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new ys(r,"GET",by(n,e),o);return a.errorHandler=Qp(t),a}function rfe(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const a=uo(t.bucketOnlyServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,u=new ys(a,"GET",function nfe(n,t){return function e(i,r){const s=function tfe(n,t,e){const i=ux(e);return null===i?null:function efe(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[EH])for(const r of e[EH]){const s=r.replace(/\/$/,""),o=n._makeStorageReference(new mi(t,s));i.prefixes.push(o)}if(e.items)for(const r of e.items){const s=n._makeStorageReference(new mi(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return vs(null!==s),s}}(n,t.bucket),c);return u.urlParams=s,u.errorHandler=ku(t),u}function AH(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function lfe(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class wy{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function hx(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{vs(!1)}return vs(!!e&&-1!==(t||["active"]).indexOf(e)),e}const hfe={STATE_CHANGED:"state_changed"},Ri={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function px(n){switch(n){case"running":case"pausing":case"canceling":return Ri.RUNNING;case"paused":return Ri.PAUSED;case"success":return Ri.SUCCESS;case"canceled":return Ri.CANCELED;default:return Ri.ERROR}}class pfe{constructor(t,e,i){if(function Mpe(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Mu(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class mfe extends class ffe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=aa.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=aa.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=aa.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Wp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Qr(){return new mfe}class PH{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Kp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(At.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(vH(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=hH()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(At.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function cfe(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o=AH(t,i,r),a={name:o.fullPath},l=uo(s,n.host,n._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=dx(o,e),b=new ys(l,"POST",function g(T){let E;hx(T);try{E=T.getResponseHeader("X-Goog-Upload-URL")}catch{vs(!1)}return vs(_y(E)),E},n.maxUploadRetryTime);return b.urlParams=a,b.headers=u,b.body=d,b.errorHandler=ku(t),b}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Qr,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function ufe(n,t,e,i){const l=new ys(e,"POST",function s(c){const u=hx(c,["active","final"]);let d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{vs(!1)}d||vs(!1);const h=Number(d);return vs(!isNaN(h)),new wy(h,i.size(),"final"===u)},n.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=ku(t),l}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,Qr,e,i);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new wy(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=function dfe(n,t,e,i,r,s,o,a){const l=new wy(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw function Tpe(){return new Qt(At.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const c=l.total-l.current;let u=c;r>0&&(u=Math.min(u,r));const d=l.current;let g="";g=0===u?"finalize":c===u?"upload, finalize":"upload";const b={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${l.current}`},T=i.slice(d,d+u);if(null===T)throw fH();const A=new ys(e,"POST",function E(O,W){const K=hx(O,["active","final"]),be=l.current+u,Ve=i.size();let Xe;return Xe="final"===K?by(t,s)(O,W):null,new wy(be,Ve,"final"===K,Xe)},t.maxUploadRetryTime);return A.headers=b,A.body=T.uploadData(),A.progressCallback=a||null,A.errorHandler=ku(n),A}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const a=this._ref.storage._makeRequest(o,Qr,r,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=xH(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Qr,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function kH(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let A="";for(let O=0;O<2;O++)A+=Math.random().toString().slice(2);return A}();o["Content-Type"]="multipart/related; boundary="+l;const c=AH(t,i,r),u=dx(c,e),g=_s.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",i,"\r\n--"+l+"--");if(null===g)throw fH();const b={name:c.fullPath},T=uo(s,n.host,n._protocol),D=n.maxUploadRetryTime,M=new ys(T,"POST",by(n,e),D);return M.urlParams=b,M.headers=o,M.body=g.uploadData(),M.errorHandler=ku(t),M}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Qr,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=pH(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=px(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new pfe(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(px(this._state)){case Ri.SUCCESS:Mu(this._resolve.bind(null,this.snapshot))();break;case Ri.CANCELED:case Ri.ERROR:Mu(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(px(this._state)){case Ri.RUNNING:case Ri.PAUSED:t.next&&Mu(t.next.bind(t,this.snapshot))();break;case Ri.SUCCESS:t.complete&&Mu(t.complete.bind(t))();break;default:t.error&&Mu(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class wl{constructor(t,e){this._service=t,this._location=e instanceof mi?e:mi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new wl(t,e)}get root(){const t=new mi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IH(this._location.path)}get storage(){return this._service}get parent(){const t=function Wpe(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new mi(this._location.bucket,t);return new wl(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw gH(t)}}function FH(n,t,e){return fx.apply(this,arguments)}function fx(){return fx=w(function*(n,t,e){const r=yield LH(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield FH(n,t,r.nextPageToken))}),fx.apply(this,arguments)}function LH(n,t){null!=t&&"number"==typeof t.maxResults&&ax("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=rfe(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Qr)}function xfe(n){n._throwIfRoot("getDownloadURL");const t=function sfe(n,t,e){const r=uo(t.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new ys(r,"GET",function ife(n,t){return function e(i,r){const s=TH(n,r,t);return vs(null!==s),function Xpe(n,t,e,i){const r=ux(t);if(null===r||!_y(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=n.fullPath;return uo("/b/"+o(n.bucket)+"/o/"+o(d),e,i)+yH({alt:"media",token:c})})[0]}(s,r,n.host,n._protocol)}}(n,e),o);return a.errorHandler=Qp(t),a}(n.storage,n._location,Kp());return n.storage.makeRequestWithTokens(t,Qr).then(e=>{if(null===e)throw function Epe(){return new Qt(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function NH(n,t){const e=function Kpe(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new mi(n._location.bucket,e);return new wl(n.storage,i)}function VH(n,t){if(n instanceof mx){const e=n;if(null==e._bucket)throw function Ipe(){return new Qt(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dH+"' property when initializing the app?")}();const i=new wl(e,e._bucket);return null!=t?VH(i,t):i}return void 0!==t?NH(n,t):n}function Mfe(n,t){if(t&&function Afe(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof mx)return function kfe(n,t){return new wl(n,t)}(n,t);throw Au("To use ref(service, url), the first argument must be a Storage instance.")}return VH(n,t)}function BH(n,t){const e=t?.[dH];return null==e?null:mi.makeFromBucketSpec(e,n)}class mx{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=uH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?mi.makeFromBucketSpec(r,this._host):BH(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?mi.makeFromBucketSpec(this._url,t):BH(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){ax("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){ax("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return w(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return w(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new wl(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new xpe(mH());{const o=function Vpe(n,t,e,i,r,s,o=!0){const a=yH(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function Lpe(n,t){t&&(n["X-Firebase-GMPID"]=t)}(c,t),function Ope(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(c,e),function Fpe(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(c,s),function Npe(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(c,i),new Ppe(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return w(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const UH="@firebase/storage";function $H(n,t){return Mfe(n=pe(n),t)}function Hfe(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new mx(e,i,r,t,Ks)}!function zfe(){qs(new yr("storage",Hfe,"PUBLIC").setMultipleInstances(!0)),vr(UH,"0.11.2",""),vr(UH,"0.11.2","esm2017")}();class Cy{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class GH{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Cy(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new Cy(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?o=>e(new Cy(o,this,this._ref)):{next:e.next?o=>e.next(new Cy(o,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class qH{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new ho(t,this._service))}get items(){return this._delegate.items.map(t=>new ho(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ho{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function Ufe(n,t){return NH(n,t)}(this._delegate,t);return new ho(e,this.storage)}get root(){return new ho(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new ho(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new GH(function Pfe(n,t,e){return function Cfe(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new PH(n,new _s(t),e)}(n=pe(n),t,e)}(this._delegate,t,e),this)}putString(t,e=sr.RAW,i){this._throwIfRoot("putString");const r=cx(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new GH(new PH(this._delegate,new _s(r.data,!0),s),this)}listAll(){return function Nfe(n){return function Tfe(n){const t={prefixes:[],items:[]};return FH(n,t).then(()=>t)}(n=pe(n))}(this._delegate).then(t=>new qH(t,this.storage))}list(t){return function Lfe(n,t){return LH(n=pe(n),t)}(this._delegate,t||void 0).then(e=>new qH(e,this.storage))}getMetadata(){return function Ofe(n){return function Efe(n){n._throwIfRoot("getMetadata");const t=xH(n.storage,n._location,Kp());return n.storage.makeRequestWithTokens(t,Qr)}(n=pe(n))}(this._delegate)}updateMetadata(t){return function Ffe(n,t){return function Sfe(n,t){n._throwIfRoot("updateMetadata");const e=function ofe(n,t,e,i){const s=uo(t.fullServerUrl(),n.host,n._protocol),a=dx(e,i),c=n.maxOperationRetryTime,u=new ys(s,"PATCH",by(n,i),c);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=Qp(t),u}(n.storage,n._location,t,Kp());return n.storage.makeRequestWithTokens(e,Qr)}(n=pe(n),t)}(this._delegate,t)}getDownloadURL(){return function Vfe(n){return xfe(n=pe(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Bfe(n){return function Dfe(n){n._throwIfRoot("deleteObject");const t=function afe(n,t){const i=uo(t.fullServerUrl(),n.host,n._protocol),a=new ys(i,"DELETE",function o(l,c){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=Qp(t),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Qr)}(n=pe(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw gH(t)}}class WH{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(KH(t))throw Au("ref() expected a child path but got a URL, use refFromURL instead.");return new ho($H(this._delegate,t),this)}refFromURL(t){if(!KH(t))throw Au("refFromURL() expected a full URL but got a child path, use ref() instead.");try{mi.makeFromUrl(t,this._delegate.host)}catch{throw Au("refFromUrl() expected a valid full URL but got an invalid one.")}return new ho($H(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function jH(n,t,e,i={}){!function Rfe(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:bL(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function KH(n){return/^[A-Za-z]+:\/\//.test(n)}function qfe(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new WH(e,i)}function Kfe(n,t){1&n&&j(0,"img",49),2&n&&p("src",f().$implicit.url,xa)}function Qfe(n,t){if(1&n&&(_(0,"span"),L(1),y()),2&n){const e=f().$implicit;m(1),se(e.name)}}function Yfe(n,t){if(1&n){const e=N();_(0,"button",50),S("click",function(){C(e);const r=f().$implicit;return I(f(2).removeImage(r))}),y()}2&n&&p("disabled",f(3).desabilitarCamposManter)}function Zfe(n,t){if(1&n&&(_(0,"div")(1,"div",46),v(2,Kfe,1,1,"img",47),v(3,Qfe,2,1,"span",2),v(4,Yfe,1,1,"button",48),y()()),2&n){const e=t.$implicit;m(2),p("ngIf",e.url),m(1),p("ngIf",!e.url),m(1),p("ngIf",e.url)}}function Jfe(n,t){1&n&&(_(0,"tr")(1,"th"),L(2,"Dia da Semana"),y(),_(3,"th"),L(4,"Hor\xe1rio de abertura"),y(),_(5,"th"),L(6,"Hor\xe1rio de fechamento"),y(),_(7,"th"),L(8,"Situa\xe7\xe3o"),y(),j(9,"th"),y())}function Xfe(n,t){if(1&n){const e=N();_(0,"tr")(1,"td"),L(2),y(),_(3,"td"),L(4),y(),_(5,"td"),L(6),y(),_(7,"td"),L(8),y(),_(9,"td")(10,"button",51),S("click",function(){const s=C(e).$implicit;return I(f(2).editarHorario(s))}),y()()()}if(2&n){const e=t.$implicit,i=f(2);m(2),se(e.dia),m(2),se(e.horaInicial),m(2),se(e.horaFinal),m(2),se(e.Situacao),m(2),p("disabled",i.desabilitarCamposManter)}}function eme(n,t){if(1&n){const e=N();_(0,"div")(1,"button",52),S("click",function(){return C(e),I(f(2).aprovar())}),y(),_(2,"button",53),S("click",function(){return C(e),I(f(2).exibirMotivoReprova(!0))}),y()()}}function tme(n,t){if(1&n){const e=N();_(0,"button",6),S("click",function(){return C(e),I(f(2).salvar())}),y()}if(2&n){const e=f(2);p("disabled",e.desabilitarCamposManter||e.botaoBloqueado)}}!function Wfe(n){const t={TaskState:Ri,TaskEvent:hfe,StringFormat:sr,Storage:WH,Reference:ho};n.INTERNAL.registerComponent(new yr("storage-compat",qfe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(jr);const Iy=function(n){return{border:n}},la=function(n){return{color:n}},Ty=function(n,t){return{border:n,"border-radius":t}};function nme(n,t){if(1&n){const e=N();_(0,"div",13)(1,"div",14)(2,"p-panel",15)(3,"div",16)(4,"div",17)(5,"span",18)(6,"input",19),S("ngModelChange",function(r){return C(e),I(f().dadosEstabelecimento.name=r)}),y(),_(7,"label",20),L(8,"Nome"),y()()(),_(9,"div",17)(10,"span",18)(11,"textarea",21),S("ngModelChange",function(r){return C(e),I(f().dadosEstabelecimento.description=r)}),L(12,"                        "),y(),_(13,"label",22),L(14,"Descri\xe7\xe3o"),y()()(),_(15,"div",17)(16,"span",18)(17,"p-multiSelect",23),S("ngModelChange",function(r){return C(e),I(f().dadosEstabelecimento.categories=r)}),y(),_(18,"label",24),L(19,"Categorias"),y()()(),_(20,"div",17)(21,"span",18)(22,"p-multiSelect",25),S("ngModelChange",function(r){return C(e),I(f().dadosEstabelecimento.basicInformation=r)}),y(),_(23,"label",26),L(24,"Informa\xe7\xf5es opcionais"),y()()()()(),_(25,"p-panel",27)(26,"div",28)(27,"p-fileUpload",29),S("uploadHandler",function(r){return C(e),I(f().uploadImage(r))})("onRemove",function(r){return C(e),I(f().removefile(r))}),y(),_(28,"div",30),v(29,Zfe,5,3,"div",31),y()()(),_(30,"p-panel",32)(31,"div",16)(32,"div",17)(33,"span",18)(34,"input",33),S("ngModelChange",function(r){return C(e),I(f().dadosEstabelecimento.street=r)}),y(),_(35,"label",22),L(36,"Logradouro"),y()()(),_(37,"div",17)(38,"span",18)(39,"p-inputNumber",34),S("ngModelChange",function(r){return C(e),I(f().dadosEstabelecimento.number=r)}),y(),_(40,"label",35),L(41,"N\xfamero"),y()()(),_(42,"div",17)(43,"span",18)(44,"input",36),S("ngModelChange",function(r){return C(e),I(f().dadosEstabelecimento.district=r)}),y(),_(45,"label",22),L(46,"Bairro"),y()()(),_(47,"div",17)(48,"span",18)(49,"p-dropdown",37),S("ngModelChange",function(r){return C(e),I(f().selecaoEstado=r)})("onChange",function(){return C(e),I(f().selecionarEstado())}),y(),_(50,"label",22),L(51,"Estado"),y()()()(),_(52,"div",16)(53,"div",17)(54,"span",18)(55,"p-dropdown",37),S("ngModelChange",function(r){return C(e),I(f().selecaoCidade=r)})("onChange",function(){return C(e),I(f().selecionarCidade())}),y(),_(56,"label",22),L(57,"Cidade"),y()()(),_(58,"div",17)(59,"span",18)(60,"p-inputMask",38),S("ngModelChange",function(r){return C(e),I(f().dadosEstabelecimento.zipCode=r)}),y(),_(61,"label",22),L(62,"CEP"),y()()(),_(63,"div",17)(64,"span",18)(65,"input",39),S("ngModelChange",function(r){return C(e),I(f().dadosEstabelecimento.complement=r)}),y(),_(66,"label",26),L(67,"Complemento"),y()()()()(),_(68,"p-panel",40)(69,"div",28)(70,"p-table",41),v(71,Jfe,10,0,"ng-template",42),v(72,Xfe,11,5,"ng-template",43),y()()(),_(73,"p-panel")(74,"div",44),v(75,eme,3,0,"div",2),v(76,tme,1,1,"button",45),_(77,"button",7),S("click",function(){return C(e),I(f().voltar())}),y()()()()()}if(2&n){const e=f();m(2),p("toggleable",!1),m(4),p("ngStyle",B(71,Iy,e.dadosEstabelecimento.name?"":"1px solid red"))("ngModel",e.dadosEstabelecimento.name)("disabled",e.desabilitarCamposManter),m(1),p("ngStyle",B(73,la,e.dadosEstabelecimento.name?"":"red")),m(4),p("rows",5)("cols",30)("ngStyle",B(75,Iy,e.dadosEstabelecimento.description?"":"1px solid red"))("ngModel",e.dadosEstabelecimento.description)("autoResize",!1)("disabled",e.desabilitarCamposManter),m(2),p("ngStyle",B(77,la,e.dadosEstabelecimento.description?"":"red")),m(4),p("ngStyle",ye(79,Ty,e.dadosEstabelecimento.categories.length>0?"":"1px solid red",e.dadosEstabelecimento.categories.length>0?"":"6px"))("maxSelectedLabels",1)("selectedItemsLabel","{1} Op\xe7\xf5es Selecionadas")("ngModel",e.dadosEstabelecimento.categories)("options",e.listaCategorias)("filter",!0)("disabled",e.desabilitarCamposManter),m(1),p("ngStyle",B(82,la,e.dadosEstabelecimento.categories.length>0?"":"red")),m(4),p("options",e.listaInformacoesBasicas)("maxSelectedLabels",1)("selectedItemsLabel","{1} Op\xe7\xf5es Selecionadas")("ngModel",e.dadosEstabelecimento.basicInformation)("filter",!0)("disabled",e.desabilitarCamposManter),m(3),p("toggleable",!1),m(2),p("customUpload",!0)("multiple",!0)("maxFileSize",1e6)("auto",!0)("disabled",e.desabilitarCamposManter),m(2),p("ngForOf",e.uploadedFiles),m(1),p("toggleable",!1),m(4),p("ngStyle",B(84,Iy,e.dadosEstabelecimento.street?"":"1px solid red"))("ngModel",e.dadosEstabelecimento.street)("disabled",e.desabilitarCamposManter),m(1),p("ngStyle",B(86,la,e.dadosEstabelecimento.street?"":"red")),m(4),p("ngModel",e.dadosEstabelecimento.number)("disabled",e.desabilitarCamposManter),m(5),p("ngStyle",B(88,Iy,e.dadosEstabelecimento.district?"":"1px solid red"))("ngModel",e.dadosEstabelecimento.district)("disabled",e.desabilitarCamposManter),m(1),p("ngStyle",B(90,la,e.dadosEstabelecimento.district?"":"red")),m(4),p("ngStyle",ye(92,Ty,e.selecaoEstado?"":"1px solid red",e.selecaoEstado?"":"6px"))("options",e.listaEstado)("ngModel",e.selecaoEstado)("showClear",!0)("filter",!0)("autoDisplayFirst",!1)("disabled",e.desabilitarCamposManter),m(1),p("ngStyle",B(95,la,e.selecaoEstado?"":"red")),m(5),p("ngStyle",ye(97,Ty,e.selecaoCidade?"":"1px solid red",e.selecaoCidade?"":"6px"))("options",e.listaCidade)("ngModel",e.selecaoCidade)("showClear",!0)("filter",!0)("autoDisplayFirst",!1)("disabled",e.desabilitarCamposManter||!e.selecaoEstado),m(1),p("ngStyle",B(100,la,e.selecaoCidade?"":"red")),m(4),p("maxlength",9)("ngStyle",ye(102,Ty,e.dadosEstabelecimento.zipCode?"":"1px solid red",e.dadosEstabelecimento.zipCode?"":"6px"))("disabled",e.desabilitarCamposManter)("ngModel",e.dadosEstabelecimento.zipCode),m(1),p("ngStyle",B(105,la,e.dadosEstabelecimento.zipCode?"":"red")),m(4),p("disabled",e.desabilitarCamposManter)("ngModel",e.dadosEstabelecimento.complement),m(3),p("toggleable",!1),m(2),p("value",e.horarioFuncionamento),m(5),p("ngIf","admin"==e.operacao),m(1),p("ngIf","admin"!=e.operacao)}}function ime(n,t){1&n&&j(0,"app-menu-inicial")}let gx=(()=>{class n{constructor(e,i,r){this.messageService=e,this.menuAcessoService=i,this.http=r,this.dadosEstabelecimento=new zte,this.horarioFuncionamento=[{id:"1",dia:"Segunda-Feira",horaInicial:"",horaFinal:"",Situacao:"Fechado"},{id:"2",dia:"Ter\xe7a-Feira",horaInicial:"",horaFinal:"",Situacao:"Fechado"},{id:"3",dia:"Quarta-Feira",horaInicial:"",horaFinal:"",Situacao:"Fechado"},{id:"4",dia:"Quinta-Feira",horaInicial:"",horaFinal:"",Situacao:"Fechado"},{id:"5",dia:"Sexta-Feira",horaInicial:"",horaFinal:"",Situacao:"Fechado"},{id:"6",dia:"Sabado",horaInicial:"",horaFinal:"",Situacao:"Fechado"},{id:"7",dia:"Domingo",horaInicial:"",horaFinal:"",Situacao:"Fechado"}],this.selecaoHorarioFuncionamento={},this.uploadedFiles=[],this.listaCategorias=[{name:"Bares",code:"Bares"},{name:"Restaurante",code:"Restaurante"},{name:"Parques",code:"Parques"},{name:"Baladas",code:"Baladas"},{name:"Cinemas",code:"Cinemas"},{name:"Shoppings",code:"Shoppings"},{name:"Cafeterias",code:"Cafeterias"},{name:"Teatro",code:"Teatro"},{name:"Museus",code:"Museus"},{name:"Zool\xf3gico",code:"Zool\xf3gico"}],this.listaInformacoesBasicas=[{name:"Musica ao Vivo",code:"Musica ao Vivo"},{name:"Estacionamento",code:"Estacionamento"},{name:"Ambiente para Fumantes",code:"Ambiente para Fumantes"},{name:"Refei\xe7\xe3o no Local",code:"Refei\xe7\xe3o no Local"},{name:"Delivery",code:"Delivery"},{name:"Emp\xf3rio",code:"Emp\xf3rio"},{name:"Espa\xe7o Infantil",code:"Espa\xe7o Infantil"},{name:"Pet Friendly",code:"Pet Friendly"}],this.listaCidade=[],this.selecaoCidade="",this.listaEstado=[],this.selecaoEstado="",this.exibirDialogMotivo=!1,this.exibirDialogHorarioFuncionamento=!1,this.selecaoSituacao={},this.cssCheck="pi pi-check",this.botaoBloqueado=!1,jr.apps.length||jr.initializeApp({apiKey:"AIzaSyA09PislmzgpeWIf1VpR-iTro0rhz5DuCU",authDomain:"dice-99070.firebaseapp.com",databaseURL:"https://dice-99070-default-rtdb.firebaseio.com",projectId:"dice-99070",storageBucket:"dice-99070.appspot.com",messagingSenderId:"151222719461",appId:"1:151222719461:web:170fc9f1db98ba9b7a550c"})}ngOnInit(){var e=this;return w(function*(){yield e.obterEstado(),e.operacao==Kn.ALTERAR||e.operacao==Kn.DETALHAR||e.operacao==Kn.ADMIN?e.buscarDados(e.userId):e.dadosEstabelecimento.number=null})()}obterEstado(){var e=this;return w(function*(){try{const i=yield e.menuAcessoService.getEstado().toPromise();if(i){const r=[];for(let s=0;s<i.length;s++)r.push({code:i[s].sigla,name:i[s].nome+" - "+i[s].sigla});e.listaEstado=r}else console.error("A chamada \xe0 API retornou um valor indefinido.")}catch(i){throw console.error("Erro na chamada da API:",i),i}})()}selecionarEstado(){var e=this;return w(function*(){e.selecaoEstado?(e.dadosEstabelecimento.state=e.selecaoEstado.code,e.selecaoCidade="",e.listaCidade=[],yield e.obterCidades(e.selecaoEstado.code)):(e.dadosEstabelecimento.state="",e.selecaoCidade="",e.listaCidade=[],e.dadosEstabelecimento.city="")})()}obterCidades(e){var i=this;return w(function*(){try{const r=yield i.menuAcessoService.getCidades(e).toPromise();if(r){const s=[];for(let o=0;o<r.length;o++)s.push({code:r[o].nome,name:r[o].nome+" - "+r[0].microrregiao.mesorregiao.UF.sigla});i.listaCidade=s}else console.error("A chamada \xe0 API retornou um valor indefinido.")}catch(r){throw console.error("Erro na chamada da API:",r),r}})()}selecionarCidade(){this.dadosEstabelecimento.city=this.selecaoCidade?this.selecaoCidade.code:""}buscarDados(e){var i=this;return w(function*(){try{let r=yield sh(i.menuAcessoService.buscarDados(e));if(r)for(let s=0;s<r.length;s++)r[s].id==i.id&&(i.ajustarObjetosDropdown(r[s]),i.verificaMotivoRejeicao(r[s]));else console.error("A chamada \xe0 API retornou um valor indefinido.")}catch(r){i.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:r,life:3e3})}})()}ajustarObjetosDropdown(e){var i=this;return w(function*(){i.dadosEstabelecimento=e,i.horarioFuncionamento=e.openingHours;for(let r=0;r<e.image.length;r++){const a=e.image[r].match(/\/imagem%2F(.*?)\?alt=/);i.uploadedFiles.push({name:a[1],url:e.image[r]})}if(e.categories){let r=[];for(let s=0;s<e.categories.length;s++)r.push({code:e.categories[s],name:e.categories[s]});i.dadosEstabelecimento.categories=r}if(e.basicInformation){let r=[];for(let s=0;s<e.basicInformation.length;s++)r.push({code:e.basicInformation[s],name:e.basicInformation[s]});i.dadosEstabelecimento.basicInformation=r}if(e.state){for(let r=0;r<i.listaEstado.length;r++)e.state==i.listaEstado[r].code&&(i.selecaoEstado={code:i.listaEstado[r].code,name:i.listaEstado[r].name});yield i.obterCidades(i.selecaoEstado.code),i.selecaoCidade={code:e.city,name:e.city+" - "+e.state}}})()}verificaMotivoRejeicao(e){e.motive&&this.messageService.add({severity:"warn",summary:"Motivo da Rejei\xe7\xe3o.",detail:e.motive,life:3e3})}uploadImage(e){for(let i=0;i<e.files.length;i++){let r=e.files[i].name;const s=e.files[i],l=jr.storage().ref().child("imagem/"+s.name).put(s);l.on("state_changed",c=>{},c=>{console.error("Erro ao fazer o upload da imagem: ",c)},()=>{l.snapshot.ref.getDownloadURL().then(c=>{this.uploadedFiles.some(d=>d.name===r)||this.uploadedFiles.push({url:c,name:r})})})}this.messageService.add({severity:"success",summary:"Sucesso",detail:"Upload conclu\xeddo",life:3e3})}removeImage(e){const i=e;jr.storage().ref().child("imagem/"+i.name).delete().then(()=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Imagem removida",life:3e3});const a=this.uploadedFiles.findIndex(l=>l.name===e.name);-1!==a&&this.uploadedFiles.splice(a,1)}).catch(()=>{const a=this.uploadedFiles.findIndex(l=>l.name===e.name);-1!==a&&this.uploadedFiles.splice(a,1)})}removefile(e){const i=e.file;jr.storage().ref().child("imagem/"+i.name).delete().then(()=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Imagem removida",life:3e3});const a=this.uploadedFiles.findIndex(l=>l.name===e.file.name);-1!==a&&this.uploadedFiles.splice(a,1)}).catch(a=>{const l=this.uploadedFiles.findIndex(c=>c.name===e.file.name);-1!==l&&this.uploadedFiles.splice(l,1)})}voltar(){this.acessarDadosTelaManter=!1}salvar(){this.validarCampos()&&(this.operacao==Kn.INCLUIR?this.gravar(Kn.INCLUIR):this.operacao==Kn.ALTERAR&&this.gravar(Kn.ALTERAR))}validarCampos(){if(!this.dadosEstabelecimento.name||!this.dadosEstabelecimento.description||0==this.dadosEstabelecimento.categories.length)return this.messageService.add({severity:"warn",summary:"Validar campo obrigat\xf3rio",detail:"Verique o accordion de Dados Gerais.",life:3e3}),!1;if(0==this.uploadedFiles.length)return this.messageService.add({severity:"warn",summary:"Validar campo obrigat\xf3rio",detail:"Verique as imagens informadas.",life:3e3}),!1;if(!(this.dadosEstabelecimento.street&&this.dadosEstabelecimento.district&&this.dadosEstabelecimento.state&&this.dadosEstabelecimento.city&&this.dadosEstabelecimento.zipCode))return this.messageService.add({severity:"warn",summary:"Validar campo obrigat\xf3rio",detail:"Verique o accordion de Endere\xe7o.",life:3e3}),!1;for(let e=0;e<this.horarioFuncionamento.length;e++){if(!this.horarioFuncionamento[e].Situacao)return this.messageService.add({severity:"warn",summary:"Validar campo obrigat\xf3rio",detail:"Verique o accordion de Hor\xe1rio de Funcionamento.",life:3e3}),!1;if("Aberto"==this.horarioFuncionamento[e].Situacao){const i=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/;if(!i.test(this.horarioFuncionamento[e].horaInicial)||!i.test(this.horarioFuncionamento[e].horaFinal))return this.messageService.add({severity:"warn",summary:"Validar campo obrigat\xf3rio",detail:"Verique o campo Hor\xe1rio informado no accordion de Hor\xe1rio de Funcionamento.",life:3e3}),!1}else{if("Fechado"!=this.horarioFuncionamento[e].Situacao)return this.messageService.add({severity:"warn",summary:"Validar campo obrigat\xf3rio",detail:"Verique o campo Situa\xe7\xe3o no accordion de Hor\xe1rio de Funcionamento.",life:3e3}),!1;this.horarioFuncionamento[e].horaInicial="",this.horarioFuncionamento[e].horaFinal=""}}return!0}gravar(e){this.botaoBloqueado=!0;let i=[];for(let s=0;s<this.horarioFuncionamento.length;s++)i.push({id:this.horarioFuncionamento[s].id,dia:this.horarioFuncionamento[s].dia,horaInicial:this.horarioFuncionamento[s].horaInicial,horaFinal:this.horarioFuncionamento[s].horaFinal,Situacao:this.horarioFuncionamento[s].Situacao});let r={id:this.id,userId:this.userId,name:this.dadosEstabelecimento.name,description:this.dadosEstabelecimento.description,categories:this.dadosEstabelecimento.categories.map(s=>s.name),basicInformation:this.dadosEstabelecimento.basicInformation.map(s=>s.name),image:this.uploadedFiles.map(s=>s.url),openingHours:i,street:this.dadosEstabelecimento.street,number:this.dadosEstabelecimento.number,district:this.dadosEstabelecimento.district,state:this.selecaoEstado.code,city:this.selecaoCidade.code,zipCode:this.dadosEstabelecimento.zipCode,complement:this.dadosEstabelecimento.complement,status:"AGUARDANDO ANALISE",username:this.username,motive:""};e==Kn.INCLUIR?this.menuAcessoService.adicionarDados(r).subscribe(s=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Salvo com sucesso.",life:3e3}),setTimeout(()=>{this.voltar()},1e3)},s=>{console.error("Erro ao adicionar dados:",s)}):e==Kn.ALTERAR&&this.menuAcessoService.alterarDados(r).subscribe(s=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Salvo com sucesso.",life:3e3}),setTimeout(()=>{this.voltar()},1e3)},s=>{console.error("Erro ao adicionar dados:",s)}),setTimeout(()=>{this.botaoBloqueado=!1},1e3)}limparMensagem(){this.messageService.clear()}aprovar(){let e=[];for(let r=0;r<this.horarioFuncionamento.length;r++)e.push({id:this.horarioFuncionamento[r].id,dia:this.horarioFuncionamento[r].dia,horaInicial:this.horarioFuncionamento[r].horaInicial,horaFinal:this.horarioFuncionamento[r].horaFinal,Situacao:this.horarioFuncionamento[r].Situacao});let i={id:this.id,userId:this.userId,name:this.dadosEstabelecimento.name,description:this.dadosEstabelecimento.description,categories:this.dadosEstabelecimento.categories.map(r=>r.name),basicInformation:this.dadosEstabelecimento.basicInformation.map(r=>r.name),image:this.uploadedFiles.map(r=>r.url),openingHours:e,street:this.dadosEstabelecimento.street,number:this.dadosEstabelecimento.number,district:this.dadosEstabelecimento.district,state:this.selecaoEstado.code,city:this.selecaoCidade.code,zipCode:this.dadosEstabelecimento.zipCode,complement:this.dadosEstabelecimento.complement,status:"ATIVO",username:this.username,motive:""};this.menuAcessoService.alterarDados(i).subscribe(r=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Aprovado.",life:3e3}),setTimeout(()=>{this.voltar()},1e3)},r=>{console.error("Erro ao adicionar dados:",r)})}exibirMotivoReprova(e){this.exibirDialogMotivo=e}reprovar(){this.exibirDialogMotivo=!1;let e=[];for(let r=0;r<this.horarioFuncionamento.length;r++)e.push({id:this.horarioFuncionamento[r].id,dia:this.horarioFuncionamento[r].dia,horaInicial:this.horarioFuncionamento[r].horaInicial,horaFinal:this.horarioFuncionamento[r].horaFinal,Situacao:this.horarioFuncionamento[r].Situacao});let i={id:this.id,userId:this.userId,name:this.dadosEstabelecimento.name,description:this.dadosEstabelecimento.description,categories:this.dadosEstabelecimento.categories.map(r=>r.name),basicInformation:this.dadosEstabelecimento.basicInformation.map(r=>r.name),image:this.uploadedFiles.map(r=>r.url),openingHours:e,street:this.dadosEstabelecimento.street,number:this.dadosEstabelecimento.number,district:this.dadosEstabelecimento.district,state:this.selecaoEstado.code,city:this.selecaoCidade.code,zipCode:this.dadosEstabelecimento.zipCode,complement:this.dadosEstabelecimento.complement,status:"REJEITADO",username:this.username,motive:this.dadosEstabelecimento.motive};this.menuAcessoService.alterarDados(i).subscribe(r=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Reprovado.",life:3e3}),setTimeout(()=>{this.voltar()},1e3)},r=>{console.error("Erro ao adicionar dados:",r)})}editarHorario(e){this.selecaoHorarioFuncionamento=e,this.selecaoSituacao="Aberto"==e.Situacao,this.exibirDialogHorarioFuncionamento=!0}salvarHorario(e){for(let i=0;i<this.horarioFuncionamento.length;i++)this.horarioFuncionamento[i].dia==e.dia&&(this.horarioFuncionamento[i]=e);this.exibirDialogHorarioFuncionamento=!1,this.messageService.add({severity:"success",summary:"Sucesso",detail:"Horario de Funcionamento Atualizado.",life:3e3})}selecionarSituacao(e){e?this.selecaoHorarioFuncionamento.Situacao="Aberto":(this.selecaoHorarioFuncionamento.Situacao="Fechado",this.selecaoHorarioFuncionamento.horaInicial="",this.selecaoHorarioFuncionamento.horaFinal="")}}return n.\u0275fac=function(e){return new(e||n)(x(ko),x(_g),x(ah))},n.\u0275cmp=Ae({type:n,selectors:[["app-menu-manter"]],inputs:{desabilitarCamposManter:"desabilitarCamposManter",acessarDadosTelaManter:"acessarDadosTelaManter",operacao:"operacao",username:"username",userId:"userId",id:"id"},decls:16,vars:20,consts:[["position","top-center",3,"onClose"],["class","container",4,"ngIf"],[4,"ngIf"],["header","Motivo de Reprova\xe7\xe3o",3,"visible","visibleChange"],["pInputTextarea","",3,"rows","cols","ngModel","autoResize","ngModelChange"],[1,"button-dialog"],["pButton","","type","button","icon","pi pi-check","iconPos","left","label","Salvar",1,"p-button-outlined","p-button-success",3,"disabled","click"],["pButton","","type","button","icon","pi pi-check","iconPos","left","label","Voltar",1,"p-button-outlined","p-button-danger",3,"click"],["header","Editar Hor\xe1rio",1,"dialog-horario",3,"visible","blockScroll","visibleChange"],["type","text","pInputText","",1,"width",3,"ngModel","disabled","ngModelChange"],["inputId","inputmask","mask","99:99","placeholder","00:00","id","float-input","type","text",1,"width",3,"disabled","maxlength","ngModel","ngModelChange"],["onLabel","Aberto","offLabel","Fechado","offIcon","pi pi-times","iconPos","right",3,"onIcon","ngModel","ngModelChange","onChange"],["pButton","","type","button","iconPos","left","label","Atualizar",1,"p-button-outlined","p-button-success",3,"click"],[1,"container"],[1,"header"],["header","Dados Gerais",3,"toggleable"],[1,"flex"],[1,"col-lg-4","box-comp"],[1,"p-float-label"],["pInputText","","id","nomeCamposManter","type","text",1,"width",3,"ngStyle","ngModel","disabled","ngModelChange"],["for","float-input-invalid",1,"width",3,"ngStyle"],["pInputTextarea","","id","descricaoCamposManter",1,"width",3,"rows","cols","ngStyle","ngModel","autoResize","disabled","ngModelChange"],["for","float-input",1,"width",3,"ngStyle"],["optionLabel","name",1,"width",3,"ngStyle","maxSelectedLabels","selectedItemsLabel","ngModel","options","filter","disabled","ngModelChange"],["for","multiselect",1,"width",3,"ngStyle"],["optionLabel","name",1,"width",3,"options","maxSelectedLabels","selectedItemsLabel","ngModel","filter","disabled","ngModelChange"],["for","float-input",1,"width"],["header","Imagens",3,"toggleable"],[1,"tableedit"],["name","image","accept","image/*","chooseLabel","Adicionar imagens",3,"customUpload","multiple","maxFileSize","auto","disabled","uploadHandler","onRemove"],[1,"image-content"],[4,"ngFor","ngForOf"],["header","Endere\xe7o",3,"toggleable"],["id","logradouroCamposManter","type","text","pInputText","",1,"width",3,"ngStyle","ngModel","disabled","ngModelChange"],["inputId","inputnumber","id","numeroCamposManter","type","text",1,"width",3,"ngModel","disabled","ngModelChange"],["for","inputnumber",1,"width"],["id","float-input","type","text","pInputText","",1,"width",3,"ngStyle","ngModel","disabled","ngModelChange"],["optionLabel","name","filterBy","name","filterPlaceholder","Pesquisar...","emptyFilterMessage","Nenhum registro encontrado",1,"width",3,"ngStyle","options","ngModel","showClear","filter","autoDisplayFirst","disabled","ngModelChange","onChange"],["inputId","inputmask","mask","99999-999","id","float-input","type","text",1,"width",3,"maxlength","ngStyle","disabled","ngModel","ngModelChange"],["id","float-input","type","text","pInputText","",1,"width",3,"disabled","ngModel","ngModelChange"],["header","Hor\xe1rio de Funcionamento",3,"toggleable"],["dataKey","id",3,"value"],["pTemplate","header"],["pTemplate","body"],[1,"car-buttons","p-mt-5",2,"display","flex","justify-content","space-between"],["class","p-button-outlined p-button-success","pButton","","type","button","icon","pi pi-check","iconPos","left","label","Salvar",3,"disabled","click",4,"ngIf"],[1,"upload-image"],["class","imagens","alt","Imagem",3,"src",4,"ngIf"],["pButton","","icon","pi pi-trash","class","p-button-danger",3,"disabled","click",4,"ngIf"],["alt","Imagem",1,"imagens",3,"src"],["pButton","","icon","pi pi-trash",1,"p-button-danger",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","p-mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-check","iconPos","left","label","Aprovar",1,"p-button-outlined","p-button-success",2,"margin-right","1vw",3,"disabled","click"],["pButton","","type","button","icon","pi pi-check","iconPos","left","label","Reprovar",1,"p-button-outlined","p-button-danger",3,"disabled","click"]],template:function(e,i){1&e&&(_(0,"p-toast",0),S("onClose",function(){return i.limparMensagem()}),y(),v(1,nme,78,107,"div",1),v(2,ime,1,0,"app-menu-inicial",2),_(3,"p-dialog",3),S("visibleChange",function(s){return i.exibirDialogMotivo=s}),_(4,"textarea",4),S("ngModelChange",function(s){return i.dadosEstabelecimento.motive=s}),L(5,"    "),y(),_(6,"div",5)(7,"button",6),S("click",function(){return i.reprovar()}),y(),_(8,"button",7),S("click",function(){return i.exibirMotivoReprova(!1)}),y()()(),_(9,"p-dialog",8),S("visibleChange",function(s){return i.exibirDialogHorarioFuncionamento=s}),_(10,"input",9),S("ngModelChange",function(s){return i.selecaoHorarioFuncionamento.dia=s}),y(),_(11,"p-inputMask",10),S("ngModelChange",function(s){return i.selecaoHorarioFuncionamento.horaInicial=s}),y(),_(12,"p-inputMask",10),S("ngModelChange",function(s){return i.selecaoHorarioFuncionamento.horaFinal=s}),y(),_(13,"p-toggleButton",11),S("ngModelChange",function(s){return i.selecaoSituacao=s})("onChange",function(){return i.selecionarSituacao(i.selecaoSituacao)}),y(),_(14,"div",5)(15,"button",12),S("click",function(){return i.salvarHorario(i.selecaoHorarioFuncionamento)}),y()()()),2&e&&(m(1),p("ngIf",i.acessarDadosTelaManter),m(1),p("ngIf",!i.acessarDadosTelaManter),m(1),p("visible",i.exibirDialogMotivo),m(1),p("rows",5)("cols",30)("ngModel",i.dadosEstabelecimento.motive)("autoResize",!1),m(3),p("disabled",0==i.dadosEstabelecimento.motive.length),m(2),p("visible",i.exibirDialogHorarioFuncionamento)("blockScroll",!0),m(1),p("ngModel",i.selecaoHorarioFuncionamento.dia)("disabled",!0),m(1),p("disabled",!i.selecaoSituacao)("maxlength",5)("ngModel",i.selecaoHorarioFuncionamento.horaInicial),m(1),p("disabled",!i.selecaoSituacao)("maxlength",5)("ngModel",i.selecaoHorarioFuncionamento.horaFinal),m(1),p("onIcon",i.cssCheck)("ngModel",i.selecaoSituacao))},styles:[".header[_ngcontent-%COMP%]{background:white;width:90vw!important;height:80vh!important;border-radius:10px}.box-comp[_ngcontent-%COMP%]{float:left;position:relative}.col-lg-4[_ngcontent-%COMP%]{width:25%!important;padding:1rem}.range[_ngcontent-%COMP%]{display:flex;flex-direction:row}.range[_ngcontent-%COMP%]   .width-range[_ngcontent-%COMP%]{width:50%!important}.tableedit[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center}.invalid-border[_ngcontent-%COMP%]{border:2px solid red}.button-dialog[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.button-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.image-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.upload-image[_ngcontent-%COMP%]{display:grid;justify-items:center}.upload-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px;margin:1vw;width:10vw;height:15vh;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}.dialog-horario[_ngcontent-%COMP%]{width:25vw;height:60vh}.dialog-horario[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:1.5vw}.dialog-horario[_ngcontent-%COMP%]   p-inputMask[_ngcontent-%COMP%]{margin-bottom:1.5vw}.dialog-horario[_ngcontent-%COMP%]   p-toggleButton[_ngcontent-%COMP%]{display:flex;width:100%!important;flex-direction:column;margin-bottom:1.5vw}"]}),n})(),QH=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(x(Gn),x(ze))},n.\u0275dir=_e({type:n}),n})(),Cl=(()=>{class n extends QH{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ri(n)))(i||n)}}(),n.\u0275dir=_e({type:n,features:[pt]}),n})();const kt=new ve("NgValueAccessor"),ome={provide:kt,useExisting:Fe(()=>Ru),multi:!0},lme=new ve("CompositionEventMode");let Ru=(()=>{class n extends QH{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ame(){const n=is()?is().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(x(Gn),x(ze),x(lme,8))},n.\u0275dir=_e({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&S("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ue([ome]),pt]}),n})();const gi=new ve("NgValidators"),ua=new ve("NgAsyncValidators");function sz(n){if(!n)return Ey;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(function ca(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Ey(n){return null}function oz(n){return null!=n}function az(n){return Id(n)?_n(n):n}function lz(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function cz(n,t){return t.map(e=>e(n))}function uz(n){return n.map(t=>function dme(n){return!n.validate}(t)?t:e=>t.validate(e))}function _x(n){return null!=n?function dz(n){if(!n)return null;const t=n.filter(oz);return 0==t.length?null:function(e){return lz(cz(e,t))}}(uz(n)):null}function yx(n){return null!=n?function hz(n){if(!n)return null;const t=n.filter(oz);return 0==t.length?null:function(e){return function rme(...n){const t=GD(n),{args:e,keys:i}=D2(n),r=new Zt(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Sr(e[u]).subscribe(En(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?k2(i,a):a),s.complete())}))}});return t?r.pipe(A2(t)):r}(cz(e,t).map(az)).pipe(je(lz))}}(uz(n)):null}function pz(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function vx(n){return n?Array.isArray(n)?n:[n]:[]}function Sy(n,t){return Array.isArray(n)?n.includes(t):n===t}function gz(n,t){const e=vx(t);return vx(n).forEach(r=>{Sy(e,r)||e.push(r)}),e}function _z(n,t){return vx(t).filter(e=>!Sy(n,e))}class yz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=_x(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=yx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Pi extends yz{get formDirective(){return null}get path(){return null}}class bs extends yz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Yp=(()=>{class n extends class vz{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(x(bs,2))},n.\u0275dir=_e({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&ai("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[pt]}),n})();const Zp="VALID",Dy="INVALID",Pu="PENDING",Jp="DISABLED";function wz(n){return Array.isArray(n)?_x(n):n||null}function Cz(n){return Array.isArray(n)?yx(n):n||null}function Ay(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Xp(n,t){(function Sx(n,t){const e=function fz(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(pz(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function mz(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(pz(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ry(t._rawValidators,r),Ry(t._rawAsyncValidators,r)})(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function wme(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Sz(n,t)})}(n,t),function Ime(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Cme(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Sz(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function bme(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Ry(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Sz(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function kz(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Mz(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Mme={provide:bs,useExisting:Fe(()=>da)},Fz=(()=>Promise.resolve())();let da=(()=>{class n extends bs{constructor(e,i,r,s,o){super(),this._changeDetectorRef=o,this.control=new class extends class Ez{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=wz(this._rawValidators),this._composedAsyncValidatorFn=Cz(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Zp}get invalid(){return this.status===Dy}get pending(){return this.status==Pu}get disabled(){return this.status===Jp}get enabled(){return this.status!==Jp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=wz(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Cz(t)}addValidators(t){this.setValidators(gz(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(gz(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(_z(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(_z(t,this._rawAsyncValidators))}hasValidator(t){return Sy(this._rawValidators,t)}hasAsyncValidator(t){return Sy(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Pu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Jp,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Zp,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zp||this.status===Pu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jp:Zp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Pu,this._hasOwnPendingAsyncValidator=!0;const e=az(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new R,this.statusChanges=new R}_calculateStatus(){return this._allControlsDisabled()?Jp:this.errors?Dy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pu)?Pu:this._anyControlsHaveStatus(Dy)?Dy:Zp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ay(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}{constructor(t=null,e,i){super(function Ix(n){return(Ay(n)?n.validators:n)||null}(e),function Tx(n,t){return(Ay(t)?t.asyncValidators:n)||null}(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ay(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Mz(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){kz(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){kz(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Mz(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},this._registered=!1,this.update=new R,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Dx(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Ru?e=s:function Sme(n){return Object.getPrototypeOf(n.constructor)===Cl}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function xx(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Fz.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&function Ls(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(i);Fz.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function ky(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(x(Pi,9),x(gi,10),x(ua,10),x(kt,10),x(tt,8))},n.\u0275dir=_e({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ue([Mme]),pt,Ln]}),n})(),Nz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({}),n})();let Il=(()=>{class n{constructor(){this._validator=Ey}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Ey,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=_e({type:n,features:[Ln]}),n})();const ege={provide:gi,useExisting:Fe(()=>Lx),multi:!0};let Lx=(()=>{class n extends Il{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function qz(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>function rz(n){return t=>function ZH(n){return null!=n&&"number"==typeof n.length}(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ri(n)))(i||n)}}(),n.\u0275dir=_e({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&ie("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ue([ege]),pt]}),n})();const tge={provide:gi,useExisting:Fe(()=>Nx),multi:!0};let Nx=(()=>{class n extends Il{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>sz(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ri(n)))(i||n)}}(),n.\u0275dir=_e({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&ie("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[Ue([tge]),pt]}),n})(),nge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Nz]}),n})(),Ou=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[nge]}),n})(),Fu=(()=>{class n{constructor(e,i,r){this.el=e,this.ngModel=i,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(da,8),x(tt))},n.\u0275dir=_e({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,i){1&e&&S("input",function(s){return i.onInput(s)}),2&e&&ai("p-filled",i.filled)}}),n})(),po=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee]}),n})();const rge=["container"],sge=["inputfield"],oge=["contentWrapper"];function age(n,t){if(1&n){const e=N();_(0,"i",8),S("click",function(){return C(e),I(f(2).clear())}),y()}}function lge(n,t){if(1&n){const e=N();_(0,"button",9),S("click",function(r){C(e),f();const s=Ge(1);return I(f().onButtonClick(r,s))}),y()}if(2&n){const e=f(2);p("icon",e.icon)("disabled",e.disabled),ie("aria-label",e.iconAriaLabel)}}function cge(n,t){if(1&n){const e=N();_(0,"input",4,5),S("focus",function(r){return C(e),I(f().onInputFocus(r))})("keydown",function(r){return C(e),I(f().onInputKeydown(r))})("click",function(){return C(e),I(f().onInputClick())})("blur",function(r){return C(e),I(f().onInputBlur(r))})("input",function(r){return C(e),I(f().onUserInput(r))}),y(),v(2,age,1,0,"i",6),v(3,lge,1,3,"button",7)}if(2&n){const e=f();ce(e.inputStyleClass),p("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass","p-inputtext p-component"),ie("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null)("aria-labelledby",e.ariaLabelledBy),m(2),p("ngIf",e.showClear&&!e.disabled&&null!=e.value),m(1),p("ngIf",e.showIcon)}}function uge(n,t){1&n&&$(0)}function dge(n,t){if(1&n){const e=N();_(0,"button",30),S("keydown",function(r){return C(e),I(f(4).onContainerButtonKeydown(r))})("click",function(r){return C(e),I(f(4).onPrevButtonClick(r))}),j(1,"span",31),y()}}function hge(n,t){if(1&n){const e=N();_(0,"button",32),S("click",function(r){return C(e),I(f(4).switchToMonthView(r))})("keydown",function(r){return C(e),I(f(4).onContainerButtonKeydown(r))}),L(1),y()}if(2&n){const e=f().$implicit,i=f(3);p("disabled",i.switchViewButtonDisabled()),m(1),Gt(" ",i.getMonthName(e.month)," ")}}function pge(n,t){if(1&n){const e=N();_(0,"button",33),S("click",function(r){return C(e),I(f(4).switchToYearView(r))})("keydown",function(r){return C(e),I(f(4).onContainerButtonKeydown(r))}),L(1),y()}if(2&n){const e=f().$implicit,i=f(3);p("disabled",i.switchViewButtonDisabled()),m(1),Gt(" ",i.getYear(e)," ")}}function fge(n,t){if(1&n&&(ae(0),L(1),le()),2&n){const e=f(5);m(1),mm("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function mge(n,t){1&n&&$(0)}const Xz=function(n){return{$implicit:n}};function gge(n,t){if(1&n&&(_(0,"span",34),v(1,fge,2,2,"ng-container",13),v(2,mge,1,0,"ng-container",35),y()),2&n){const e=f(4);m(1),p("ngIf",!e.decadeTemplate),m(1),p("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",B(3,Xz,e.yearPickerValues))}}function _ge(n,t){if(1&n&&(_(0,"th",41)(1,"span"),L(2),y()()),2&n){const e=f(5);m(2),se(e.getTranslation("weekHeader"))}}function yge(n,t){if(1&n&&(_(0,"th",42)(1,"span"),L(2),y()()),2&n){const e=t.$implicit;m(2),se(e)}}function vge(n,t){if(1&n&&(_(0,"td",45)(1,"span",46),L(2),y()()),2&n){const e=f().index,i=f(2).$implicit;m(2),Gt(" ",i.weekNumbers[e]," ")}}function bge(n,t){if(1&n&&(ae(0),L(1),le()),2&n){const e=f(2).$implicit;m(1),se(e.day)}}function wge(n,t){1&n&&$(0)}const e5=function(n,t){return{"p-highlight":n,"p-disabled":t}};function Cge(n,t){if(1&n){const e=N();ae(0),_(1,"span",48),S("click",function(r){C(e);const s=f().$implicit;return I(f(6).onDateSelect(r,s))})("keydown",function(r){C(e);const s=f().$implicit,o=f(3).index;return I(f(3).onDateCellKeydown(r,s,o))}),v(2,bge,2,1,"ng-container",13),v(3,wge,1,0,"ng-container",35),y(),le()}if(2&n){const e=f().$implicit,i=f(6);m(1),p("ngClass",ye(4,e5,i.isSelected(e),!e.selectable)),m(1),p("ngIf",!i.dateTemplate),m(1),p("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",B(7,Xz,e))}}const Ige=function(n,t){return{"p-datepicker-other-month":n,"p-datepicker-today":t}};function Tge(n,t){if(1&n&&(_(0,"td",47),v(1,Cge,4,9,"ng-container",13),y()),2&n){const e=t.$implicit,i=f(6);p("ngClass",ye(2,Ige,e.otherMonth,e.today)),m(1),p("ngIf",!e.otherMonth||i.showOtherMonths)}}function Ege(n,t){if(1&n&&(_(0,"tr"),v(1,vge,3,1,"td",43),v(2,Tge,2,5,"td",44),y()),2&n){const e=t.$implicit,i=f(5);m(1),p("ngIf",i.showWeek),m(1),p("ngForOf",e)}}function Sge(n,t){if(1&n&&(_(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),v(4,_ge,3,1,"th",38),v(5,yge,3,1,"th",39),y()(),_(6,"tbody"),v(7,Ege,3,2,"tr",40),y()()()),2&n){const e=f().$implicit,i=f(3);m(4),p("ngIf",i.showWeek),m(1),p("ngForOf",i.weekDays),m(2),p("ngForOf",e.dates)}}function xge(n,t){if(1&n){const e=N();_(0,"div",20)(1,"div",21),v(2,dge,2,0,"button",22),_(3,"div",23),v(4,hge,2,2,"button",24),v(5,pge,2,2,"button",25),v(6,gge,3,5,"span",26),y(),_(7,"button",27),S("keydown",function(r){return C(e),I(f(3).onContainerButtonKeydown(r))})("click",function(r){return C(e),I(f(3).onNextButtonClick(r))}),j(8,"span",28),y()(),v(9,Sge,8,3,"div",29),y()}if(2&n){const e=t.index,i=f(3);m(2),p("ngIf",0===e),m(2),p("ngIf","date"===i.currentView),m(1),p("ngIf","year"!==i.currentView),m(1),p("ngIf","year"===i.currentView),m(1),Or("display",1===i.numberOfMonths||e===i.numberOfMonths-1?"inline-flex":"none"),m(2),p("ngIf","date"===i.currentView)}}function Dge(n,t){if(1&n){const e=N();_(0,"span",51),S("click",function(r){const o=C(e).index;return I(f(4).onMonthSelect(r,o))})("keydown",function(r){const o=C(e).index;return I(f(4).onMonthCellKeydown(r,o))}),L(1),y()}if(2&n){const e=t.$implicit,i=t.index,r=f(4);p("ngClass",ye(2,e5,r.isMonthSelected(i),r.isMonthDisabled(i))),m(1),Gt(" ",e," ")}}function Age(n,t){if(1&n&&(_(0,"div",49),v(1,Dge,2,5,"span",50),y()),2&n){const e=f(3);m(1),p("ngForOf",e.monthPickerValues())}}const kge=function(n){return{"p-highlight":n}};function Mge(n,t){if(1&n){const e=N();_(0,"span",54),S("click",function(r){const o=C(e).$implicit;return I(f(4).onYearSelect(r,o))})("keydown",function(r){const o=C(e).$implicit;return I(f(4).onYearCellKeydown(r,o))}),L(1),y()}if(2&n){const e=t.$implicit,i=f(4);p("ngClass",B(2,kge,i.isYearSelected(e))),m(1),Gt(" ",e," ")}}function Rge(n,t){if(1&n&&(_(0,"div",52),v(1,Mge,2,4,"span",53),y()),2&n){const e=f(3);m(1),p("ngForOf",e.yearPickerValues())}}function Pge(n,t){if(1&n&&(ae(0),_(1,"div",16),v(2,xge,10,7,"div",17),y(),v(3,Age,2,1,"div",18),v(4,Rge,2,1,"div",19),le()),2&n){const e=f(2);m(2),p("ngForOf",e.months),m(1),p("ngIf","month"===e.currentView),m(1),p("ngIf","year"===e.currentView)}}function Oge(n,t){1&n&&(ae(0),L(1,"0"),le())}function Fge(n,t){1&n&&(ae(0),L(1,"0"),le())}function Lge(n,t){if(1&n&&(_(0,"div",60)(1,"span"),L(2),y()()),2&n){const e=f(3);m(2),se(e.timeSeparator)}}function Nge(n,t){1&n&&(ae(0),L(1,"0"),le())}function Vge(n,t){if(1&n){const e=N();_(0,"div",65)(1,"button",57),S("keydown",function(r){return C(e),I(f(3).onContainerButtonKeydown(r))})("keydown.enter",function(r){return C(e),I(f(3).incrementSecond(r))})("keydown.space",function(r){return C(e),I(f(3).incrementSecond(r))})("mousedown",function(r){return C(e),I(f(3).onTimePickerElementMouseDown(r,2,1))})("mouseup",function(r){return C(e),I(f(3).onTimePickerElementMouseUp(r))})("keyup.enter",function(r){return C(e),I(f(3).onTimePickerElementMouseUp(r))})("keyup.space",function(r){return C(e),I(f(3).onTimePickerElementMouseUp(r))})("mouseleave",function(){return C(e),I(f(3).onTimePickerElementMouseLeave())}),j(2,"span",58),y(),_(3,"span"),v(4,Nge,2,0,"ng-container",13),L(5),y(),_(6,"button",57),S("keydown",function(r){return C(e),I(f(3).onContainerButtonKeydown(r))})("keydown.enter",function(r){return C(e),I(f(3).decrementSecond(r))})("keydown.space",function(r){return C(e),I(f(3).decrementSecond(r))})("mousedown",function(r){return C(e),I(f(3).onTimePickerElementMouseDown(r,2,-1))})("mouseup",function(r){return C(e),I(f(3).onTimePickerElementMouseUp(r))})("keyup.enter",function(r){return C(e),I(f(3).onTimePickerElementMouseUp(r))})("keyup.space",function(r){return C(e),I(f(3).onTimePickerElementMouseUp(r))})("mouseleave",function(){return C(e),I(f(3).onTimePickerElementMouseLeave())}),j(7,"span",59),y()()}if(2&n){const e=f(3);m(4),p("ngIf",e.currentSecond<10),m(1),se(e.currentSecond)}}function Bge(n,t){if(1&n){const e=N();_(0,"div",66)(1,"button",67),S("keydown",function(r){return C(e),I(f(3).onContainerButtonKeydown(r))})("click",function(r){return C(e),I(f(3).toggleAMPM(r))})("keydown.enter",function(r){return C(e),I(f(3).toggleAMPM(r))}),j(2,"span",58),y(),_(3,"span"),L(4),y(),_(5,"button",67),S("keydown",function(r){return C(e),I(f(3).onContainerButtonKeydown(r))})("click",function(r){return C(e),I(f(3).toggleAMPM(r))})("keydown.enter",function(r){return C(e),I(f(3).toggleAMPM(r))}),j(6,"span",59),y()()}if(2&n){const e=f(3);m(4),se(e.pm?"PM":"AM")}}function Uge(n,t){if(1&n){const e=N();_(0,"div",55)(1,"div",56)(2,"button",57),S("keydown",function(r){return C(e),I(f(2).onContainerButtonKeydown(r))})("keydown.enter",function(r){return C(e),I(f(2).incrementHour(r))})("keydown.space",function(r){return C(e),I(f(2).incrementHour(r))})("mousedown",function(r){return C(e),I(f(2).onTimePickerElementMouseDown(r,0,1))})("mouseup",function(r){return C(e),I(f(2).onTimePickerElementMouseUp(r))})("keyup.enter",function(r){return C(e),I(f(2).onTimePickerElementMouseUp(r))})("keyup.space",function(r){return C(e),I(f(2).onTimePickerElementMouseUp(r))})("mouseleave",function(){return C(e),I(f(2).onTimePickerElementMouseLeave())}),j(3,"span",58),y(),_(4,"span"),v(5,Oge,2,0,"ng-container",13),L(6),y(),_(7,"button",57),S("keydown",function(r){return C(e),I(f(2).onContainerButtonKeydown(r))})("keydown.enter",function(r){return C(e),I(f(2).decrementHour(r))})("keydown.space",function(r){return C(e),I(f(2).decrementHour(r))})("mousedown",function(r){return C(e),I(f(2).onTimePickerElementMouseDown(r,0,-1))})("mouseup",function(r){return C(e),I(f(2).onTimePickerElementMouseUp(r))})("keyup.enter",function(r){return C(e),I(f(2).onTimePickerElementMouseUp(r))})("keyup.space",function(r){return C(e),I(f(2).onTimePickerElementMouseUp(r))})("mouseleave",function(){return C(e),I(f(2).onTimePickerElementMouseLeave())}),j(8,"span",59),y()(),_(9,"div",60)(10,"span"),L(11),y()(),_(12,"div",61)(13,"button",57),S("keydown",function(r){return C(e),I(f(2).onContainerButtonKeydown(r))})("keydown.enter",function(r){return C(e),I(f(2).incrementMinute(r))})("keydown.space",function(r){return C(e),I(f(2).incrementMinute(r))})("mousedown",function(r){return C(e),I(f(2).onTimePickerElementMouseDown(r,1,1))})("mouseup",function(r){return C(e),I(f(2).onTimePickerElementMouseUp(r))})("keyup.enter",function(r){return C(e),I(f(2).onTimePickerElementMouseUp(r))})("keyup.space",function(r){return C(e),I(f(2).onTimePickerElementMouseUp(r))})("mouseleave",function(){return C(e),I(f(2).onTimePickerElementMouseLeave())}),j(14,"span",58),y(),_(15,"span"),v(16,Fge,2,0,"ng-container",13),L(17),y(),_(18,"button",57),S("keydown",function(r){return C(e),I(f(2).onContainerButtonKeydown(r))})("keydown.enter",function(r){return C(e),I(f(2).decrementMinute(r))})("keydown.space",function(r){return C(e),I(f(2).decrementMinute(r))})("mousedown",function(r){return C(e),I(f(2).onTimePickerElementMouseDown(r,1,-1))})("mouseup",function(r){return C(e),I(f(2).onTimePickerElementMouseUp(r))})("keyup.enter",function(r){return C(e),I(f(2).onTimePickerElementMouseUp(r))})("keyup.space",function(r){return C(e),I(f(2).onTimePickerElementMouseUp(r))})("mouseleave",function(){return C(e),I(f(2).onTimePickerElementMouseLeave())}),j(19,"span",59),y()(),v(20,Lge,3,1,"div",62),v(21,Vge,8,2,"div",63),v(22,Bge,7,1,"div",64),y()}if(2&n){const e=f(2);m(5),p("ngIf",e.currentHour<10),m(1),se(e.currentHour),m(5),se(e.timeSeparator),m(5),p("ngIf",e.currentMinute<10),m(1),se(e.currentMinute),m(3),p("ngIf",e.showSeconds),m(1),p("ngIf",e.showSeconds),m(1),p("ngIf","12"==e.hourFormat)}}const t5=function(n){return[n]};function Hge(n,t){if(1&n){const e=N();_(0,"div",68)(1,"button",69),S("keydown",function(r){return C(e),I(f(2).onContainerButtonKeydown(r))})("click",function(r){return C(e),I(f(2).onTodayButtonClick(r))}),y(),_(2,"button",69),S("keydown",function(r){return C(e),I(f(2).onContainerButtonKeydown(r))})("click",function(r){return C(e),I(f(2).onClearButtonClick(r))}),y()()}if(2&n){const e=f(2);m(1),p("label",e.getTranslation("today"))("ngClass",B(4,t5,e.todayButtonStyleClass)),m(1),p("label",e.getTranslation("clear"))("ngClass",B(6,t5,e.clearButtonStyleClass))}}function zge(n,t){1&n&&$(0)}const $ge=function(n,t,e,i,r,s){return{"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":t,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":s}},n5=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},jge=function(n){return{value:"visibleTouchUI",params:n}},Gge=function(n){return{value:"visible",params:n}};function qge(n,t){if(1&n){const e=N();_(0,"div",10,11),S("@overlayAnimation.start",function(r){return C(e),I(f().onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){return C(e),I(f().onOverlayAnimationDone(r))})("click",function(r){return C(e),I(f().onOverlayClick(r))}),Dn(2),v(3,uge,1,0,"ng-container",12),v(4,Pge,5,3,"ng-container",13),v(5,Uge,23,8,"div",14),v(6,Hge,3,8,"div",15),Dn(7,1),v(8,zge,1,0,"ng-container",12),y()}if(2&n){const e=f();ce(e.panelStyleClass),p("ngStyle",e.panelStyle)("ngClass",fc(11,$ge,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,"month"===e.view,e.touchUI))("@overlayAnimation",e.touchUI?B(21,jge,ye(18,n5,e.showTransitionOptions,e.hideTransitionOptions)):B(26,Gge,ye(23,n5,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline),m(3),p("ngTemplateOutlet",e.headerTemplate),m(1),p("ngIf",!e.timeOnly),m(1),p("ngIf",(e.showTime||e.timeOnly)&&"date"===e.currentView),m(1),p("ngIf",e.showButtonBar),m(2),p("ngTemplateOutlet",e.footerTemplate)}}const Wge=[[["p-header"]],[["p-footer"]]],Kge=function(n,t,e,i){return{"p-calendar":!0,"p-calendar-w-btn":n,"p-calendar-timeonly":t,"p-calendar-disabled":e,"p-focus":i}},Qge=["p-header","p-footer"],Yge={provide:kt,useExisting:Fe(()=>Zge),multi:!0};let Zge=(()=>{class n{constructor(e,i,r,s,o,a){this.el=e,this.renderer=i,this.cd=r,this.zone=s,this.config=o,this.overlayService=a,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new R,this.onBlur=new R,this.onClose=new R,this.onSelect=new R,this.onClear=new R,this.onInput=new R,this.onTodayClick=new R,this.onClearClick=new R,this.onMonthChange=new R,this.onYearChange=new R,this.onClickOutside=new R,this.onShow=new R,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(l,c){return"12"==this.hourFormat?12===l?c?12:0:c?l+12:l:l}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){const i=e||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){const i=e.split(":"),r=parseInt(i[0]),s=parseInt(i[1]);this.populateYearOptions(r,s)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=Ba();const e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":default:this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=k.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,i){this.yearOptions=[];for(let r=e;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),i=this.getTranslation(tn.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[e]),e=6==e?0:++e}monthPickerValues(){let e=[];for(let i=0;i<=11;i++)e.push(this.config.getTranslation("monthNamesShort")[i]);return e}yearPickerValues(){let e=[],i=this.currentYear-this.currentYear%10;for(let r=0;r<10;r++)e.push(i+r);return e}createMonths(e,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let s=e+r,o=i;s>11&&(s=s%11-1,o=i+1),this.months.push(this.createMonth(s,o))}}getWeekNumber(e){let i=new Date(e.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(e,i){let r=[],s=this.getFirstDayOfMonthIndex(e,i),o=this.getDaysCountInMonth(e,i),a=this.getDaysCountInPrevMonth(e,i),l=1,c=new Date,u=[],d=Math.ceil((o+s)/7);for(let h=0;h<d;h++){let g=[];if(0==h){for(let T=a-s+1;T<=a;T++){let E=this.getPreviousMonthAndYear(e,i);g.push({day:T,month:E.month,year:E.year,otherMonth:!0,today:this.isToday(c,T,E.month,E.year),selectable:this.isSelectable(T,E.month,E.year,!0)})}let b=7-g.length;for(let T=0;T<b;T++)g.push({day:l,month:e,year:i,today:this.isToday(c,l,e,i),selectable:this.isSelectable(l,e,i,!1)}),l++}else for(let b=0;b<7;b++){if(l>o){let T=this.getNextMonthAndYear(e,i);g.push({day:l-o,month:T.month,year:T.year,otherMonth:!0,today:this.isToday(c,l-o,T.month,T.year),selectable:this.isSelectable(l-o,T.month,T.year,!0)})}else g.push({day:l,month:e,year:i,today:this.isToday(c,l,e,i),selectable:this.isSelectable(l,e,i,!1)});l++}this.showWeek&&u.push(this.getWeekNumber(new Date(g[0].year,g[0].month,g[0].day))),r.push(g)}return{month:e,year:i,dates:r,weekNumbers:u}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,i){!this.disabled&&i.selectable?(this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,s)=>!this.isDateEquals(r,i)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}shouldSelectDate(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(e,i){"month"===this.view?this.onDateSelect(e,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,i){"year"===this.view?this.onDateSelect(e,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++)e+=this.formatDateTime(this.value[i]),i!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let r=this.value[1];e=this.formatDateTime(this.value[0]),r&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let i=this.keepInvalid?e:null;return this.isValidDate(e)&&(this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(e)))),i}setCurrentHourPM(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let i=new Date(e.year,e.month,e.day);if(this.showTime&&(i.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],s=this.value[1];!s&&i.getTime()>=r.getTime()?s=i:(r=i,s=null),this.updateModel([r,s])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(e){if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;this.value&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(e,i){let r=new Date;r.setDate(1),r.setMonth(e),r.setFullYear(i);let s=r.getDay()+this.getSundayIndex();return s>=7?s-7:s}getDaysCountInMonth(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()}getDaysCountInPrevMonth(e,i){let r=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(e,i){let r,s;return 0===e?(r=11,s=i-1):(r=e-1,s=i),{month:r,year:s}}getNextMonthAndYear(e,i){let r,s;return 11===e?(r=0,s=i+1):(r=e+1,s=i),{month:r,year:s}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,e),i)break;return i}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(e){if(this.isComparable()&&!this.isMultipleSelection()){const[i,r]=this.isRangeSelection()?this.value:[this.value,this.value],s=new Date(this.currentYear,e,1);return s>=i&&s<=(r??i)}return!1}isMonthDisabled(e){return!this.isSelectable(1,e,this.currentYear,!1)}isYearSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getFullYear()===e}return!1}isDateEquals(e,i){return!!(e&&e instanceof Date)&&e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year}isDateBetween(e,i,r){if(e&&i){let o=new Date(r.year,r.month,r.day);return e.getTime()<=o.getTime()&&i.getTime()>=o.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(e,i,r,s){return e.getDate()===i&&e.getMonth()===r&&e.getFullYear()===s}isSelectable(e,i,r,s){let o=!0,a=!0,l=!0,c=!0;return!(s&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(o=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(a=!1),this.disabledDates&&(l=!this.isDateDisabled(e,i,r)),this.disabledDays&&(c=!this.isDayDisabled(e,i,r)),o&&a&&l&&c)}isDateDisabled(e,i,r){if(this.disabledDates)for(let s of this.disabledDates)if(s.getFullYear()===r&&s.getMonth()===i&&s.getDate()===e)return!0;return!1}isDayDisabled(e,i,r){if(this.disabledDays){let o=new Date(r,i,e).getDay();return-1!==this.disabledDays.indexOf(o)}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,i){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return"month"===this.currentView?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:this.inline||this.trapFocus(e);break;case 27:this.overlayVisible=!1,e.preventDefault()}}onInputKeydown(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode||13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(k.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,i,r){const s=e.currentTarget,o=s.parentElement;switch(e.which){case 40:{s.tabIndex="-1";let a=k.index(o),l=o.parentElement.nextElementSibling;l?k.hasClass(l.children[a].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(l.children[a].children[0].tabIndex="0",l.children[a].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 38:{s.tabIndex="-1";let a=k.index(o),l=o.parentElement.previousElementSibling;if(l){let c=l.children[a].children[0];k.hasClass(c,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(c.tabIndex="0",c.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{s.tabIndex="-1";let a=o.previousElementSibling;if(a){let l=a.children[0];k.hasClass(l,"p-disabled")||k.hasClass(l.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(l.tabIndex="0",l.focus())}else this.navigateToMonth(!0,r);e.preventDefault();break}case 39:{s.tabIndex="-1";let a=o.nextElementSibling;if(a){let l=a.children[0];k.hasClass(l,"p-disabled")?this.navigateToMonth(!1,r):(l.tabIndex="0",l.focus())}else this.navigateToMonth(!1,r);e.preventDefault();break}case 13:case 32:this.onDateSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onMonthCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var s=r.parentElement.children,o=k.index(r);let a=s[40===e.which?o+3:o-3];a&&(a.tabIndex="0",a.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let a=r.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let a=r.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:this.onMonthSelect(e,i),e.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onYearCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var s=r.parentElement.children,o=k.index(r);let a=s[40===e.which?o+2:o-2];a&&(a.tabIndex="0",a.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let a=r.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let a=r.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:this.onYearSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.trapFocus(e)}}navigateToMonth(e,i){if(e)if(1===this.numberOfMonths||0===i)this.navigationState={backward:!0},this.navBackward(event);else{let s=k.find(this.contentViewChild.nativeElement.children[i-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),o=s[s.length-1];o.tabIndex="0",o.focus()}else if(1===this.numberOfMonths||i===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let s=k.findSingle(this.contentViewChild.nativeElement.children[i+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");s.tabIndex="0",s.focus()}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?k.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():k.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;i=k.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(e=i[i.length-1])}else e=k.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){const e=this.contentViewChild?.nativeElement;let i;if("month"===this.currentView){let r=k.find(e,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),s=k.findSingle(e,".p-monthpicker .p-monthpicker-month.p-highlight");r.forEach(o=>o.tabIndex=-1),i=s||r[0],0===r.length&&k.find(e,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if("year"===this.currentView){let r=k.find(e,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),s=k.findSingle(e,".p-yearpicker .p-yearpicker-year.p-highlight");r.forEach(o=>o.tabIndex=-1),i=s||r[0],0===r.length&&k.find(e,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(i=k.findSingle(e,"span.p-highlight"),!i){let r=k.findSingle(e,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");i=r||k.findSingle(e,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}i&&(i.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{i.focus()},1),this.preventFocus=!1)}trapFocus(e){let i=k.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==r||0===r)if(this.focusTrap)i[i.length-1].focus();else{if(-1===r)return this.hideOverlay();if(0===r)return}else i[r-1].focus();else if(-1==r||r===i.length-1){if(!this.focusTrap&&-1!=r)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}else i[0].focus();e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(e,i,r,s){let o=this.value;const a=this.convertTo24Hour(e,s);this.isRangeSelection()&&(o=this.value[1]||this.value[0]),this.isMultipleSelection()&&(o=this.value[this.value.length-1]);const l=o?o.toDateString():null;return!(this.minDate&&l&&this.minDate.toDateString()===l&&(this.minDate.getHours()>a||this.minDate.getHours()===a&&(this.minDate.getMinutes()>i||this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r))||this.maxDate&&l&&this.maxDate.toDateString()===l&&(this.maxDate.getHours()<a||this.maxDate.getHours()===a&&(this.maxDate.getMinutes()<i||this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r)))}incrementHour(e){let r=this.currentHour+this.stepHour,s=this.pm;"24"==this.hourFormat?r=r>=24?r-24:r:"12"==this.hourFormat&&(this.currentHour<12&&r>11&&(s=!this.pm),r=r>=13?r-12:r),this.validateTime(r,this.currentMinute,this.currentSecond,s)&&(this.currentHour=r,this.pm=s),e.preventDefault()}onTimePickerElementMouseDown(e,i,r){this.disabled||(this.repeat(e,null,i,r),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,i,r,s){let o=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,r,s),this.cd.markForCheck()},o),r){case 0:1===s?this.incrementHour(e):this.decrementHour(e);break;case 1:1===s?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===s?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let i=this.currentHour-this.stepHour,r=this.pm;"24"==this.hourFormat?i=i<0?24+i:i:"12"==this.hourFormat&&(12===this.currentHour&&(r=!this.pm),i=i<=0?12+i:i),this.validateTime(i,this.currentMinute,this.currentSecond,r)&&(this.currentHour=i,this.pm=r),e.preventDefault()}incrementMinute(e){let i=this.currentMinute+this.stepMinute;i=i>59?i-60:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}decrementMinute(e){let i=this.currentMinute-this.stepMinute;i=i<0?60+i:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}incrementSecond(e){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}decrementSecond(e){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){const i=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,i)&&(this.pm=i,this.updateTime()),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let i=e.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)&&(this.updateModel(r),this.updateUI())}catch{this.updateModel(this.keepInvalid?i:null)}this.filled=null!=i&&i.length,this.onInput.emit(e)}isValidSelection(e){let i=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(i=!1):e.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1))&&this.isRangeSelection()&&(i=e.length>1&&e[1]>e[0]),i}parseValueFromString(e){if(!e||0===e.trim().length)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){let r=e.split(this.multipleSeparator);i=[];for(let s of r)i.push(this.parseDateTime(s.trim()))}else if(this.isRangeSelection()){let r=e.split(" "+this.rangeSeparator+" ");i=[];for(let s=0;s<r.length;s++)i[s]=this.parseDateTime(r[s].trim())}return i}parseDateTime(e){let i,r=e.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{const s=this.getDateFormat();if(this.showTime){let o="12"==this.hourFormat?r.pop():null,a=r.pop();i=this.parseDate(r.join(" "),s),this.populateTime(i,a,o)}else i=this.parseDate(e,s)}return i}populateTime(e,i,r){if("12"==this.hourFormat&&!r)throw"Invalid Time";this.pm="PM"===r||"pm"===r;let s=this.parseTime(i);e.setHours(s.hour),e.setMinutes(s.minute),e.setSeconds(s.second)}isValidDate(e){return e instanceof Date&&G.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?hn.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):hn.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&hn.clear(e.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):k.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=k.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=k.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=k.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",k.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):k.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(e){this.mask||this.touchUI||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),k.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality()}),document.body.appendChild(this.mask),k.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(k.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){if(!this.mask)return;document.body.removeChild(this.mask);let i,e=document.body.children;for(let r=0;r<e.length;r++)if(k.hasClass(e[r],"p-datepicker-mask-scrollblocker")){i=!0;break}i||k.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(tn.FIRST_DAY_OF_WEEK)}formatDate(e,i){if(!e)return"";let r;const s=u=>{const d=r+1<i.length&&i.charAt(r+1)===u;return d&&r++,d},o=(u,d,h)=>{let g=""+d;if(s(u))for(;g.length<h;)g="0"+g;return g},a=(u,d,h,g)=>s(u)?g[d]:h[d];let l="",c=!1;if(e)for(r=0;r<i.length;r++)if(c)"'"!==i.charAt(r)||s("'")?l+=i.charAt(r):c=!1;else switch(i.charAt(r)){case"d":l+=o("d",e.getDate(),2);break;case"D":l+=a("D",e.getDay(),this.getTranslation(tn.DAY_NAMES_SHORT),this.getTranslation(tn.DAY_NAMES));break;case"o":l+=o("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=o("m",e.getMonth()+1,2);break;case"M":l+=a("M",e.getMonth(),this.getTranslation(tn.MONTH_NAMES_SHORT),this.getTranslation(tn.MONTH_NAMES));break;case"y":l+=s("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":l+=e.getTime();break;case"!":l+=1e4*e.getTime()+this.ticksTo1970;break;case"'":s("'")?l+="'":c=!0;break;default:l+=i.charAt(r)}return l}formatTime(e){if(!e)return"";let i="",r=e.getHours(),s=e.getMinutes(),o=e.getSeconds();return"12"==this.hourFormat&&r>11&&12!=r&&(r-=12),i+="12"==this.hourFormat&&0===r?12:r<10?"0"+r:r,i+=":",i+=s<10?"0"+s:s,this.showSeconds&&(i+=":",i+=o<10?"0"+o:o),"12"==this.hourFormat&&(i+=e.getHours()>11?" PM":" AM"),i}parseTime(e){let i=e.split(":");if(i.length!==(this.showSeconds?3:2))throw"Invalid time";let s=parseInt(i[0]),o=parseInt(i[1]),a=this.showSeconds?parseInt(i[2]):null;if(isNaN(s)||isNaN(o)||s>23||o>59||"12"==this.hourFormat&&s>12||this.showSeconds&&(isNaN(a)||a>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==s&&this.pm?s+=12:!this.pm&&12===s&&(s-=12)),{hour:s,minute:o,second:a}}parseDate(e,i){if(null==i||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;let r,s,o,b,a=0,l="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),c=-1,u=-1,d=-1,h=-1,g=!1,T=A=>{let O=r+1<i.length&&i.charAt(r+1)===A;return O&&r++,O},E=A=>{let O=T(A),W="@"===A?14:"!"===A?20:"y"===A&&O?4:"o"===A?3:2,be=new RegExp("^\\d{"+("y"===A?W:1)+","+W+"}"),Ve=e.substring(a).match(be);if(!Ve)throw"Missing number at position "+a;return a+=Ve[0].length,parseInt(Ve[0],10)},D=(A,O,W)=>{let K=-1,be=T(A)?W:O,Ve=[];for(let Xe=0;Xe<be.length;Xe++)Ve.push([Xe,be[Xe]]);Ve.sort((Xe,zt)=>-(Xe[1].length-zt[1].length));for(let Xe=0;Xe<Ve.length;Xe++){let zt=Ve[Xe][1];if(e.substr(a,zt.length).toLowerCase()===zt.toLowerCase()){K=Ve[Xe][0],a+=zt.length;break}}if(-1!==K)return K+1;throw"Unknown name at position "+a},M=()=>{if(e.charAt(a)!==i.charAt(r))throw"Unexpected literal at position "+a;a++};for("month"===this.view&&(d=1),r=0;r<i.length;r++)if(g)"'"!==i.charAt(r)||T("'")?M():g=!1;else switch(i.charAt(r)){case"d":d=E("d");break;case"D":D("D",this.getTranslation(tn.DAY_NAMES_SHORT),this.getTranslation(tn.DAY_NAMES));break;case"o":h=E("o");break;case"m":u=E("m");break;case"M":u=D("M",this.getTranslation(tn.MONTH_NAMES_SHORT),this.getTranslation(tn.MONTH_NAMES));break;case"y":c=E("y");break;case"@":b=new Date(E("@")),c=b.getFullYear(),u=b.getMonth()+1,d=b.getDate();break;case"!":b=new Date((E("!")-this.ticksTo1970)/1e4),c=b.getFullYear(),u=b.getMonth()+1,d=b.getDate();break;case"'":T("'")?M():g=!0;break;default:M()}if(a<e.length&&(o=e.substr(a),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===c?c=(new Date).getFullYear():c<100&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=l?0:-100)),h>-1)for(u=1,d=h;s=this.getDaysCountInMonth(c,u-1),!(d<=s);)u++,d-=s;if("year"===this.view&&(u=-1===u?1:u,d=-1===d?1:d),b=this.daylightSavingAdjust(new Date(c,u-1,d)),b.getFullYear()!==c||b.getMonth()+1!==u||b.getDate()!==d)throw"Invalid date";return b}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(e){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,r),this.onTodayClick.emit(e)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let e="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(r=>!(!r.breakpoint||!r.numMonths)).sort((r,s)=>-1*r.breakpoint.localeCompare(s.breakpoint,void 0,{numeric:!0}));for(let r=0;r<i.length;r++){let{breakpoint:s,numMonths:o}=i[r],a=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${o}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let l=o;l<this.numberOfMonths;l++)a+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${l+1}) {\n                                display: none !important;\n                            }\n                        `;e+=`\n                        @media screen and (max-width: ${s}) {\n                            ${a}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new lh(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return k.hasClass(e.target,"p-datepicker-prev")||k.hasClass(e.target,"p-datepicker-prev-icon")||k.hasClass(e.target,"p-datepicker-next")||k.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!k.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&hn.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(Gn),x(tt),x(st),x(_r),x(Ua))},n.\u0275cmp=Ae({type:n,selectors:[["p-calendar"]],contentQueries:function(e,i,r){if(1&e&&dt(r,gt,4),2&e){let s;Q(s=Y())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(ge(rge,5),ge(sge,5),ge(oge,5)),2&e){let r;Q(r=Y())&&(i.containerViewChild=r.first),Q(r=Y())&&(i.inputfieldViewChild=r.first),Q(r=Y())&&(i.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&ai("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)("p-calendar-clearable",i.showClear&&!i.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[Ue([Yge])],ngContentSelectors:Qge,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(e,i){1&e&&(pr(Wge),_(0,"span",0,1),v(2,cge,4,17,"ng-template",2),v(3,qge,9,28,"div",3),y()),2&e&&(ce(i.styleClass),p("ngClass",Ji(6,Kge,i.showIcon,i.timeOnly,i.disabled,i.focus))("ngStyle",i.style),m(2),p("ngIf",!i.inline),m(1),p("ngIf",i.inline||i.overlayVisible))},dependencies:[Ze,qn,qe,St,at,Ro,Mn],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[Gs("overlayAnimation",[ch("visibleTouchUI",bt({transform:"translate(-50%,-50%)",opacity:1})),Cn("void => visible",[bt({opacity:0,transform:"scaleY(0.8)"}),fn("{{showTransitionParams}}",bt({opacity:1,transform:"*"}))]),Cn("visible => void",[fn("{{hideTransitionParams}}",bt({opacity:0}))]),Cn("void => visibleTouchUI",[bt({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),fn("{{showTransitionParams}}")]),Cn("visibleTouchUI => void",[fn("{{hideTransitionParams}}",bt({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),n})(),Vx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,$r,nt,pn,$r,nt]}),n})(),Bx=(()=>{class n{constructor(e){this.host=e,this.focused=!1}ngAfterViewChecked(){if(!this.focused&&this.autofocus){const e=k.getFocusableElements(this.host.nativeElement);0===e.length&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0}}}return n.\u0275fac=function(e){return new(e||n)(x(ze))},n.\u0275dir=_e({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}}),n})(),Oy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee]}),n})();const Jge=["overlay"],Xge=["content"];function e_e(n,t){1&n&&$(0)}const t_e=function(n,t,e){return{showTransitionParams:n,hideTransitionParams:t,transform:e}},n_e=function(n){return{value:"visible",params:n}},i_e=function(n){return{mode:n}},r_e=function(n){return{$implicit:n}};function s_e(n,t){if(1&n){const e=N();_(0,"div",1,3),S("click",function(r){return C(e),I(f(2).onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){return C(e),I(f(2).onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){return C(e),I(f(2).onOverlayContentAnimationDone(r))}),Dn(2),v(3,e_e,1,0,"ng-container",4),y()}if(2&n){const e=f(2);ce(e.contentStyleClass),p("ngStyle",e.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",B(11,n_e,an(7,t_e,e.showTransitionOptions,e.hideTransitionOptions,e.transformOptions[e.modal?e.overlayResponsiveDirection:"default"]))),m(3),p("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",B(15,r_e,B(13,i_e,e.overlayMode)))}}const o_e=function(n,t,e,i,r,s,o,a,l,c,u,d,h,g){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":n,"p-overlay-center":t,"p-overlay-top":e,"p-overlay-top-start":i,"p-overlay-top-end":r,"p-overlay-bottom":s,"p-overlay-bottom-start":o,"p-overlay-bottom-end":a,"p-overlay-left":l,"p-overlay-left-start":c,"p-overlay-left-end":u,"p-overlay-right":d,"p-overlay-right-start":h,"p-overlay-right-end":g}};function a_e(n,t){if(1&n){const e=N();_(0,"div",1,2),S("click",function(r){return C(e),I(f().onOverlayClick(r))}),v(2,s_e,4,17,"div",0),y()}if(2&n){const e=f();ce(e.styleClass),p("ngStyle",e.style)("ngClass",Sw(5,o_e,[e.modal,e.modal&&"center"===e.overlayResponsiveDirection,e.modal&&"top"===e.overlayResponsiveDirection,e.modal&&"top-start"===e.overlayResponsiveDirection,e.modal&&"top-end"===e.overlayResponsiveDirection,e.modal&&"bottom"===e.overlayResponsiveDirection,e.modal&&"bottom-start"===e.overlayResponsiveDirection,e.modal&&"bottom-end"===e.overlayResponsiveDirection,e.modal&&"left"===e.overlayResponsiveDirection,e.modal&&"left-start"===e.overlayResponsiveDirection,e.modal&&"left-end"===e.overlayResponsiveDirection,e.modal&&"right"===e.overlayResponsiveDirection,e.modal&&"right-start"===e.overlayResponsiveDirection,e.modal&&"right-end"===e.overlayResponsiveDirection])),m(2),p("ngIf",e.visible)}}const l_e=["*"],c_e={provide:kt,useExisting:Fe(()=>Fy),multi:!0},u_e=Sc([bt({transform:"{{transform}}",opacity:0}),fn("{{showTransitionParams}}")]),d_e=Sc([fn("{{hideTransitionParams}}",bt({transform:"{{transform}}",opacity:0}))]);let Fy=(()=>{class n{constructor(e,i,r,s,o,a){this.document=e,this.el=i,this.renderer=r,this.config=s,this.overlayService=o,this.cd=a,this.visibleChange=new R,this.onBeforeShow=new R,this.onShow=new R,this.onBeforeHide=new R,this.onHide=new R,this.onAnimationStart=new R,this.onAnimationDone=new R,this._visible=!1,this.modalVisible=!1,this.isOverlayClicked=!1,this.isOverlayContentClicked=!1,this.transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"},this.window=this.document.defaultView}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return G.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return G.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return G.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return G.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){const e=this._target||this.overlayOptions?.target;return void 0===e?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){const e=this._autoZIndex||this.overlayOptions?.autoZIndex;return void 0===e||e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){const e=this._baseZIndex||this.overlayOptions?.baseZIndex;return void 0===e?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){const e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return void 0===e?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){const e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return void 0===e?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}get modal(){return"modal"===this.mode||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return{...this.config?.overlayOptions,...this.options}}get overlayResponsiveOptions(){return{...this.overlayOptions?.responsive,...this.responsive}}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return k.getTargetElement(this.target,this.el?.nativeElement)}ngAfterContentInit(){this.templates?.forEach(e=>{e.getType(),this.contentTemplate=e.template})}show(e,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&k.focus(this.targetEl),this.modal&&k.addClass(this.document?.body,"p-overflow-hidden")}hide(e,i=!1){this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&k.focus(this.targetEl),this.modal&&k.removeClass(this.document?.body,"p-overflow-hidden")}alignOverlay(){!this.modal&&k.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&hn.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),k.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&k.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){const i=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.show(i,!0),this.bindListeners();break;case"void":this.hide(i,!0),this.unbindListeners(),k.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),hn.clear(i),this.modalVisible=!1}this.handleEvents("onAnimationDone",e)}handleEvents(e,i){this[e].emit(i),this.options&&this.options[e]&&this.options[e](i),this.config?.overlayOptions&&this.config?.overlayOptions[e]&&this.config?.overlayOptions[e](i)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new lh(this.targetEl,e=>{(!this.listener||this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{const r=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target))||this.isOverlayContentClicked);(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:3!==e.which&&r}):r)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen("window","resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!k.isTouchDevice()}):!k.isTouchDevice())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(k.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),hn.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return n.\u0275fac=function(e){return new(e||n)(x(cn),x(ze),x(Gn),x(_r),x(Ua),x(tt))},n.\u0275cmp=Ae({type:n,selectors:[["p-overlay"]],contentQueries:function(e,i,r){if(1&e&&dt(r,gt,4),2&e){let s;Q(s=Y())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(ge(Jge,5),ge(Xge,5)),2&e){let r;Q(r=Y())&&(i.overlayViewChild=r.first),Q(r=Y())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[Ue([c_e])],ngContentSelectors:l_e,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(pr(),v(0,a_e,3,20,"div",0)),2&e&&p("ngIf",i.modalVisible)},dependencies:[Ze,qe,St,at],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[Gs("overlayContentAnimation",[Cn(":enter",[yg(u_e)]),Cn(":leave",[yg(d_e)])])]},changeDetection:0}),n})(),Lu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,nt,nt]}),n})();const h_e=["element"],p_e=["content"];function f_e(n,t){1&n&&$(0)}const Ux=function(n,t){return{$implicit:n,options:t}};function m_e(n,t){if(1&n&&(ae(0),v(1,f_e,1,0,"ng-container",7),le()),2&n){const e=f(2);m(1),p("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",ye(2,Ux,e.loadedItems,e.getContentOptions()))}}function g_e(n,t){1&n&&$(0)}function __e(n,t){if(1&n&&(ae(0),v(1,g_e,1,0,"ng-container",7),le()),2&n){const e=t.$implicit,i=t.index,r=f(3);m(1),p("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",ye(2,Ux,e,r.getOptions(i)))}}const y_e=function(n){return{"p-scroller-loading":n}};function v_e(n,t){if(1&n&&(_(0,"div",8,9),v(2,__e,2,5,"ng-container",10),y()),2&n){const e=f(2);p("ngClass",B(4,y_e,e.d_loading))("ngStyle",e.contentStyle),m(2),p("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy||e.index)}}function b_e(n,t){1&n&&j(0,"div",11),2&n&&p("ngStyle",f(2).spacerStyle)}function w_e(n,t){1&n&&$(0)}const C_e=function(n){return{numCols:n}},r5=function(n){return{options:n}};function I_e(n,t){if(1&n&&(ae(0),v(1,w_e,1,0,"ng-container",7),le()),2&n){const e=t.index,i=f(4);m(1),p("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",B(4,r5,i.getLoaderOptions(e,i.both&&B(2,C_e,i._numItemsInViewport.cols))))}}function T_e(n,t){if(1&n&&(ae(0),v(1,I_e,2,6,"ng-container",14),le()),2&n){const e=f(3);m(1),p("ngForOf",e.loaderArr)}}function E_e(n,t){1&n&&$(0)}const S_e=function(){return{styleClass:"p-scroller-loading-icon"}};function x_e(n,t){if(1&n&&(ae(0),v(1,E_e,1,0,"ng-container",7),le()),2&n){const e=f(4);m(1),p("ngTemplateOutlet",e.loaderIconTemplate)("ngTemplateOutletContext",B(3,r5,en(2,S_e)))}}function D_e(n,t){1&n&&j(0,"i",16)}function A_e(n,t){if(1&n&&(v(0,x_e,2,5,"ng-container",0),v(1,D_e,1,0,"ng-template",null,15,ln)),2&n){const e=Ge(2);p("ngIf",f(3).loaderIconTemplate)("ngIfElse",e)}}const k_e=function(n){return{"p-component-overlay":n}};function M_e(n,t){if(1&n&&(_(0,"div",12),v(1,T_e,2,1,"ng-container",0),v(2,A_e,3,2,"ng-template",null,13,ln),y()),2&n){const e=Ge(3),i=f(2);p("ngClass",B(3,k_e,!i.loaderTemplate)),m(1),p("ngIf",i.loaderTemplate)("ngIfElse",e)}}const R_e=function(n,t,e){return{"p-scroller":!0,"p-scroller-inline":n,"p-both-scroll":t,"p-horizontal-scroll":e}};function P_e(n,t){if(1&n){const e=N();ae(0),_(1,"div",2,3),S("scroll",function(r){return C(e),I(f().onContainerScroll(r))}),v(3,m_e,2,5,"ng-container",0),v(4,v_e,3,6,"ng-template",null,4,ln),v(6,b_e,1,1,"div",5),v(7,M_e,4,5,"div",6),y(),le()}if(2&n){const e=Ge(5),i=f();m(1),ce(i._styleClass),p("ngStyle",i._style)("ngClass",an(10,R_e,i.inline,i.both,i.horizontal)),ie("id",i._id)("tabindex",i.tabindex),m(2),p("ngIf",i.contentTemplate)("ngIfElse",e),m(3),p("ngIf",i._showSpacer),m(1),p("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function O_e(n,t){1&n&&$(0)}const F_e=function(n,t){return{rows:n,columns:t}};function L_e(n,t){if(1&n&&(ae(0),v(1,O_e,1,0,"ng-container",7),le()),2&n){const e=f(2);m(1),p("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",ye(5,Ux,e.items,ye(2,F_e,e._items,e.loadedColumns)))}}function N_e(n,t){if(1&n&&(Dn(0),v(1,L_e,2,8,"ng-container",17)),2&n){const e=f();m(1),p("ngIf",e.contentTemplate)}}const V_e=["*"];let Ly=(()=>{class n{constructor(e,i){this.cd=e,this.zone=i,this.onLazyLoad=new R,this.onScroll=new R,this.onScrollIndexChange=new R,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._step=0,this._delay=0,this._resizeDelay=10,this._appendOnly=!1,this._inline=!1,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.page=0,this.numItemsInViewport=0,this.lastScrollPos=0,this.lazyLoadState={},this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1}get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&"object"==typeof e&&Object.entries(e).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}ngOnInit(){this.setInitialState()}ngOnChanges(e){let i=!1;if(e.loading){const{previousValue:r,currentValue:s}=e.loading;this.lazy&&r!==s&&s!==this.d_loading&&(this.d_loading=s,i=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){const{previousValue:r,currentValue:s}=e.numToleratedItems;r!==s&&s!==this.d_numToleratedItems&&(this.d_numToleratedItems=s)}if(e.options){const{previousValue:r,currentValue:s}=e.options;this.lazy&&r?.loading!==s?.loading&&s?.loading!==this.d_loading&&(this.d_loading=s.loading,i=!0),r?.numToleratedItems!==s?.numToleratedItems&&s?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=s.numToleratedItems)}this.initialized&&!i&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":default:this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template}})}ngAfterViewInit(){this.viewInit()}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){k.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=k.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=k.getHeight(this.elementViewChild.nativeElement),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||k.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(e){this.lastScrollPos=this.both?{top:0,left:0}:0,this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,i="auto"){const{numToleratedItems:r}=this.calculateNumItems(),s=this.getContentPosition(),o=(c=0,u)=>c<=u?0:c,a=(c,u,d)=>c*u+d,l=(c=0,u=0)=>this.scrollTo({left:c,top:u,behavior:i});this.both?(this.first={rows:o(e[0],r[0]),cols:o(e[1],r[1])},l(a(this.first.cols,this._itemSize[1],s.left),a(this.first.rows,this._itemSize[0],s.top))):(this.first=o(e,r),this.horizontal?l(a(this.first,this._itemSize,s.left),0):l(0,a(this.first,this._itemSize,s.top)))}scrollInView(e,i,r="auto"){if(i){const{first:s,viewport:o}=this.getRenderedRange(),a=(u=0,d=0)=>this.scrollTo({left:u,top:d,behavior:r}),c="to-end"===i;if("to-start"===i){if(this.both)o.first.rows-s.rows>e[0]?a(o.first.cols*this._itemSize[1],(o.first.rows-1)*this._itemSize[0]):o.first.cols-s.cols>e[1]&&a((o.first.cols-1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.first-s>e){const u=(o.first-1)*this._itemSize;this.horizontal?a(u,0):a(0,u)}}else if(c)if(this.both)o.last.rows-s.rows<=e[0]+1?a(o.first.cols*this._itemSize[1],(o.first.rows+1)*this._itemSize[0]):o.last.cols-s.cols<=e[1]+1&&a((o.first.cols+1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.last-s<=e+1){const u=(o.first+1)*this._itemSize;this.horizontal?a(u,0):a(0,u)}}else this.scrollToIndex(e,r)}getRenderedRange(){const e=(s,o)=>Math.floor(s/(o||s));let i=this.first,r=0;if(this.elementViewChild?.nativeElement){const{scrollTop:s,scrollLeft:o}=this.elementViewChild.nativeElement;this.both?(i={rows:e(s,this._itemSize[0]),cols:e(o,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols}):(i=e(this.horizontal?o:s,this._itemSize),r=i+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){const e=this.getContentPosition(),i=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0,r=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0,s=(c,u)=>Math.ceil(c/(u||c)),o=c=>Math.ceil(c/2),a=this.both?{rows:s(r,this._itemSize[0]),cols:s(i,this._itemSize[1])}:s(this.horizontal?i:r,this._itemSize);return{numItemsInViewport:a,numToleratedItems:this.d_numToleratedItems||(this.both?[o(a.rows),o(a.cols)]:o(a))}}calculateOptions(){const{numItemsInViewport:e,numToleratedItems:i}=this.calculateNumItems(),r=(a,l,c,u=!1)=>this.getLast(a+l+(a<c?2:3)*c,u),s=this.first,o=this.both?{rows:r(this.first.rows,e.rows,i[0]),cols:r(this.first.cols,e.cols,i[1],!0)}:r(this.first,e,i);this.last=o,this.numItemsInViewport=e,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:s.cols}:0:s,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto";const{offsetWidth:e,offsetHeight:i}=this.contentEl;(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=(e<this.defaultWidth?e:this.defaultWidth)+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=(i<this.defaultHeight?i:this.defaultHeight)+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth=""}})}getLast(e=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){const e=getComputedStyle(this.contentEl),i=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),s=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),o=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:i,right:r,top:s,bottom:o,x:i+r,y:s+o}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const e=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,s=(o,a)=>this.elementViewChild.nativeElement.style[o]=a;this.both||this.horizontal?(s("height",r),s("width",i)):s("height",r)}}setSpacerSize(){if(this._items){const e=this.getContentPosition(),i=(r,s,o,a=0)=>this.spacerStyle={...this.spacerStyle,[`${r}`]:(s||[]).length*o+a+"px"};this.both?(i("height",this._items,this._itemSize[0],e.y),i("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,e.x):i("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){const i=e?e.first:this.first,r=(o,a)=>o*a,s=(o=0,a=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${o}px, ${a}px, 0)`};if(this.both)s(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{const o=r(i,this._itemSize);this.horizontal?s(o,0):s(0,o)}}}onScrollPositionChange(e){const i=e.target,r=this.getContentPosition(),s=(E,D)=>E?E>D?E-D:E:0,o=(E,D)=>Math.floor(E/(D||E)),a=(E,D,M,A,O,W)=>E<=O?O:W?M-A-O:D+O-1,l=(E,D,M,A,O,W,K)=>E<=W?0:Math.max(0,K?E<D?M:E-W:E>D?M:E-2*W),c=(E,D,M,A,O,W=!1)=>{let K=D+A+2*O;return E>=O&&(K+=O+1),this.getLast(K,W)},u=s(i.scrollTop,r.top),d=s(i.scrollLeft,r.left);let h=this.both?{rows:0,cols:0}:0,g=this.last,b=!1,T=this.lastScrollPos;if(this.both){const E=this.lastScrollPos.top<=u,D=this.lastScrollPos.left<=d;if(!this._appendOnly||this._appendOnly&&(E||D)){const M={rows:o(u,this._itemSize[0]),cols:o(d,this._itemSize[1])},A={rows:a(M.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],E),cols:a(M.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],D)};h={rows:l(M.rows,A.rows,this.first.rows,0,0,this.d_numToleratedItems[0],E),cols:l(M.cols,A.cols,this.first.cols,0,0,this.d_numToleratedItems[1],D)},g={rows:c(M.rows,h.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:c(M.cols,h.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},b=h.rows!==this.first.rows||g.rows!==this.last.rows||h.cols!==this.first.cols||g.cols!==this.last.cols,T={top:u,left:d}}}else{const E=this.horizontal?d:u,D=this.lastScrollPos<=E;if(!this._appendOnly||this._appendOnly&&D){const M=o(E,this._itemSize);h=l(M,a(M,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,D),this.first,0,0,this.d_numToleratedItems,D),g=c(M,h,0,this.numItemsInViewport,this.d_numToleratedItems),b=h!==this.first||g!==this.last,T=E}}return{first:h,last:g,isRangeChanged:b,scrollPos:T}}onScrollChange(e){const{first:i,last:r,isRangeChanged:s,scrollPos:o}=this.onScrollPositionChange(e);if(s){const a={first:i,last:r};if(this.setContentPosition(a),this.first=i,this.last=r,this.lastScrollPos=o,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged){const l={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==l.first||this.lazyLoadState.last!==l.last)&&this.handleEvents("onLazyLoad",l),this.lazyLoadState=l}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:i}=this.onScrollPositionChange(e);(i||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(e)}bindResizeListener(){this.windowResizeListener||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}unbindResizeListener(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(k.isVisible(this.elementViewChild?.nativeElement)){const[e,i]=[k.getWidth(this.elementViewChild.nativeElement),k.getHeight(this.elementViewChild.nativeElement)],[r,s]=[e!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||s:this.horizontal?r:this.vertical&&s)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=i,this.init()})}},this._resizeDelay)}handleEvents(e,i){return this.options&&this.options[e]?this.options[e](i):this[e].emit(i)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,i)=>this.getLoaderOptions(e,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){const i=(this._items||[]).length,r=this.both?this.first.rows+e:this.first+e;return{index:r,count:i,first:0===r,last:r===i-1,even:r%2==0,odd:r%2!=0}}getLoaderOptions(e,i){const r=this.loaderArr.length;return{index:e,count:r,first:0===e,last:e===r-1,even:e%2==0,odd:e%2!=0,...i}}}return n.\u0275fac=function(e){return new(e||n)(x(tt),x(st))},n.\u0275cmp=Ae({type:n,selectors:[["p-scroller"]],contentQueries:function(e,i,r){if(1&e&&dt(r,gt,4),2&e){let s;Q(s=Y())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(ge(h_e,5),ge(p_e,5)),2&e){let r;Q(r=Y())&&(i.elementViewChild=r.first),Q(r=Y())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[Ln],ngContentSelectors:V_e,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(e,i){if(1&e&&(pr(),v(0,P_e,8,14,"ng-container",0),v(1,N_e,2,1,"ng-template",null,1,ln)),2&e){const r=Ge(2);p("ngIf",!i._disabled)("ngIfElse",r)}},dependencies:[Ze,qn,qe,St,at],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}.p-scroller-inline .p-scroller-content{position:static}\n"],encapsulation:2}),n})(),ha=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee]}),n})(),s5=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r,this.escape=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let e=this.getTarget(this.el.nativeElement);e.addEventListener("focus",this.focusListener),e.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...e.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?k.appendChild(this.container,this.el.nativeElement):k.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content")}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),k.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?hn.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&hn.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+k.getWindowScrollLeft(),top:e.top+k.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+k.getOuterWidth(this.el.nativeElement),r=e.top+(k.getOuterHeight(this.el.nativeElement)-k.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-k.getOuterWidth(this.container),r=e.top+(k.getOuterHeight(this.el.nativeElement)-k.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(k.getOuterWidth(this.el.nativeElement)-k.getOuterWidth(this.container))/2,r=e.top-k.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(k.getOuterWidth(this.el.nativeElement)-k.getOuterWidth(this.container))/2,r=e.top+k.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions={...this._tooltipOptions,...e}}getOption(e){return this._tooltipOptions[e]}getTarget(e){return k.hasClass(e,"p-inputwrapper")?k.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,s=k.getOuterWidth(this.container),o=k.getOuterHeight(this.container),a=k.getViewport();return r+s>a.width||r<0||i<0||i+o>a.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new lh(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let e=this.getTarget(this.el.nativeElement);e.removeEventListener("focus",this.focusListener),e.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):k.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&hn.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(st),x(_r))},n.\u0275dir=_e({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Ln]}),n})(),Nu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee]}),n})();function B_e(n,t){if(1&n&&(_(0,"span"),L(1),y()),2&n){const e=f();m(1),se(e.label||"empty")}}function U_e(n,t){1&n&&$(0)}const tf=function(n){return{height:n}},H_e=function(n,t){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":t}},Hx=function(n){return{$implicit:n}},z_e=["container"],$_e=["filter"],j_e=["in"],G_e=["editableInput"],q_e=["items"],W_e=["scroller"],K_e=["overlay"];function Q_e(n,t){if(1&n&&(ae(0),L(1),le()),2&n){const e=f(2);m(1),se(e.label||"empty")}}function Y_e(n,t){1&n&&$(0)}const Z_e=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function J_e(n,t){if(1&n&&(_(0,"span",14),v(1,Q_e,2,1,"ng-container",15),v(2,Y_e,1,0,"ng-container",16),y()),2&n){const e=f();p("ngClass",B(9,Z_e,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),ie("id",e.labelId),m(1),p("ngIf",!e.selectedItemTemplate),m(1),p("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",B(11,Hx,e.selectedOption))}}const X_e=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function eye(n,t){if(1&n&&(_(0,"span",17),L(1),y()),2&n){const e=f();p("ngClass",B(2,X_e,null==e.placeholder||0===e.placeholder.length)),m(1),se(e.placeholder||"empty")}}function tye(n,t){if(1&n){const e=N();_(0,"input",18,19),S("input",function(r){return C(e),I(f().onEditableInputChange(r))})("focus",function(r){return C(e),I(f().onEditableInputFocus(r))})("blur",function(r){return C(e),I(f().onInputBlur(r))}),y()}if(2&n){const e=f();p("disabled",e.disabled),ie("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function nye(n,t){if(1&n){const e=N();_(0,"i",20),S("click",function(r){return C(e),I(f().clear(r))}),y()}}function iye(n,t){1&n&&$(0)}function rye(n,t){1&n&&$(0)}const o5=function(n){return{options:n}};function sye(n,t){if(1&n&&(ae(0),v(1,rye,1,0,"ng-container",16),le()),2&n){const e=f(3);m(1),p("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",B(2,o5,e.filterOptions))}}function oye(n,t){if(1&n){const e=N();_(0,"div",30)(1,"input",31,32),S("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){return C(e),I(f(3).onKeydown(r,!1))})("input",function(r){return C(e),I(f(3).onFilterInputChange(r))}),y(),j(3,"span",33),y()}if(2&n){const e=f(3);m(1),p("value",e.filterValue||""),ie("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function aye(n,t){if(1&n&&(_(0,"div",27),S("click",function(i){return i.stopPropagation()}),v(1,sye,2,4,"ng-container",28),v(2,oye,4,4,"ng-template",null,29,ln),y()),2&n){const e=Ge(3),i=f(2);m(1),p("ngIf",i.filterTemplate)("ngIfElse",e)}}function lye(n,t){1&n&&$(0)}const a5=function(n,t){return{$implicit:n,options:t}};function cye(n,t){if(1&n&&v(0,lye,1,0,"ng-container",16),2&n){const e=t.$implicit,i=t.options;f(2),p("ngTemplateOutlet",Ge(7))("ngTemplateOutletContext",ye(2,a5,e,i))}}function uye(n,t){1&n&&$(0)}function dye(n,t){if(1&n&&v(0,uye,1,0,"ng-container",16),2&n){const e=t.options;p("ngTemplateOutlet",f(4).loaderTemplate)("ngTemplateOutletContext",B(2,o5,e))}}function hye(n,t){1&n&&(ae(0),v(1,dye,1,4,"ng-template",36),le())}function pye(n,t){if(1&n){const e=N();_(0,"p-scroller",34,35),S("onLazyLoad",function(r){return C(e),I(f(2).onLazyLoad.emit(r))}),v(2,cye,1,5,"ng-template",13),v(3,hye,2,0,"ng-container",15),y()}if(2&n){const e=f(2);Tt(B(8,tf,e.scrollHeight)),p("items",e.optionsToDisplay)("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),m(3),p("ngIf",e.loaderTemplate)}}function fye(n,t){1&n&&$(0)}const mye=function(){return{}};function gye(n,t){if(1&n&&(ae(0),v(1,fye,1,0,"ng-container",16),le()),2&n){f();const e=Ge(7),i=f();m(1),p("ngTemplateOutlet",e)("ngTemplateOutletContext",ye(3,a5,i.optionsToDisplay,en(2,mye)))}}function _ye(n,t){if(1&n&&(_(0,"span"),L(1),y()),2&n){const e=f().$implicit,i=f(4);m(1),se(i.getOptionGroupLabel(e)||"empty")}}function yye(n,t){1&n&&$(0)}function vye(n,t){1&n&&$(0)}const l5=function(n,t){return{$implicit:n,selectedOption:t}};function bye(n,t){if(1&n&&(_(0,"li",42),v(1,_ye,2,1,"span",15),v(2,yye,1,0,"ng-container",16),y(),v(3,vye,1,0,"ng-container",16)),2&n){const e=t.$implicit,i=f(2).options,r=Ge(5),s=f(2);p("ngStyle",B(6,tf,i.itemSize+"px")),m(1),p("ngIf",!s.groupTemplate),m(1),p("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",B(8,Hx,e)),m(1),p("ngTemplateOutlet",r)("ngTemplateOutletContext",ye(10,l5,s.getOptionGroupChildren(e),s.selectedOption))}}function wye(n,t){if(1&n&&(ae(0),v(1,bye,4,13,"ng-template",41),le()),2&n){const e=f().$implicit;m(1),p("ngForOf",e)}}function Cye(n,t){1&n&&$(0)}function Iye(n,t){if(1&n&&(ae(0),v(1,Cye,1,0,"ng-container",16),le()),2&n){const e=f().$implicit,i=Ge(5),r=f(2);m(1),p("ngTemplateOutlet",i)("ngTemplateOutletContext",ye(2,l5,e,r.selectedOption))}}function Tye(n,t){if(1&n){const e=N();_(0,"p-dropdownItem",43),S("onClick",function(r){return C(e),I(f(4).onItemClick(r))}),y()}if(2&n){const e=t.$implicit,i=f().selectedOption,r=f(3);p("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function Eye(n,t){1&n&&v(0,Tye,1,5,"ng-template",41),2&n&&p("ngForOf",t.$implicit)}function Sye(n,t){if(1&n&&(ae(0),L(1),le()),2&n){const e=f(4);m(1),Gt(" ",e.emptyFilterMessageLabel," ")}}function xye(n,t){1&n&&$(0,null,45)}function Dye(n,t){if(1&n&&(_(0,"li",44),v(1,Sye,2,1,"ng-container",28),v(2,xye,2,0,"ng-container",22),y()),2&n){const e=f().options,i=f(2);p("ngStyle",B(4,tf,e.itemSize+"px")),m(1),p("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),m(1),p("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function Aye(n,t){if(1&n&&(ae(0),L(1),le()),2&n){const e=f(4);m(1),Gt(" ",e.emptyMessageLabel," ")}}function kye(n,t){1&n&&$(0,null,46)}function Mye(n,t){if(1&n&&(_(0,"li",44),v(1,Aye,2,1,"ng-container",28),v(2,kye,2,0,"ng-container",22),y()),2&n){const e=f().options,i=f(2);p("ngStyle",B(4,tf,e.itemSize+"px")),m(1),p("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),m(1),p("ngTemplateOutlet",i.emptyTemplate)}}function Rye(n,t){if(1&n&&(_(0,"ul",37,38),v(2,wye,2,1,"ng-container",15),v(3,Iye,2,5,"ng-container",15),v(4,Eye,1,1,"ng-template",null,39,ln),v(6,Dye,3,6,"li",40),v(7,Mye,3,6,"li",40),y()),2&n){const e=t.options,i=f(2);Tt(e.contentStyle),p("ngClass",e.contentStyleClass),ie("id",i.listId),m(2),p("ngIf",i.group),m(1),p("ngIf",!i.group),m(3),p("ngIf",i.filterValue&&i.isEmpty()),m(1),p("ngIf",!i.filterValue&&i.isEmpty())}}function Pye(n,t){1&n&&$(0)}function Oye(n,t){if(1&n&&(_(0,"div",21),v(1,iye,1,0,"ng-container",22),v(2,aye,4,2,"div",23),_(3,"div",24),v(4,pye,4,10,"p-scroller",25),v(5,gye,2,6,"ng-container",15),v(6,Rye,8,8,"ng-template",null,26,ln),y(),v(8,Pye,1,0,"ng-container",22),y()),2&n){const e=f();ce(e.panelStyleClass),p("ngClass","p-dropdown-panel p-component")("ngStyle",e.panelStyle),m(1),p("ngTemplateOutlet",e.headerTemplate),m(1),p("ngIf",e.filter),m(1),Or("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),m(1),p("ngIf",e.virtualScroll),m(1),p("ngIf",!e.virtualScroll),m(3),p("ngTemplateOutlet",e.footerTemplate)}}const Fye=function(n,t,e,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":t,"p-focus":e,"p-dropdown-clearable":i}},Lye={provide:kt,useExisting:Fe(()=>zx),multi:!0};let Nye=(()=>{class n{constructor(){this.onClick=new R}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ae({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(_(0,"li",0),S("click",function(s){return i.onOptionClick(s)}),v(1,B_e,2,1,"span",1),v(2,U_e,1,0,"ng-container",2),y()),2&e&&(p("ngStyle",B(8,tf,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",ye(10,H_e,i.selected,i.disabled)),ie("aria-label",i.label)("aria-selected",i.selected),m(1),p("ngIf",!i.template),m(1),p("ngTemplateOutlet",i.template)("ngTemplateOutletContext",B(13,Hx,i.option)))},dependencies:[Ze,qe,St,at,Mn],encapsulation:2}),n})(),zx=(()=>{class n{constructor(e,i,r,s,o,a){this.el=e,this.renderer=i,this.cd=r,this.zone=s,this.filterService=o,this.config=a,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.overlayDirection="end",this.onChange=new R,this.onFilter=new R,this.onFocus=new R,this.onBlur=new R,this.onClick=new R,this.onShow=new R,this.onHide=new R,this.onClear=new R,this.onLazyLoad=new R,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=Ba()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&G.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(tn.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(tn.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?G.resolveFieldData(e,this.optionLabel):e&&void 0!==e.label?e.label:e}getOptionValue(e){return this.optionValue?G.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&void 0!==e.value?e.value:e}isOptionDisabled(e){return this.optionDisabled?G.resolveFieldData(e,this.optionDisabled):!(!e||void 0===e.disabled)&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?G.resolveFieldData(e,this.optionGroupLabel):e&&void 0!==e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?G.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const i=e.option;this.isOptionDisabled(i)||(this.selectItem(e.originalEvent,i),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},1)}selectItem(e,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}))}ngAfterViewChecked(){this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper&&(k.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")&&k.scrollInView(this.itemsWrapper,k.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")),this.selectedOptionUpdated=!1)}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(e){return k.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){if("visible"===e.toState){if(this.itemsWrapper=k.findSingle(this.overlayViewChild.el.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const i=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==i&&this.scroller.scrollToIndex(i)}else{let i=k.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}"void"===e.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e-1;0<=r;r--){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}if(!i)for(let r=this.optionsToDisplay.length-1;r>=e;r--){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}}return i}findNextEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e+1;r<this.optionsToDisplay.length;r++){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}if(!i)for(let r=0;r<e;r++){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}}return i}onKeydown(e,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let s=r.itemIndex+1;s<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[s]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,s=this.findNextEnabledOption(r);s&&(this.selectItem(e,s),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let s=r.itemIndex-1;if(s>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[s]),this.selectedOptionUpdated=!0;else if(s<0){let o=this.optionsToDisplay[r.groupIndex-1];o&&(this.selectItem(e,this.getOptionGroupChildren(o)[this.getOptionGroupChildren(o).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,s=this.findPrevEnabledOption(r);s&&(this.selectItem(e,s),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!e.metaKey&&17!==e.which&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=e.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let s=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(s)}else{let s=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++s)}r&&!this.isOptionDisabled(r)&&(this.selectItem(e,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let i;return this.searchValue&&(i=this.searchOptionInRange(e,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,e))),i}searchOptionInRange(e,i){for(let r=e;r<i;r++){let s=this.optionsToDisplay[r];if(this.getOptionLabel(s).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(s))return s}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let r=e.groupIndex;r<this.optionsToDisplay.length;r++)for(let s=e.groupIndex===r?e.itemIndex+1:0;s<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;s++){let o=this.getOptionGroupChildren(this.optionsToDisplay[r])[s];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}for(let r=0;r<=e.groupIndex;r++)for(let s=0;s<(e.groupIndex===r?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);s++){let o=this.getOptionGroupChildren(this.optionsToDisplay[r])[s];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}}return null}findOptionIndex(e,i){let r=-1;if(i)for(let s=0;s<i.length;s++)if(null==e&&null==this.getOptionValue(i[s])||G.equals(e,this.getOptionValue(i[s]),this.dataKey)){r=s;break}return r}findOptionGroupIndex(e,i){let r,s;if(i)for(let o=0;o<i.length&&(r=o,s=this.findOptionIndex(e,this.getOptionGroupChildren(i[o])),-1===s);o++);return-1!==s?{groupIndex:r,itemIndex:s}:-1}findOption(e,i,r){if(this.group&&!r){let s;if(i&&i.length)for(let o of i)if(s=this.findOption(e,this.getOptionGroupChildren(o),!0),s)break;return s}{let s=this.findOptionIndex(e,i);return-1!=s?i[s]:null}}onFilterInputChange(e){let i=e.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let r of this.options){let s=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);s&&s.length&&i.push({...r,[this.optionGroupChildren]:s})}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?k.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():k.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(Gn),x(tt),x(st),x(rC),x(_r))},n.\u0275cmp=Ae({type:n,selectors:[["p-dropdown"]],contentQueries:function(e,i,r){if(1&e&&dt(r,gt,4),2&e){let s;Q(s=Y())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(ge(z_e,5),ge($_e,5),ge(j_e,5),ge(G_e,5),ge(q_e,5),ge(W_e,5),ge(K_e,5)),2&e){let r;Q(r=Y())&&(i.containerViewChild=r.first),Q(r=Y())&&(i.filterViewChild=r.first),Q(r=Y())&&(i.accessibleViewChild=r.first),Q(r=Y())&&(i.editableInputViewChild=r.first),Q(r=Y())&&(i.itemsViewChild=r.first),Q(r=Y())&&(i.scroller=r.first),Q(r=Y())&&(i.overlayViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&ai("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",overlayDirection:"overlayDirection",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[Ue([Lye])],decls:14,vars:32,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","pAutoFocus","","role","combobox",3,"disabled","autofocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(e,i){1&e&&(_(0,"div",0,1),S("click",function(s){return i.onMouseclick(s)}),_(2,"div",2)(3,"input",3,4),S("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)})("keydown",function(s){return i.onKeydown(s,!0)}),y()(),v(5,J_e,3,13,"span",5),v(6,eye,2,4,"span",6),v(7,tye,2,4,"input",7),v(8,nye,1,0,"i",8),_(9,"div",9),j(10,"span",10),y(),_(11,"p-overlay",11,12),S("visibleChange",function(s){return i.overlayVisible=s})("onAnimationStart",function(s){return i.onOverlayAnimationStart(s)})("onHide",function(){return i.hide()}),v(13,Oye,9,11,"ng-template",13),y()()),2&e&&(ce(i.styleClass),p("ngClass",Ji(27,Fye,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),m(3),p("disabled",i.disabled)("autofocus",i.autofocus),ie("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("aria-activedescendant",i.overlayVisible?i.labelId:null),m(2),p("ngIf",!i.editable&&null!=i.label),m(1),p("ngIf",!i.editable&&null==i.label),m(1),p("ngIf",i.editable),m(1),p("ngIf",i.isVisibleClearIcon),m(1),ie("aria-expanded",i.overlayVisible),m(1),p("ngClass",i.dropdownIcon),m(1),p("visible",i.overlayVisible)("options",i.overlayOptions)("target","@parent")("appendTo",i.appendTo)("autoZIndex",i.autoZIndex)("baseZIndex",i.baseZIndex)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions))},dependencies:[Ze,qn,qe,St,at,Fy,gt,s5,Ly,Bx,Nye],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,changeDetection:0}),n})(),nf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,Lu,nt,Nu,pn,ha,Oy,Lu,nt,ha]}),n})();const Vye=["input"];function Bye(n,t){if(1&n){const e=N();_(0,"i",6),S("click",function(){return C(e),I(f().clear())}),y()}}const c5=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},u5=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function Uye(n,t){if(1&n){const e=N();_(0,"span",7)(1,"button",8),S("mousedown",function(r){return C(e),I(f().onUpButtonMouseDown(r))})("mouseup",function(){return C(e),I(f().onUpButtonMouseUp())})("mouseleave",function(){return C(e),I(f().onUpButtonMouseLeave())})("keydown",function(r){return C(e),I(f().onUpButtonKeyDown(r))})("keyup",function(){return C(e),I(f().onUpButtonKeyUp())}),y(),_(2,"button",8),S("mousedown",function(r){return C(e),I(f().onDownButtonMouseDown(r))})("mouseup",function(){return C(e),I(f().onDownButtonMouseUp())})("mouseleave",function(){return C(e),I(f().onDownButtonMouseLeave())})("keydown",function(r){return C(e),I(f().onDownButtonKeyDown(r))})("keyup",function(){return C(e),I(f().onDownButtonKeyUp())}),y()()}if(2&n){const e=f();m(1),ce(e.incrementButtonClass),p("ngClass",en(10,c5))("icon",e.incrementButtonIcon)("disabled",e.disabled),m(1),ce(e.decrementButtonClass),p("ngClass",en(11,u5))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function Hye(n,t){if(1&n){const e=N();_(0,"button",8),S("mousedown",function(r){return C(e),I(f().onUpButtonMouseDown(r))})("mouseup",function(){return C(e),I(f().onUpButtonMouseUp())})("mouseleave",function(){return C(e),I(f().onUpButtonMouseLeave())})("keydown",function(r){return C(e),I(f().onUpButtonKeyDown(r))})("keyup",function(){return C(e),I(f().onUpButtonKeyUp())}),y()}if(2&n){const e=f();ce(e.incrementButtonClass),p("ngClass",en(5,c5))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function zye(n,t){if(1&n){const e=N();_(0,"button",8),S("mousedown",function(r){return C(e),I(f().onDownButtonMouseDown(r))})("mouseup",function(){return C(e),I(f().onDownButtonMouseUp())})("mouseleave",function(){return C(e),I(f().onDownButtonMouseLeave())})("keydown",function(r){return C(e),I(f().onDownButtonKeyDown(r))})("keyup",function(){return C(e),I(f().onDownButtonKeyUp())}),y()}if(2&n){const e=f();ce(e.decrementButtonClass),p("ngClass",en(5,u5))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const $ye=function(n,t,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":n,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}},jye={provide:kt,useExisting:Fe(()=>$x),multi:!0};let $x=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new R,this.onFocus=new R,this.onBlur=new R,this.onKeyDown=new R,this.onClear=new R,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!e[r])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(e.map((r,s)=>[r,s]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>i.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,{...this.getOptions(),useGrouping:!1});return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(r=this.prefix+r),this.suffix&&(r+=this.suffix),r}return e.toString()}return""}parseValue(e){let i=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(i){if("-"===i)return i;let r=+i;return isNaN(r)?null:r}return null}repeat(e,i,r){if(this.readonly)return;let s=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,r)},s),this.spin(e,r)}spin(e,i){let r=this.step*i,s=this.parseValue(this.input.nativeElement.value)||0,o=this.validateValue(s+r);this.maxlength&&this.maxlength<this.formatValue(o).length||(this.updateInput(o,null,"spin",null),this.updateModel(e,o),this.handleOnInput(e,s,o))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let i=e.target.selectionStart,r=e.target.selectionEnd,s=e.target.value,o=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(s.charAt(i-1))||e.preventDefault();break;case 39:this.isNumeralChar(s.charAt(i))||e.preventDefault();break;case 13:o=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(o),this.input.nativeElement.setAttribute("aria-valuenow",o),this.updateModel(e,o);break;case 8:if(e.preventDefault(),i===r){const a=s.charAt(i-1),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(a)){const u=this.getDecimalLength(s);if(this._group.test(a))this._group.lastIndex=0,o=s.slice(0,i-2)+s.slice(i-1);else if(this._decimal.test(a))this._decimal.lastIndex=0,u?this.input.nativeElement.setSelectionRange(i-1,i-1):o=s.slice(0,i-1)+s.slice(i);else if(l>0&&i>l){const d=this.isDecimalMode()&&(this.minFractionDigits||0)<u?"":"0";o=s.slice(0,i-1)+d+s.slice(i)}else 1===c?(o=s.slice(0,i-1)+"0"+s.slice(i),o=this.parseValue(o)>0?o:""):o=s.slice(0,i-1)+s.slice(i)}this.updateValue(e,o,null,"delete-single")}else o=this.deleteRange(s,i,r),this.updateValue(e,o,null,"delete-range");break;case 46:if(e.preventDefault(),i===r){const a=s.charAt(i),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(a)){const u=this.getDecimalLength(s);if(this._group.test(a))this._group.lastIndex=0,o=s.slice(0,i)+s.slice(i+2);else if(this._decimal.test(a))this._decimal.lastIndex=0,u?this.input.nativeElement.setSelectionRange(i+1,i+1):o=s.slice(0,i)+s.slice(i+1);else if(l>0&&i>l){const d=this.isDecimalMode()&&(this.minFractionDigits||0)<u?"":"0";o=s.slice(0,i)+d+s.slice(i+1)}else 1===c?(o=s.slice(0,i)+"0"+s.slice(i+1),o=this.parseValue(o)>0?o:""):o=s.slice(0,i)+s.slice(i+1)}this.updateValue(e,o,null,"delete-back-single")}else o=this.deleteRange(s,i,r),this.updateValue(e,o,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;let i=e.which||e.keyCode,r=String.fromCharCode(i);const s=this.isDecimalSign(r),o=this.isMinusSign(r);13!=i&&e.preventDefault(),(48<=i&&i<=57||o||s)&&this.insert(e,r,{isDecimalSign:s,isMinusSign:o})}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let i=(e.clipboardData||window.clipboardData).getData("Text");if(i){let r=this.parseValue(i);null!=r&&this.insert(e,r.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(e){return!(!this._minusSign.test(e)&&"-"!==e||(this._minusSign.lastIndex=0,0))}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;const s=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:s}}getCharIndexes(e){const i=e.search(this._decimal);this._decimal.lastIndex=0;const r=e.search(this._minusSign);this._minusSign.lastIndex=0;const s=e.search(this._suffix);this._suffix.lastIndex=0;const o=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:r,suffixCharIndex:s,currencyCharIndex:o}}insert(e,i,r={isDecimalSign:!1,isMinusSign:!1}){const s=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==s)return;let o=this.input.nativeElement.selectionStart,a=this.input.nativeElement.selectionEnd,l=this.input.nativeElement.value.trim();const{decimalCharIndex:c,minusCharIndex:u,suffixCharIndex:d,currencyCharIndex:h}=this.getCharIndexes(l);let g;if(r.isMinusSign)0===o&&(g=l,(-1===u||0!==a)&&(g=this.insertText(l,i,0,a)),this.updateValue(e,g,i,"insert"));else if(r.isDecimalSign)c>0&&o===c?this.updateValue(e,l,i,"insert"):(c>o&&c<a||-1===c&&this.maxFractionDigits)&&(g=this.insertText(l,i,o,a),this.updateValue(e,g,i,"insert"));else{const b=this.numberFormat.resolvedOptions().maximumFractionDigits,T=o!==a?"range-insert":"insert";if(c>0&&o>c){if(o+i.length-(c+1)<=b){const E=h>=o?h-1:d>=o?d:l.length;g=l.slice(0,o)+i+l.slice(o+i.length,E)+l.slice(E),this.updateValue(e,g,i,T)}}else g=this.insertText(l,i,o,a),this.updateValue(e,g,i,T)}}insertText(e,i,r,s){if(2===("."===i?i:i.split(".")).length){const a=e.slice(r,s).search(this._decimal);return this._decimal.lastIndex=0,a>0?e.slice(0,r)+this.formatValue(i)+e.slice(s):e||this.formatValue(i)}return s-r===e.length?this.formatValue(i):0===r?i+e.slice(s):s===e.length?e.slice(0,r)+i:e.slice(0,r)+i+e.slice(s)}deleteRange(e,i,r){let s;return s=r-i===e.length?"":0===i?e.slice(r):r===e.length?e.slice(0,i):e.slice(0,i)+e.slice(r),s}initCursor(){let e=this.input.nativeElement.selectionStart,i=this.input.nativeElement.value,r=i.length,s=null,o=(this.prefixChar||"").length;i=i.replace(this._prefix,""),e-=o;let a=i.charAt(e);if(this.isNumeralChar(a))return e+o;let l=e-1;for(;l>=0;){if(a=i.charAt(l),this.isNumeralChar(a)){s=l+o;break}l--}if(null!==s)this.input.nativeElement.setSelectionRange(s+1,s+1);else{for(l=e;l<r;){if(a=i.charAt(l),this.isNumeralChar(a)){s=l+o;break}l++}null!==s&&this.input.nativeElement.setSelectionRange(s,s)}return s||0}onInputClick(){!this.readonly&&this.input.nativeElement.value!==k.getSelection()&&this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,i,r,s){let o=this.input.nativeElement.value,a=null;null!=i&&(a=this.parseValue(i),a=a||this.allowEmpty?a:0,this.updateInput(a,r,s,i),this.handleOnInput(e,o,a))}handleOnInput(e,i,r){this.isValueChanged(i,r)&&this.onInput.emit({originalEvent:e,value:r,formattedValue:i})}isValueChanged(e,i){return null===i&&null!==e||null!=i&&i!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return"-"===e||null==e?null:null!=this.min&&e<this.min?this.min:null!=this.max&&e>this.max?this.max:e}updateInput(e,i,r,s){i=i||"";let o=this.input.nativeElement.value,a=this.formatValue(e),l=o.length;if(a!==s&&(a=this.concatValues(a,s)),0===l){this.input.nativeElement.value=a,this.input.nativeElement.setSelectionRange(0,0);const u=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(u,u)}else{let c=this.input.nativeElement.selectionStart,u=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<a.length)return;this.input.nativeElement.value=a;let d=a.length;if("range-insert"===r){const h=this.parseValue((o||"").slice(0,c)),b=(null!==h?h.toString():"").split("").join(`(${this.groupChar})?`),T=new RegExp(b,"g");T.test(a);const E=i.split("").join(`(${this.groupChar})?`),D=new RegExp(E,"g");D.test(a.slice(T.lastIndex)),u=T.lastIndex+D.lastIndex,this.input.nativeElement.setSelectionRange(u,u)}else if(d===l)"insert"===r||"delete-back-single"===r?this.input.nativeElement.setSelectionRange(u+1,u+1):"delete-single"===r?this.input.nativeElement.setSelectionRange(u-1,u-1):("delete-range"===r||"spin"===r)&&this.input.nativeElement.setSelectionRange(u,u);else if("delete-back-single"===r){let h=o.charAt(u-1),g=o.charAt(u),b=l-d,T=this._group.test(g);T&&1===b?u+=1:!T&&this.isNumeralChar(h)&&(u+=-1*b+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(u,u)}else if("-"===o&&"insert"===r){this.input.nativeElement.setSelectionRange(0,0);const g=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(g,g)}else u+=d-l,this.input.nativeElement.setSelectionRange(u,u)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,i){if(e&&i){let r=i.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?e.replace(this.suffixChar,"").split(this._decimal)[0]+i.replace(this.suffixChar,"").slice(r)+this.suffixChar:-1!==r?e.split(this._decimal)[0]+i.slice(r):e}return e}getDecimalLength(e){if(e){const i=e.split(this._decimal);if(2===i.length)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(i),this.input.nativeElement.setAttribute("aria-valuenow",i),this.updateModel(e,i),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(e,i){this.value!==i&&(this.value=i,this.onModelChange(i)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(tt))},n.\u0275cmp=Ae({type:n,selectors:[["p-inputNumber"]],viewQuery:function(e,i){if(1&e&&ge(Vye,5),2&e){let r;Q(r=Y())&&(i.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&ai("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)("p-inputnumber-clearable",i.showClear&&"vertical"!=i.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[Ue([jye]),Ln],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,i){1&e&&(_(0,"span",0)(1,"input",1,2),S("input",function(s){return i.onUserInput(s)})("keydown",function(s){return i.onInputKeyDown(s)})("keypress",function(s){return i.onInputKeyPress(s)})("paste",function(s){return i.onPaste(s)})("click",function(){return i.onInputClick()})("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)}),y(),v(3,Bye,1,0,"i",3),v(4,Uye,3,12,"span",4),v(5,Hye,1,6,"button",5),v(6,zye,1,6,"button",5),y()),2&e&&(ce(i.styleClass),p("ngClass",an(28,$ye,i.showButtons&&"stacked"===i.buttonLayout,i.showButtons&&"horizontal"===i.buttonLayout,i.showButtons&&"vertical"===i.buttonLayout))("ngStyle",i.style),m(1),ce(i.inputStyleClass),p("ngClass","p-inputnumber-input")("ngStyle",i.inputStyle)("value",i.formattedValue())("disabled",i.disabled)("readonly",i.readonly),ie("placeholder",i.placeholder)("title",i.title)("id",i.inputId)("size",i.size)("name",i.name)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-required",i.ariaRequired)("required",i.required)("min",i.min)("max",i.max),m(2),p("ngIf","vertical"!=i.buttonLayout&&i.showClear&&i.value),m(1),p("ngIf",i.showButtons&&"stacked"===i.buttonLayout),m(1),p("ngIf",i.showButtons&&"stacked"!==i.buttonLayout),m(1),p("ngIf",i.showButtons&&"stacked"!==i.buttonLayout))},dependencies:[Ze,qe,at,Fu,Ro],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),rf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,po,$r]}),n})();function Gye(n,t){1&n&&$(0)}const jx=function(n){return{$implicit:n}};function qye(n,t){if(1&n&&(_(0,"div",15),v(1,Gye,1,0,"ng-container",16),y()),2&n){const e=f(2);m(1),p("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",B(2,jx,e.paginatorState))}}function Wye(n,t){if(1&n&&(_(0,"span",17),L(1),y()),2&n){const e=f(2);m(1),se(e.currentPageReport)}}const Ny=function(n){return{"p-disabled":n}};function Kye(n,t){if(1&n){const e=N();_(0,"button",18),S("click",function(r){return C(e),I(f(2).changePageToFirst(r))}),j(1,"span",19),y()}if(2&n){const e=f(2);p("disabled",e.isFirstPage()||e.empty())("ngClass",B(2,Ny,e.isFirstPage()||e.empty()))}}const Qye=function(n){return{"p-highlight":n}};function Yye(n,t){if(1&n){const e=N();_(0,"button",22),S("click",function(r){const o=C(e).$implicit;return I(f(3).onPageLinkClick(r,o-1))}),L(1),y()}if(2&n){const e=t.$implicit,i=f(3);p("ngClass",B(2,Qye,e-1==i.getPage())),m(1),Gt(" ",e," ")}}function Zye(n,t){if(1&n&&(_(0,"span",20),v(1,Yye,2,4,"button",21),y()),2&n){const e=f(2);m(1),p("ngForOf",e.pageLinks)}}function Jye(n,t){1&n&&L(0),2&n&&se(f(3).currentPageReport)}function Xye(n,t){if(1&n){const e=N();_(0,"p-dropdown",23),S("onChange",function(r){return C(e),I(f(2).onPageDropdownChange(r))}),v(1,Jye,1,1,"ng-template",24),y()}if(2&n){const e=f(2);p("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function eve(n,t){if(1&n){const e=N();_(0,"button",25),S("click",function(r){return C(e),I(f(2).changePageToLast(r))}),j(1,"span",26),y()}if(2&n){const e=f(2);p("disabled",e.isLastPage()||e.empty())("ngClass",B(2,Ny,e.isLastPage()||e.empty()))}}function tve(n,t){if(1&n){const e=N();_(0,"p-inputNumber",27),S("ngModelChange",function(r){return C(e),I(f(2).changePage(r-1))}),y()}if(2&n){const e=f(2);p("ngModel",e.currentPage())("disabled",e.empty())}}function nve(n,t){1&n&&$(0)}function ive(n,t){if(1&n&&v(0,nve,1,0,"ng-container",16),2&n){const e=t.$implicit;p("ngTemplateOutlet",f(4).dropdownItemTemplate)("ngTemplateOutletContext",B(2,jx,e))}}function rve(n,t){1&n&&(ae(0),v(1,ive,1,4,"ng-template",30),le())}function sve(n,t){if(1&n){const e=N();_(0,"p-dropdown",28),S("ngModelChange",function(r){return C(e),I(f(2).rows=r)})("onChange",function(r){return C(e),I(f(2).onRppChange(r))}),v(1,rve,2,0,"ng-container",29),y()}if(2&n){const e=f(2);p("options",e.rowsPerPageItems)("ngModel",e.rows)("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),m(1),p("ngIf",e.dropdownItemTemplate)}}function ove(n,t){1&n&&$(0)}function ave(n,t){if(1&n&&(_(0,"div",31),v(1,ove,1,0,"ng-container",16),y()),2&n){const e=f(2);m(1),p("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",B(2,jx,e.paginatorState))}}function lve(n,t){if(1&n){const e=N();_(0,"div",1),v(1,qye,2,4,"div",2),v(2,Wye,2,1,"span",3),v(3,Kye,2,4,"button",4),_(4,"button",5),S("click",function(r){return C(e),I(f().changePageToPrev(r))}),j(5,"span",6),y(),v(6,Zye,2,1,"span",7),v(7,Xye,2,5,"p-dropdown",8),_(8,"button",9),S("click",function(r){return C(e),I(f().changePageToNext(r))}),j(9,"span",10),y(),v(10,eve,2,4,"button",11),v(11,tve,1,2,"p-inputNumber",12),v(12,sve,2,6,"p-dropdown",13),v(13,ave,2,4,"div",14),y()}if(2&n){const e=f();ce(e.styleClass),p("ngStyle",e.style)("ngClass","p-paginator p-component"),m(1),p("ngIf",e.templateLeft),m(1),p("ngIf",e.showCurrentPageReport),m(1),p("ngIf",e.showFirstLastIcon),m(1),p("disabled",e.isFirstPage()||e.empty())("ngClass",B(17,Ny,e.isFirstPage()||e.empty())),m(2),p("ngIf",e.showPageLinks),m(1),p("ngIf",e.showJumpToPageDropdown),m(1),p("disabled",e.isLastPage()||e.empty())("ngClass",B(19,Ny,e.isLastPage()||e.empty())),m(2),p("ngIf",e.showFirstLastIcon),m(1),p("ngIf",e.showJumpToPageInput),m(1),p("ngIf",e.rowsPerPageOptions),m(1),p("ngIf",e.templateRight)}}let cve=(()=>{class n{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new R,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),i=Math.min(this.pageLinkSize,e),r=Math.max(0,Math.ceil(this.getPage()-i/2)),s=Math.min(e-1,r+i-1);return r=Math.max(0,r-(this.pageLinkSize-(s-r+1))),[r,s]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),r=e[1];for(let s=e[0];s<=r;s++)this.pageLinks.push(s+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let s=0;s<this.getPageCount();s++)this.pageItems.push({label:String(s+1),value:s})}}changePage(e){var i=this.getPageCount();if(e>=0&&e<i){this._first=this.rows*e;var r={page:e,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,i){this.changePage(i),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return n.\u0275fac=function(e){return new(e||n)(x(tt))},n.\u0275cmp=Ae({type:n,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[Ln],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,i){1&e&&v(0,lve,14,21,"div",0),2&e&&p("ngIf",!!i.alwaysShow||i.pageLinks&&i.pageLinks.length>1)},dependencies:[Ze,qn,qe,St,at,zx,gt,$x,Yp,da,Mn],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),uve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,nf,rf,Ou,nt,pn,nf,rf,Ou,nt]}),n})();function dve(n,t){1&n&&j(0,"span",8),2&n&&(ce(f(2).$implicit.icon),p("ngClass","p-button-icon p-button-icon-left"))}function hve(n,t){if(1&n&&(ae(0),v(1,dve,1,3,"span",6),_(2,"span",7),L(3),y(),le()),2&n){const e=f().$implicit,i=f();m(1),p("ngIf",e.icon),m(2),se(i.getOptionLabel(e))}}function pve(n,t){1&n&&$(0)}const fve=function(n,t){return{$implicit:n,index:t}};function mve(n,t){if(1&n&&v(0,pve,1,0,"ng-container",9),2&n){const e=f(),i=e.$implicit,r=e.index;p("ngTemplateOutlet",f().itemTemplate)("ngTemplateOutletContext",ye(2,fve,i,r))}}const gve=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-button-icon-only":e}};function _ve(n,t){if(1&n){const e=N();_(0,"div",2,3),S("click",function(r){const s=C(e),o=s.$implicit,a=s.index;return I(f().onItemClick(r,o,a))})("keydown.enter",function(r){const s=C(e),o=s.$implicit,a=s.index;return I(f().onItemClick(r,o,a))})("blur",function(){return C(e),I(f().onBlur())}),v(2,hve,4,2,"ng-container",4),v(3,mve,1,5,"ng-template",null,5,ln),y()}if(2&n){const e=t.$implicit,i=Ge(4),r=f();ce(e.styleClass),p("ngClass",an(10,gve,r.isSelected(e),r.disabled||r.isOptionDisabled(e),e.icon&&!r.getOptionLabel(e))),ie("aria-pressed",r.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",r.disabled?null:r.tabindex)("aria-labelledby",r.getOptionLabel(e)),m(2),p("ngIf",!r.itemTemplate)("ngIfElse",i)}}const yve={provide:kt,useExisting:Fe(()=>vve),multi:!0};let vve=(()=>{class n{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new R,this.onChange=new R,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(e){return this.optionLabel?G.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?G.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?G.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onItemClick(e,i,r){if(!this.disabled&&!this.isOptionDisabled(i)){if(this.multiple)this.isSelected(i)?this.removeOption(i):this.value=[...this.value||[],this.getOptionValue(i)],this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value});else{let s=this.getOptionValue(i);this.value!==s&&(this.value=this.getOptionValue(i),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}this.onOptionClick.emit({originalEvent:e,option:i,index:r})}}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(i=>!G.equals(i,this.getOptionValue(e),this.dataKey))}isSelected(e){let i=!1,r=this.getOptionValue(e);if(this.multiple){if(this.value&&this.value instanceof Array)for(let s of this.value)if(G.equals(s,r,this.dataKey)){i=!0;break}}else i=G.equals(this.getOptionValue(e),this.value,this.dataKey);return i}}return n.\u0275fac=function(e){return new(e||n)(x(tt))},n.\u0275cmp=Ae({type:n,selectors:[["p-selectButton"]],contentQueries:function(e,i,r){if(1&e&&dt(r,Nr,5),2&e){let s;Q(s=Y())&&(i.itemTemplate=s.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[Ue([yve])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(_(0,"div",0),v(1,_ve,5,14,"div",1),y()),2&e&&(ce(i.styleClass),p("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",i.style),m(1),p("ngForOf",i.options))},dependencies:[Ze,qn,qe,St,at,Mn],styles:['.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n'],encapsulation:2,changeDetection:0}),n})(),d5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,pn]}),n})();const bve=function(n,t,e){return{"p-checkbox-label-active":n,"p-disabled":t,"p-checkbox-label-focus":e}};function wve(n,t){if(1&n){const e=N();_(0,"label",7),S("click",function(r){C(e);const s=f(),o=Ge(3);return I(s.onClick(r,o))}),L(1),y()}if(2&n){const e=f();p("ngClass",an(3,bve,null!=e.value,e.disabled,e.focused)),ie("for",e.inputId),m(1),se(e.label)}}const Cve=function(n,t){return{"p-checkbox p-component":!0,"p-checkbox-disabled":n,"p-checkbox-focused":t}},Ive=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-focus":e}},Tve={provide:kt,useExisting:Fe(()=>Eve),multi:!0};let Eve=(()=>{class n{constructor(e){this.cd=e,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new R,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,i){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,i.focus())}onKeydown(e){32==e.keyCode&&e.preventDefault()}onKeyup(e){32==e.keyCode&&!this.readonly&&(this.toggle(e),e.preventDefault())}toggle(e){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(x(tt))},n.\u0275cmp=Ae({type:n,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[Ue([Tve])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(e,i){if(1&e){const r=N();_(0,"div",0)(1,"div",1)(2,"input",2,3),S("keyup",function(o){return i.onKeyup(o)})("keydown",function(o){return i.onKeydown(o)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),y()(),_(4,"div",4),S("click",function(o){C(r);const a=Ge(3);return I(i.onClick(o,a))}),j(5,"span",5),y()(),v(6,wve,2,7,"label",6)}2&e&&(ce(i.styleClass),p("ngStyle",i.style)("ngClass",ye(14,Cve,i.disabled,i.focused)),m(2),p("name",i.name)("readonly",i.readonly)("disabled",i.disabled),ie("id",i.inputId)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),m(2),p("ngClass",an(17,Ive,null!=i.value,i.disabled,i.focused)),ie("aria-checked",!0===i.value),m(1),p("ngClass",!0===i.value?i.checkboxTrueIcon:!1===i.value?i.checkboxFalseIcon:""),m(1),p("ngIf",i.label))},dependencies:[Ze,qe,at],encapsulation:2,changeDetection:0}),n})(),Sve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee]}),n})();const xve=["container"],Dve=["resizeHelper"],Ave=["reorderIndicatorUp"],kve=["reorderIndicatorDown"],Mve=["wrapper"],Rve=["table"],Pve=["thead"],Ove=["tfoot"],Fve=["scroller"];function Lve(n,t){if(1&n&&(_(0,"div",15),j(1,"i"),y()),2&n){const e=f();m(1),ce("p-datatable-loading-icon pi-spin "+e.loadingIcon)}}function Nve(n,t){1&n&&$(0)}function Vve(n,t){if(1&n&&(_(0,"div",16),v(1,Nve,1,0,"ng-container",17),y()),2&n){const e=f();m(1),p("ngTemplateOutlet",e.captionTemplate)}}function Bve(n,t){if(1&n){const e=N();_(0,"p-paginator",18),S("onPageChange",function(r){return C(e),I(f().onPageChange(r))}),y()}if(2&n){const e=f();p("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function Uve(n,t){1&n&&$(0)}const h5=function(n,t){return{$implicit:n,options:t}};function Hve(n,t){if(1&n&&v(0,Uve,1,0,"ng-container",22),2&n){const e=t.$implicit,i=t.options;f(2),p("ngTemplateOutlet",Ge(10))("ngTemplateOutletContext",ye(2,h5,e,i))}}const zve=function(n){return{height:n}};function $ve(n,t){if(1&n){const e=N();_(0,"p-scroller",19,20),S("onLazyLoad",function(r){return C(e),I(f().onLazyItemLoad(r))}),v(2,Hve,1,5,"ng-template",21),y()}if(2&n){const e=f();Tt(B(15,zve,"flex"!==e.scrollHeight?e.scrollHeight:void 0)),p("items",e.processedData)("columns",e.columns)("scrollHeight","flex"!==e.scrollHeight?void 0:"100%")("itemSize",e.virtualScrollItemSize||e._virtualRowHeight)("step",e.rows)("delay",e.lazy?e.virtualScrollDelay:0)("inline",!0)("lazy",e.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",e.loadingBodyTemplate)("options",e.virtualScrollOptions)("autoSize",!0)}}function jve(n,t){1&n&&$(0)}const Gve=function(n){return{columns:n}};function qve(n,t){if(1&n&&(ae(0),v(1,jve,1,0,"ng-container",22),le()),2&n){const e=f(),i=Ge(10);m(1),p("ngTemplateOutlet",i)("ngTemplateOutletContext",ye(4,h5,e.processedData,B(2,Gve,e.columns)))}}function Wve(n,t){1&n&&$(0)}function Kve(n,t){1&n&&$(0)}function Qve(n,t){if(1&n&&j(0,"tbody",31),2&n){const e=f().options,i=f();p("value",i.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",i.frozenBodyTemplate)("frozen",!0)}}function Yve(n,t){if(1&n&&j(0,"tbody",32),2&n){const e=f().options;Tt("height: calc("+e.spacerStyle.height+" - "+e.rows.length*e.itemSize+"px);")}}function Zve(n,t){1&n&&$(0)}const sf=function(n){return{$implicit:n}};function Jve(n,t){if(1&n&&(_(0,"tfoot",33,34),v(2,Zve,1,0,"ng-container",22),y()),2&n){const e=f().options,i=f();m(2),p("ngTemplateOutlet",i.footerGroupedTemplate||i.footerTemplate)("ngTemplateOutletContext",B(2,sf,e.columns))}}const Xve=function(n,t,e){return{"p-datatable-table":!0,"p-datatable-scrollable-table":n,"p-datatable-resizable-table":t,"p-datatable-resizable-table-fit":e}};function ebe(n,t){if(1&n&&(_(0,"table",23,24),v(2,Wve,1,0,"ng-container",22),_(3,"thead",25,26),v(5,Kve,1,0,"ng-container",22),y(),v(6,Qve,1,5,"tbody",27),j(7,"tbody",28),v(8,Yve,1,2,"tbody",29),v(9,Jve,3,4,"tfoot",30),y()),2&n){const e=t.options,i=f();Tt(i.tableStyle),ce(i.tableStyleClass),p("ngClass",an(20,Xve,i.scrollable,i.resizableColumns,i.resizableColumns&&"fit"===i.columnResizeMode)),ie("id",i.id+"-table"),m(2),p("ngTemplateOutlet",i.colGroupTemplate)("ngTemplateOutletContext",B(24,sf,e.columns)),m(3),p("ngTemplateOutlet",i.headerGroupedTemplate||i.headerTemplate)("ngTemplateOutletContext",B(26,sf,e.columns)),m(1),p("ngIf",i.frozenValue||i.frozenBodyTemplate),m(1),Tt(e.contentStyle),p("ngClass",e.contentStyleClass)("value",i.dataToRender(e.rows))("pTableBody",e.columns)("pTableBodyTemplate",i.bodyTemplate)("scrollerOptions",e),m(1),p("ngIf",e.spacerStyle),m(1),p("ngIf",i.footerGroupedTemplate||i.footerTemplate)}}function tbe(n,t){if(1&n){const e=N();_(0,"p-paginator",35),S("onPageChange",function(r){return C(e),I(f().onPageChange(r))}),y()}if(2&n){const e=f();p("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function nbe(n,t){1&n&&$(0)}function ibe(n,t){if(1&n&&(_(0,"div",36),v(1,nbe,1,0,"ng-container",17),y()),2&n){const e=f();m(1),p("ngTemplateOutlet",e.summaryTemplate)}}function rbe(n,t){1&n&&j(0,"div",37,38)}function sbe(n,t){1&n&&j(0,"span",39,40)}function obe(n,t){1&n&&j(0,"span",41,42)}const abe=function(n,t,e){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":n,"p-datatable-scrollable":t,"p-datatable-flex-scrollable":e}},lbe=function(n){return{maxHeight:n}},cbe=["pTableBody",""];function ube(n,t){1&n&&$(0)}const Gx=function(n,t,e,i,r){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r}};function dbe(n,t){if(1&n&&(ae(0,3),v(1,ube,1,0,"ng-container",4),le()),2&n){const e=f(),i=e.$implicit,r=e.index,s=f(2);m(1),p("ngTemplateOutlet",s.dt.groupHeaderTemplate)("ngTemplateOutletContext",kd(2,Gx,i,s.getRowIndex(r),s.columns,"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function hbe(n,t){1&n&&$(0)}function pbe(n,t){if(1&n&&(ae(0),v(1,hbe,1,0,"ng-container",4),le()),2&n){const e=f(),i=e.$implicit,r=e.index,s=f(2);m(1),p("ngTemplateOutlet",i?s.template:s.dt.loadingBodyTemplate)("ngTemplateOutletContext",kd(2,Gx,i,s.getRowIndex(r),s.columns,"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function fbe(n,t){1&n&&$(0)}const mbe=function(n,t,e,i,r,s,o){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r,rowgroup:s,rowspan:o}};function gbe(n,t){if(1&n&&(ae(0),v(1,fbe,1,0,"ng-container",4),le()),2&n){const e=f(),i=e.$implicit,r=e.index,s=f(2);m(1),p("ngTemplateOutlet",i?s.template:s.dt.loadingBodyTemplate)("ngTemplateOutletContext",function IP(n,t,e,i,r,s,o,a,l,c){const u=wi()+n,d=H();let h=hr(d,u,e,i,r,s);return pm(d,u+4,o,a,l)||h?ts(d,u+7,c?t.call(c,e,i,r,s,o,a,l):t(e,i,r,s,o,a,l)):Cd(d,u+7)}(2,mbe,i,s.getRowIndex(r),s.columns,"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen,s.shouldRenderRowspan(s.value,i,r),s.calculateRowGroupSize(s.value,i,r)))}}function _be(n,t){1&n&&$(0)}function ybe(n,t){if(1&n&&(ae(0,3),v(1,_be,1,0,"ng-container",4),le()),2&n){const e=f(),i=e.$implicit,r=e.index,s=f(2);m(1),p("ngTemplateOutlet",s.dt.groupFooterTemplate)("ngTemplateOutletContext",kd(2,Gx,i,s.getRowIndex(r),s.columns,"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function vbe(n,t){if(1&n&&(v(0,dbe,2,8,"ng-container",2),v(1,pbe,2,8,"ng-container",0),v(2,gbe,2,10,"ng-container",0),v(3,ybe,2,8,"ng-container",2)),2&n){const e=t.$implicit,i=t.index,r=f(2);p("ngIf",r.dt.groupHeaderTemplate&&!r.dt.virtualScroll&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,i)),m(1),p("ngIf","rowspan"!==r.dt.rowGroupMode),m(1),p("ngIf","rowspan"===r.dt.rowGroupMode),m(1),p("ngIf",r.dt.groupFooterTemplate&&!r.dt.virtualScroll&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupFooter(r.value,e,i))}}function bbe(n,t){if(1&n&&(ae(0),v(1,vbe,4,4,"ng-template",1),le()),2&n){const e=f();m(1),p("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function wbe(n,t){1&n&&$(0)}const Vy=function(n,t,e,i,r,s){return{$implicit:n,rowIndex:t,columns:e,expanded:i,editing:r,frozen:s}};function Cbe(n,t){if(1&n&&(ae(0),v(1,wbe,1,0,"ng-container",4),le()),2&n){const e=f(),i=e.$implicit,r=e.index,s=f(2);m(1),p("ngTemplateOutlet",s.template)("ngTemplateOutletContext",fc(2,Vy,i,s.getRowIndex(r),s.columns,s.dt.isRowExpanded(i),"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function Ibe(n,t){1&n&&$(0)}function Tbe(n,t){if(1&n&&(ae(0,3),v(1,Ibe,1,0,"ng-container",4),le()),2&n){const e=f(),i=e.$implicit,r=e.index,s=f(2);m(1),p("ngTemplateOutlet",s.dt.groupHeaderTemplate)("ngTemplateOutletContext",fc(2,Vy,i,s.getRowIndex(r),s.columns,s.dt.isRowExpanded(i),"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function Ebe(n,t){1&n&&$(0)}function Sbe(n,t){1&n&&$(0)}function xbe(n,t){if(1&n&&(ae(0,3),v(1,Sbe,1,0,"ng-container",4),le()),2&n){const e=f(2),i=e.$implicit,r=e.index,s=f(2);m(1),p("ngTemplateOutlet",s.dt.groupFooterTemplate)("ngTemplateOutletContext",fc(2,Vy,i,s.getRowIndex(r),s.columns,s.dt.isRowExpanded(i),"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}const p5=function(n,t,e,i){return{$implicit:n,rowIndex:t,columns:e,frozen:i}};function Dbe(n,t){if(1&n&&(ae(0),v(1,Ebe,1,0,"ng-container",4),v(2,xbe,2,9,"ng-container",2),le()),2&n){const e=f(),i=e.$implicit,r=e.index,s=f(2);m(1),p("ngTemplateOutlet",s.dt.expandedRowTemplate)("ngTemplateOutletContext",Ji(3,p5,i,s.getRowIndex(r),s.columns,s.frozen)),m(1),p("ngIf",s.dt.groupFooterTemplate&&"subheader"===s.dt.rowGroupMode&&s.shouldRenderRowGroupFooter(s.value,i,s.getRowIndex(r)))}}function Abe(n,t){if(1&n&&(v(0,Cbe,2,9,"ng-container",0),v(1,Tbe,2,9,"ng-container",2),v(2,Dbe,3,8,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=f(2);p("ngIf",!r.dt.groupHeaderTemplate),m(1),p("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,r.getRowIndex(i))),m(1),p("ngIf",r.dt.isRowExpanded(e))}}function kbe(n,t){if(1&n&&(ae(0),v(1,Abe,3,3,"ng-template",1),le()),2&n){const e=f();m(1),p("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function Mbe(n,t){1&n&&$(0)}function Rbe(n,t){1&n&&$(0)}function Pbe(n,t){if(1&n&&(ae(0),v(1,Rbe,1,0,"ng-container",4),le()),2&n){const e=f(),i=e.$implicit,r=e.index,s=f(2);m(1),p("ngTemplateOutlet",s.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",Ji(2,p5,i,s.getRowIndex(r),s.columns,s.frozen))}}function Obe(n,t){if(1&n&&(v(0,Mbe,1,0,"ng-container",4),v(1,Pbe,2,7,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=f(2);p("ngTemplateOutlet",r.template)("ngTemplateOutletContext",fc(3,Vy,e,r.getRowIndex(i),r.columns,r.dt.isRowExpanded(e),"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen)),m(1),p("ngIf",r.dt.isRowExpanded(e))}}function Fbe(n,t){if(1&n&&(ae(0),v(1,Obe,2,10,"ng-template",1),le()),2&n){const e=f();m(1),p("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function Lbe(n,t){1&n&&$(0)}const f5=function(n,t){return{$implicit:n,frozen:t}};function Nbe(n,t){if(1&n&&(ae(0),v(1,Lbe,1,0,"ng-container",4),le()),2&n){const e=f();m(1),p("ngTemplateOutlet",e.dt.loadingBodyTemplate)("ngTemplateOutletContext",ye(2,f5,e.columns,e.frozen))}}function Vbe(n,t){1&n&&$(0)}function Bbe(n,t){if(1&n&&(ae(0),v(1,Vbe,1,0,"ng-container",4),le()),2&n){const e=f();m(1),p("ngTemplateOutlet",e.dt.emptyMessageTemplate)("ngTemplateOutletContext",ye(2,f5,e.columns,e.frozen))}}function Ube(n,t){if(1&n&&(_(0,"span",2),L(1),y()),2&n){const e=f();m(1),se(e.getBadgeValue())}}const Hbe=function(n,t,e){return{"pi-sort-amount-up-alt":n,"pi-sort-amount-down":t,"pi-sort-alt":e}},m5=function(n,t){return{"p-checkbox-focused":n,"p-checkbox-disabled":t}},jbe=function(n,t,e){return{"p-checkbox-box p-component":!0,"p-highlight":n,"p-focus":t,"p-disabled":e}},g5=function(n){return{"pi pi-check":n}},Gbe=function(n,t,e){return{"p-checkbox-box":!0,"p-highlight":n,"p-focus":t,"p-disabled":e}};let af=(()=>{class n{constructor(){this.sortSource=new Lt,this.selectionSource=new Lt,this.contextMenuSource=new Lt,this.valueSource=new Lt,this.totalRecordsSource=new Lt,this.columnsSource=new Lt,this.resetSource=new Lt,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),Tl=(()=>{class n{constructor(e,i,r,s,o,a){this.el=e,this.zone=i,this.tableService=r,this.cd=s,this.filterService=o,this.overlayService=a,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new R,this.selectionChange=new R,this.contextMenuSelectionChange=new R,this.contextMenuSelectionMode="separate",this.rowTrackBy=(l,c)=>c,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="scroll",this.breakpoint="960px",this.onRowSelect=new R,this.onRowUnselect=new R,this.onPage=new R,this.onSort=new R,this.onFilter=new R,this.onLazyLoad=new R,this.onRowExpand=new R,this.onRowCollapse=new R,this.onContextMenuSelect=new R,this.onColResize=new R,this.onColReorder=new R,this.onRowReorder=new R,this.onEditInit=new R,this.onEditComplete=new R,this.onEditCancel=new R,this.onHeaderCheckboxToggle=new R,this.sortFunction=new R,this.firstChange=new R,this.rowsChange=new R,this.onStateSave=new R,this.onStateRestore=new R,this._virtualRowHeight=28,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=Ba()}get responsive(){return this._responsive}set responsive(e){this._responsive=e,console.warn("responsive propery is deprecated as table is always responsive with scrollable behavior.")}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.warn("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"rowexpansion":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"rowspan":this.rowspanTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenrows":this.frozenRowsTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(e){e.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue)),e.columns&&(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),e.selectAll&&(this._selectAll=e.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get selectAll(){return this._selection}set selectAll(e){this._selection=e}get processedData(){return this.filteredValue||this.value||[]}dataToRender(e){const i=e||this.processedData;if(i&&this.paginator){const r=this.lazy?0:this.first;return i.slice(r,r+this.rows)}return i}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(G.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(G.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let i=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let r=i.metaKey||i.ctrlKey,s=this.getSortMeta(e.field);s?r?s.order=-1*s.order:(this._multiSortMeta=[{field:e.field,order:-1*s.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let e=this.sortField||this.groupRowsBy,i=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(e&&i){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:e,order:i}):(this.value.sort((s,o)=>{let a=G.resolveFieldData(s,e),l=G.resolveFieldData(o,e),c=null;return c=null==a&&null!=l?-1:null!=a&&null==l?1:null==a&&null==l?0:"string"==typeof a&&"string"==typeof l?a.localeCompare(l):a<l?-1:a>l?1:0,i*c}),this._value=[...this.value]),this.hasFilter()&&this._filter());let r={field:e,order:i};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,i)=>this.multisortField(e,i,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,i,r,s){const o=G.resolveFieldData(e,r[s].field),a=G.resolveFieldData(i,r[s].field);return 0===G.compare(o,a,this.filterLocale)?r.length-1>s?this.multisortField(e,i,r,s+1):0:this.compareValuesOnSort(o,a,r[s].order)}compareValuesOnSort(e,i,r){return G.sort(e,i,r,this.filterLocale,this.sortOrder)}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===e)return this.multiSortMeta[i];return null}isSorted(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){let i=!1;if(this.multiSortMeta)for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==e){i=!0;break}return i}}handleRowClick(e){let i=e.originalEvent.target,r=i.nodeName,s=i.parentElement&&i.parentElement.nodeName;if("INPUT"!=r&&"BUTTON"!=r&&"A"!=r&&"INPUT"!=s&&"BUTTON"!=s&&"A"!=s&&!k.hasClass(e.originalEvent.target,"p-clickable")){if(this.selectionMode){let o=e.rowData,a=e.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&null!=this.anchorRowIndex)k.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=a,this.selectRange(e.originalEvent,a);else{let l=this.isSelected(o);if(!l&&!this.isRowSelectable(o,a))return;let c=!this.rowTouched&&this.metaKeySelection,u=this.dataKey?String(G.resolveFieldData(o,this.dataKey)):null;if(this.anchorRowIndex=a,this.rangeRowIndex=a,c){let d=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(l&&d){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let h=this.findIndexInSelection(o);this._selection=this.selection.filter((g,b)=>b!=h),this.selectionChange.emit(this.selection),u&&delete this.selectionKeys[u]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:o,type:"row"})}else this.isSingleSelectionMode()?(this._selection=o,this.selectionChange.emit(o),u&&(this.selectionKeys={},this.selectionKeys[u]=1)):this.isMultipleSelectionMode()&&(d?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,o],this.selectionChange.emit(this.selection),u&&(this.selectionKeys[u]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:o,type:"row",index:a})}else if("single"===this.selectionMode)l?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:o,type:"row",index:a})):(this._selection=o,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:o,type:"row",index:a}),u&&(this.selectionKeys={},this.selectionKeys[u]=1));else if("multiple"===this.selectionMode)if(l){let d=this.findIndexInSelection(o);this._selection=this.selection.filter((h,g)=>g!=d),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:o,type:"row",index:a}),u&&delete this.selectionKeys[u]}else this._selection=this.selection?[...this.selection,o]:[o],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:o,type:"row",index:a}),u&&(this.selectionKeys[u]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){const i=e.rowData,r=e.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:i,index:e.rowIndex}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(i);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let s=this.isSelected(i),o=this.dataKey?String(G.resolveFieldData(i,this.dataKey)):null;if(!s){if(!this.isRowSelectable(i,r))return;this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i),o&&(this.selectionKeys={},this.selectionKeys[o]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),o&&(this.selectionKeys[o]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:i,index:e.rowIndex})}}}selectRange(e,i){let r,s;this.anchorRowIndex>i?(r=i,s=this.anchorRowIndex):this.anchorRowIndex<i?(r=this.anchorRowIndex,s=i):(r=i,s=i),this.lazy&&this.paginator&&(r-=this.first,s-=this.first);let o=[];for(let a=r;a<=s;a++){let l=this.filteredValue?this.filteredValue[a]:this.value[a];if(!this.isSelected(l)){if(!this.isRowSelectable(l,i))continue;o.push(l),this._selection=[...this.selection,l];let c=this.dataKey?String(G.resolveFieldData(l,this.dataKey)):null;c&&(this.selectionKeys[c]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:o,type:"row"})}clearSelectionRange(e){let i,r;this.rangeRowIndex>this.anchorRowIndex?(i=this.anchorRowIndex,r=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(i=this.rangeRowIndex,r=this.anchorRowIndex):(i=this.rangeRowIndex,r=this.rangeRowIndex);for(let s=i;s<=r;s++){let o=this.value[s],a=this.findIndexInSelection(o);this._selection=this.selection.filter((c,u)=>u!=a);let l=this.dataKey?String(G.resolveFieldData(o,this.dataKey)):null;l&&delete this.selectionKeys[l],this.onRowUnselect.emit({originalEvent:e,data:o,type:"row"})}}isSelected(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[G.resolveFieldData(e,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))}findIndexInSelection(e){let i=-1;if(this.selection&&this.selection.length)for(let r=0;r<this.selection.length;r++)if(this.equals(e,this.selection[r])){i=r;break}return i}isRowSelectable(e,i){return!(this.rowSelectable&&!this.rowSelectable({data:e,index:i}))}toggleRowWithRadio(e,i){if(this.preventSelectionSetterPropagation=!0,this.selection!=i){if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=i,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(G.resolveFieldData(i,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,i){this.selection=this.selection||[];let r=this.isSelected(i),s=this.dataKey?String(G.resolveFieldData(i,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let o=this.findIndexInSelection(i);this._selection=this.selection.filter((a,l)=>l!=o),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),s&&delete this.selectionKeys[s]}else{if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),s&&(this.selectionKeys[s]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(e,i){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:e,checked:i});else{const r=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData;let s=this.selectionPageOnly&&this._selection?this._selection.filter(o=>!r.some(a=>this.equals(o,a))):[];i&&(s=this.frozenValue?[...s,...this.frozenValue,...r]:[...s,...r],s=this.rowSelectable?s.filter((o,a)=>this.rowSelectable({data:o,index:a})):s),this._selection=s,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:i}),this.isStateful()&&this.saveState()}}equals(e,i){return"equals"===this.compareSelectionBy?e===i:G.equals(e,i,this.dataKey)}filter(e,i,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:e,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,i){this.filter(e,"global",i)}isFilterBlank(e){return null==e||"string"==typeof e&&0==e.trim().length||e instanceof Array&&0==e.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let i=0;i<this.value.length;i++){let a,r=!0,s=!1,o=!1;for(let l in this.filters)if(this.filters.hasOwnProperty(l)&&"global"!==l){o=!0;let c=l,u=this.filters[c];if(Array.isArray(u)){for(let d of u)if(r=this.executeLocalFilter(c,this.value[i],d),d.operator===WF.OR&&r||d.operator===WF.AND&&!r)break}else r=this.executeLocalFilter(c,this.value[i],u);if(!r)break}if(this.filters.global&&!s&&e)for(let l=0;l<e.length&&(s=this.filterService.filters[this.filters.global.matchMode](G.resolveFieldData(this.value[i],e[l].field||e[l]),this.filters.global.value,this.filterLocale),!s);l++);a=this.filters.global?o?o&&r&&s:s:o&&r,a&&this.filteredValue.push(this.value[i])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,i,r){let s=r.value,o=r.matchMode||Qn.STARTS_WITH,a=G.resolveFieldData(i,e);return(0,this.filterService.filters[o])(a,s,this.filterLocale)}hasFilter(){let e=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}getExportHeader(e){return e[this.exportHeader]||e.header||e.field}exportCSV(e){let i,r="",s=this.columns;e&&e.selectionOnly?i=this.selection||[]:(i=this.filteredValue||this.value,this.frozenValue&&(i=i?[...this.frozenValue,...i]:this.frozenValue));for(let l=0;l<s.length;l++){let c=s[l];!1!==c.exportable&&c.field&&(r+='"'+this.getExportHeader(c)+'"',l<s.length-1&&(r+=this.csvSeparator))}i.forEach((l,c)=>{r+="\n";for(let u=0;u<s.length;u++){let d=s[u];if(!1!==d.exportable&&d.field){let h=G.resolveFieldData(l,d.field);h=null!=h?this.exportFunction?this.exportFunction({data:h,field:d.field}):String(h).replace(/"/g,'""'):"",r+='"'+h+'"',u<s.length-1&&(r+=this.csvSeparator)}}});let o=new Blob([r],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.style.display="none",document.body.appendChild(a),void 0!==a.download?(a.setAttribute("href",URL.createObjectURL(o)),a.setAttribute("download",this.exportFilename+".csv"),a.click()):(r="data:text/csv;charset=utf-8,"+r,window.open(encodeURI(r))),document.body.removeChild(a)}onLazyItemLoad(e){this.onLazyLoad.emit({...this.createLazyLoadMetadata(),...e,rows:e.last-e.first})}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.virtualScroll&&this.scroller.scrollToIndex(e)}scrollTo(e){this.virtualScroll?this.scroller.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}updateEditingCell(e,i,r,s){this.editingCell=e,this.editingCellData=i,this.editingCellField=r,this.editingCellRowIndex=s,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===k.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(k.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(e){let i=String(G.resolveFieldData(e,this.dataKey));this.editingRowKeys[i]=!0}saveRowEdit(e,i){if(0===k.find(i,".ng-invalid.ng-dirty").length){let r=String(G.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(e){let i=String(G.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[i]}toggleRow(e,i){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let r=String(G.resolveFieldData(e,this.dataKey));null!=this.expandedRowKeys[r]?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:i,data:e})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:i,data:e})),i&&i.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return!0===this.expandedRowKeys[String(G.resolveFieldData(e,this.dataKey))]}isRowEditing(e){return!0===this.editingRowKeys[String(G.resolveFieldData(e,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(e){let i=k.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let i=k.getOffset(this.containerViewChild.nativeElement).left;k.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+e;if(r>=(this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,"")||15)){if("fit"===this.columnResizeMode){let a=this.resizeColumnElement.nextElementSibling.offsetWidth-e;r>15&&a>15&&this.resizeTableCells(r,a)}else"expand"===this.columnResizeMode&&(this.setResizeTableWidth(this.tableViewChild.nativeElement.offsetWidth+e+"px"),this.resizeTableCells(r,null));this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",k.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(e,i){let r=k.index(this.resizeColumnElement),s=[];const o=k.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");k.find(o,"tr > th").forEach(c=>s.push(k.getOuterWidth(c))),this.destroyStyleElement(),this.createStyleElement();let l="";s.forEach((c,u)=>{let d=u===r?e:i&&u===r+1?i:c;l+=`\n                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${u+1}),\n                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${u+1}),\n                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${u+1}) {\n                    width: ${d}px !important; max-width: ${d}px !important;\n                }\n            `}),this.styleElement.innerHTML=l}onColumnDragStart(e,i){this.reorderIconWidth=k.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=k.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=i,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,i){if(this.reorderableColumns&&this.draggedColumn&&i){e.preventDefault();let r=k.getOffset(this.containerViewChild.nativeElement),s=k.getOffset(i);if(this.draggedColumn!=i){let o=s.left-r.left,a=s.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=s.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=s.top-r.top+i.offsetHeight+"px",e.pageX>a?(this.reorderIndicatorUpViewChild.nativeElement.style.left=o+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=o+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=o-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=o-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&e.preventDefault()}onColumnDrop(e,i){if(e.preventDefault(),this.draggedColumn){let r=k.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),s=k.indexWithinGroup(i,"preorderablecolumn"),o=r!=s;o&&(s-r==1&&-1===this.dropPosition||r-s==1&&1===this.dropPosition)&&(o=!1),o&&s<r&&1===this.dropPosition&&(s+=1),o&&s>r&&-1===this.dropPosition&&(s-=1),o&&(G.reorderArray(this.columns,r,s),this.onColReorder.emit({dragIndex:r,dropIndex:s,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(e,i){this.rowDragging=!0,this.draggedRowIndex=i,e.dataTransfer.setData("text","b")}onRowDragOver(e,i,r){if(this.rowDragging&&this.draggedRowIndex!==i){let s=k.getOffset(r).top+k.getWindowScrollTop(),o=e.pageY,a=s+k.getOuterHeight(r)/2,l=r.previousElementSibling;o<a?(k.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=i,l?k.addClass(l,"p-datatable-dragpoint-bottom"):k.addClass(r,"p-datatable-dragpoint-top")):(l?k.removeClass(l,"p-datatable-dragpoint-bottom"):k.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=i+1,k.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,i){let r=i.previousElementSibling;r&&k.removeClass(r,"p-datatable-dragpoint-bottom"),k.removeClass(i,"p-datatable-dragpoint-bottom"),k.removeClass(i,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,i){if(null!=this.droppedRowIndex){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;G.reorderArray(this.value,this.draggedRowIndex,r),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(e,i),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const e=this.getStorage();let i={};this.paginator&&(i.first=this.first,i.rows=this.rows),this.sortField&&(i.sortField=this.sortField,i.sortOrder=this.sortOrder),this.multiSortMeta&&(i.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&this.saveColumnOrder(i),this.selection&&(i.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(i.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(i)),this.onStateSave.emit(i)}clearState(){const e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){const i=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(i){let o=JSON.parse(i,function(o,a){return"string"==typeof a&&r.test(a)?new Date(a):a});this.paginator&&(void 0!==this.first&&(this.first=o.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=o.rows,this.rowsChange.emit(this.rows))),o.sortField&&(this.restoringSort=!0,this._sortField=o.sortField,this._sortOrder=o.sortOrder),o.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=o.multiSortMeta),o.filters&&(this.restoringFilter=!0,this.filters=o.filters),this.resizableColumns&&(this.columnWidthsState=o.columnWidths,this.tableWidthState=o.tableWidth),o.expandedRowKeys&&(this.expandedRowKeys=o.expandedRowKeys),o.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(o.selection)),this.stateRestored=!0,this.onStateRestore.emit(o)}}saveColumnWidths(e){let i=[];k.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(s=>i.push(k.getOuterWidth(s))),e.columnWidths=i.join(","),"expand"===this.columnResizeMode&&(e.tableWidth=k.getOuterWidth(this.tableViewChild.nativeElement)+"px")}setResizeTableWidth(e){this.tableViewChild.nativeElement.style.width=e,this.tableViewChild.nativeElement.style.minWidth=e}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),G.isNotEmpty(e)){this.createStyleElement();let i="";e.forEach((r,s)=>{i+=`\n                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${s+1}),\n                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${s+1}),\n                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${s+1}) {\n                            width: ${r}px !important; max-width: ${r}px !important\n                        }\n                    `}),this.styleElement.innerHTML=i}}}saveColumnOrder(e){if(this.columns){let i=[];this.columns.map(r=>{i.push(r.field||r.key)}),e.columnOrder=i}}restoreColumnOrder(){const i=this.getStorage().getItem(this.stateKey);if(i){let s=JSON.parse(i).columnOrder;if(s){let o=[];s.map(a=>{let l=this.findColumnByKey(a);l&&o.push(l)}),this.columnOrderStateRestored=!0,this.columns=o}}}findColumnByKey(e){if(!this.columns)return null;for(let i of this.columns)if(i.key===e||i.field===e)return i}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id}-table > .p-datatable-thead > tr > th,\n    #${this.id}-table > .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(st),x(af),x(tt),x(rC),x(Ua))},n.\u0275cmp=Ae({type:n,selectors:[["p-table"]],contentQueries:function(e,i,r){if(1&e&&dt(r,gt,4),2&e){let s;Q(s=Y())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(ge(xve,5),ge(Dve,5),ge(Ave,5),ge(kve,5),ge(Mve,5),ge(Rve,5),ge(Pve,5),ge(Ove,5),ge(Fve,5)),2&e){let r;Q(r=Y())&&(i.containerViewChild=r.first),Q(r=Y())&&(i.resizeHelperViewChild=r.first),Q(r=Y())&&(i.reorderIndicatorUpViewChild=r.first),Q(r=Y())&&(i.reorderIndicatorDownViewChild=r.first),Q(r=Y())&&(i.wrapperViewChild=r.first),Q(r=Y())&&(i.tableViewChild=r.first),Q(r=Y())&&(i.tableHeaderViewChild=r.first),Q(r=Y())&&(i.tableFooterViewChild=r.first),Q(r=Y())&&(i.scroller=r.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:"virtualScrollDelay",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",virtualRowHeight:"virtualRowHeight",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[Ue([af]),Ln],decls:16,vars:22,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInTable",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display: none;",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display: none;",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[3,"items","columns","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize","onLazyLoad"],["scroller",""],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"ngClass"],["table",""],[1,"p-datatable-thead"],["thead",""],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"ngClass","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["class","p-datatable-scroller-spacer",3,"style",4,"ngIf"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-scroller-spacer"],[1,"p-datatable-tfoot"],["tfoot",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(e,i){1&e&&(_(0,"div",0,1),v(2,Lve,2,2,"div",2),v(3,Vve,2,1,"div",3),v(4,Bve,1,17,"p-paginator",4),_(5,"div",5,6),v(7,$ve,3,17,"p-scroller",7),v(8,qve,2,7,"ng-container",8),v(9,ebe,10,28,"ng-template",null,9,ln),y(),v(11,tbe,1,17,"p-paginator",10),v(12,ibe,2,1,"div",11),v(13,rbe,2,0,"div",12),v(14,sbe,2,0,"span",13),v(15,obe,2,0,"span",14),y()),2&e&&(ce(i.styleClass),p("ngStyle",i.style)("ngClass",an(16,abe,i.rowHover||i.selectionMode,i.scrollable,i.scrollable&&"flex"===i.scrollHeight)),ie("id",i.id),m(2),p("ngIf",i.loading&&i.showLoader),m(1),p("ngIf",i.captionTemplate),m(1),p("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),m(1),p("ngStyle",B(20,lbe,i.virtualScroll?"":i.scrollHeight)),m(2),p("ngIf",i.virtualScroll),m(1),p("ngIf",!i.virtualScroll),m(3),p("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),m(1),p("ngIf",i.summaryTemplate),m(1),p("ngIf",i.resizableColumns),m(1),p("ngIf",i.reorderableColumns),m(1),p("ngIf",i.reorderableColumns))},dependencies:function(){return[Ze,qe,St,at,cve,gt,Ly,fwe]},styles:[".p-datatable{position:relative}.p-datatable>.p-datatable-wrapper{overflow:auto}.p-datatable-table{border-spacing:0px;width:100%}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable>.p-datatable-wrapper{position:relative}.p-datatable-scrollable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable>.p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable-table>.p-datatable-tbody>.p-rowgroup-header{position:sticky;z-index:1}.p-datatable-resizable-table>.p-datatable-thead>tr>th,.p-datatable-resizable-table>.p-datatable-tfoot>tr>td,.p-datatable-resizable-table>.p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable-table>.p-datatable-thead>tr>th.p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-table-fit>.p-datatable-thead>tr>th.p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable-scroller-spacer{display:flex}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}\n"],encapsulation:2}),n})(),fwe=(()=>{class n{constructor(e,i,r,s){this.dt=e,this.tableService=i,this.cd=r,this.el=s,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(e,i,r){let s=G.resolveFieldData(i,this.dt.groupRowsBy),o=e[r-1];return!o||s!==G.resolveFieldData(o,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(e,i,r){let s=G.resolveFieldData(i,this.dt.groupRowsBy),o=e[r+1];return!o||s!==G.resolveFieldData(o,this.dt.groupRowsBy)}shouldRenderRowspan(e,i,r){let s=G.resolveFieldData(i,this.dt.groupRowsBy),o=e[r-1];return!o||s!==G.resolveFieldData(o,this.dt.groupRowsBy)}calculateRowGroupSize(e,i,r){let s=G.resolveFieldData(i,this.dt.groupRowsBy),o=s,a=0;for(;s===o;){a++;let l=e[++r];if(!l)break;o=G.resolveFieldData(l,this.dt.groupRowsBy)}return 1===a?null:a}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=k.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=k.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=e+"px"}}getScrollerOption(e,i){return this.dt.virtualScroll&&(i=i||this.scrollerOptions)?i[e]:null}getRowIndex(e){const i=this.dt.paginator?this.dt.first+e:e,r=this.getScrollerOption("getItemOptions");return r?r(i).index:i}}return n.\u0275fac=function(e){return new(e||n)(x(Tl),x(af),x(tt),x(ze))},n.\u0275cmp=Ae({type:n,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows",scrollerOptions:"scrollerOptions"},attrs:cbe,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(v(0,bbe,2,2,"ng-container",0),v(1,kbe,2,2,"ng-container",0),v(2,Fbe,2,2,"ng-container",0),v(3,Nbe,2,5,"ng-container",0),v(4,Bbe,2,5,"ng-container",0)),2&e&&(p("ngIf",!i.dt.expandedRowTemplate),m(1),p("ngIf",i.dt.expandedRowTemplate&&!(i.frozen&&i.dt.frozenExpandedRowTemplate)),m(1),p("ngIf",i.dt.frozenExpandedRowTemplate&&i.frozen),m(1),p("ngIf",i.dt.loading),m(1),p("ngIf",i.dt.isEmpty()&&!i.dt.loading))},dependencies:[qn,qe,St],encapsulation:2}),n})(),mwe=(()=>{class n{constructor(e){this.dt=e,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(i=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.dt.isSorted(this.field),this.sortOrder=this.sorted?1===this.dt.sortOrder?"ascending":"descending":"none"}onClick(e){this.isEnabled()&&!this.isFilterElement(e.target)&&(this.updateSortState(),this.dt.sort({originalEvent:e,field:this.field}),k.clearSelection())}onEnterKey(e){this.onClick(e)}isEnabled(){return!0!==this.pSortableColumnDisabled}isFilterElement(e){return k.hasClass(e,"pi-filter-icon")||k.hasClass(e,"p-column-filter-menu-button")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(x(Tl))},n.\u0275dir=_e({type:n,selectors:[["","pSortableColumn",""]],hostAttrs:[1,"p-element"],hostVars:7,hostBindings:function(e,i){1&e&&S("click",function(s){return i.onClick(s)})("keydown.enter",function(s){return i.onEnterKey(s)}),2&e&&(ie("tabindex",i.isEnabled()?"0":null)("role","columnheader")("aria-sort",i.sortOrder),ai("p-sortable-column",i.isEnabled())("p-highlight",i.sorted))},inputs:{field:["pSortableColumn","field"],pSortableColumnDisabled:"pSortableColumnDisabled"}}),n})(),gwe=(()=>{class n{constructor(e,i){this.dt=e,this.cd=i,this.subscription=this.dt.tableService.sortSource$.subscribe(r=>{this.updateSortState()})}ngOnInit(){this.updateSortState()}onClick(e){e.preventDefault()}updateSortState(){if("single"===this.dt.sortMode)this.sortOrder=this.dt.isSorted(this.field)?this.dt.sortOrder:0;else if("multiple"===this.dt.sortMode){let e=this.dt.getSortMeta(this.field);this.sortOrder=e?e.order:0}this.cd.markForCheck()}getMultiSortMetaIndex(){let e=this.dt._multiSortMeta,i=-1;if(e&&"multiple"===this.dt.sortMode&&(this.dt.showInitialSortBadge||e.length>1))for(let r=0;r<e.length;r++){let s=e[r];if(s.field===this.field||s.field===this.field){i=r;break}}return i}getBadgeValue(){let e=this.getMultiSortMetaIndex();return this.dt.groupRowsBy&&e>-1?e:e+1}isMultiSorted(){return"multiple"===this.dt.sortMode&&this.getMultiSortMetaIndex()>-1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(x(Tl),x(tt))},n.\u0275cmp=Ae({type:n,selectors:[["p-sortIcon"]],hostAttrs:[1,"p-element"],inputs:{field:"field"},decls:2,vars:6,consts:[[1,"p-sortable-column-icon","pi","pi-fw",3,"ngClass"],["class","p-sortable-column-badge",4,"ngIf"],[1,"p-sortable-column-badge"]],template:function(e,i){1&e&&(j(0,"i",0),v(1,Ube,2,1,"span",1)),2&e&&(p("ngClass",an(2,Hbe,1===i.sortOrder,-1===i.sortOrder,0===i.sortOrder)),m(1),p("ngIf",i.isMultiSorted()))},dependencies:[Ze,qe],encapsulation:2,changeDetection:0}),n})(),_we=(()=>{class n{constructor(e,i,r){this.dt=e,this.tableService=i,this.cd=r,this.subscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.checked=this.dt.isSelected(this.value),this.cd.markForCheck()})}ngOnInit(){this.checked=this.dt.isSelected(this.value)}onClick(e){this.disabled||this.dt.toggleRowWithCheckbox({originalEvent:e,rowIndex:this.index},this.value),k.clearSelection()}onFocus(){this.focused=!0}onBlur(){this.focused=!1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(x(Tl),x(af),x(tt))},n.\u0275cmp=Ae({type:n,selectors:[["p-tableCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",value:"value",index:"index",inputId:"inputId",name:"name",required:"required",ariaLabel:"ariaLabel"},decls:6,vars:19,consts:[[1,"p-checkbox","p-component",3,"ngClass","click"],[1,"p-hidden-accessible"],["type","checkbox",3,"checked","disabled","focus","blur"],["role","checkbox",3,"ngClass"],["box",""],[1,"p-checkbox-icon",3,"ngClass"]],template:function(e,i){1&e&&(_(0,"div",0),S("click",function(s){return i.onClick(s)}),_(1,"div",1)(2,"input",2),S("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),y()(),_(3,"div",3,4),j(5,"span",5),y()()),2&e&&(p("ngClass",ye(10,m5,i.focused,i.disabled)),m(2),p("checked",i.checked)("disabled",i.disabled),ie("id",i.inputId)("name",i.name)("required",i.required)("aria-label",i.ariaLabel),m(1),p("ngClass",an(13,jbe,i.checked,i.focused,i.disabled)),ie("aria-checked",i.checked),m(2),p("ngClass",B(17,g5,i.checked)))},dependencies:[Ze],encapsulation:2,changeDetection:0}),n})(),ywe=(()=>{class n{constructor(e,i,r){this.dt=e,this.tableService=i,this.cd=r,this.valueChangeSubscription=this.dt.tableService.valueSource$.subscribe(()=>{this.checked=this.updateCheckedState()}),this.selectionChangeSubscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.checked=this.updateCheckedState()})}ngOnInit(){this.checked=this.updateCheckedState()}onClick(e){this.disabled||this.dt.value&&this.dt.value.length>0&&this.dt.toggleRowsWithCheckbox(e,!this.checked),k.clearSelection()}onFocus(){this.focused=!0}onBlur(){this.focused=!1}isDisabled(){return this.disabled||!this.dt.value||!this.dt.value.length}ngOnDestroy(){this.selectionChangeSubscription&&this.selectionChangeSubscription.unsubscribe(),this.valueChangeSubscription&&this.valueChangeSubscription.unsubscribe()}updateCheckedState(){if(this.cd.markForCheck(),null!==this.dt._selectAll)return this.dt._selectAll;{const e=this.dt.selectionPageOnly?this.dt.dataToRender(this.dt.processedData):this.dt.processedData,i=this.dt.frozenValue?[...this.dt.frozenValue,...e]:e,r=this.dt.rowSelectable?i.filter((s,o)=>this.dt.rowSelectable({data:s,index:o})):i;return G.isNotEmpty(r)&&G.isNotEmpty(this.dt.selection)&&r.every(s=>this.dt.selection.some(o=>this.dt.equals(s,o)))}}}return n.\u0275fac=function(e){return new(e||n)(x(Tl),x(af),x(tt))},n.\u0275cmp=Ae({type:n,selectors:[["p-tableHeaderCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",inputId:"inputId",name:"name",ariaLabel:"ariaLabel"},decls:7,vars:18,consts:[[1,"p-checkbox","p-component",3,"ngClass","click"],[1,"p-hidden-accessible"],["type","checkbox",3,"checked","disabled","focus","blur"],["cb",""],["role","checkbox",3,"ngClass"],["box",""],[1,"p-checkbox-icon",3,"ngClass"]],template:function(e,i){1&e&&(_(0,"div",0),S("click",function(s){return i.onClick(s)}),_(1,"div",1)(2,"input",2,3),S("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),y()(),_(4,"div",4,5),j(6,"span",6),y()()),2&e&&(p("ngClass",ye(9,m5,i.focused,i.isDisabled())),m(2),p("checked",i.checked)("disabled",i.isDisabled()),ie("id",i.inputId)("name",i.name)("aria-label",i.ariaLabel),m(2),p("ngClass",an(12,Gbe,i.checked,i.focused,i.isDisabled())),ie("aria-checked",i.checked),m(2),p("ngClass",B(16,g5,i.checked)))},dependencies:[Ze],encapsulation:2,changeDetection:0}),n})(),_5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,uve,po,nf,Ou,$r,d5,Vx,rf,Sve,ha,nt,ha]}),n})();function vwe(n,t){1&n&&$(0)}function bwe(n,t){if(1&n&&(_(0,"div",3),v(1,vwe,1,0,"ng-container",4),y()),2&n){const e=f();m(1),p("ngTemplateOutlet",e.leftTemplate)}}function wwe(n,t){1&n&&$(0)}function Cwe(n,t){if(1&n&&(_(0,"div",5),v(1,wwe,1,0,"ng-container",4),y()),2&n){const e=f();m(1),p("ngTemplateOutlet",e.rightTemplate)}}const Iwe=["*"];let Twe=(()=>{class n{constructor(e){this.el=e}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"left":this.leftTemplate=e.template;break;case"right":this.rightTemplate=e.template}})}}return n.\u0275fac=function(e){return new(e||n)(x(ze))},n.\u0275cmp=Ae({type:n,selectors:[["p-toolbar"]],contentQueries:function(e,i,r){if(1&e&&dt(r,gt,4),2&e){let s;Q(s=Y())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:Iwe,decls:4,vars:6,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left",4,"ngIf"],["class","p-toolbar-group-right",4,"ngIf"],[1,"p-toolbar-group-left"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-right"]],template:function(e,i){1&e&&(pr(),_(0,"div",0),Dn(1),v(2,bwe,2,1,"div",1),v(3,Cwe,2,1,"div",2),y()),2&e&&(ce(i.styleClass),p("ngClass","p-toolbar p-component")("ngStyle",i.style),m(2),p("ngIf",i.leftTemplate),m(1),p("ngIf",i.rightTemplate))},dependencies:[Ze,qe,St,at],styles:[".p-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}\n"],encapsulation:2,changeDetection:0}),n})(),y5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee]}),n})();function Ewe(n,t){if(1&n){const e=N();_(0,"button",23),S("click",function(){return C(e),I(f(4).atualizarDadosTabela(!0))}),y()}}function Swe(n,t){if(1&n){const e=N();_(0,"button",24),S("click",function(){return C(e),I(f(4).atualizarDadosTabela(!1))}),y()}}function xwe(n,t){if(1&n){const e=N();v(0,Ewe,1,0,"button",20),v(1,Swe,1,0,"button",21),_(2,"button",22),S("click",function(){return C(e),I(f(3).voltar())}),y()}if(2&n){const e=f(3);p("ngIf",!e.indPodeExibirTabelaUser),m(1),p("ngIf",e.indPodeExibirTabelaUser)}}function Dwe(n,t){1&n&&(_(0,"tr")(1,"th",25),j(2,"p-tableHeaderCheckbox"),y(),_(3,"th",26),L(4,"Nome"),j(5,"p-sortIcon",27),y(),_(6,"th",28),L(7,"Imagem"),y(),_(8,"th",29),L(9,"Usu\xe1rio"),j(10,"p-sortIcon",30),y(),_(11,"th",31),L(12,"Cidade"),j(13,"p-sortIcon",32),y(),_(14,"th",33),L(15,"Status"),j(16,"p-sortIcon",34),y(),_(17,"th",35),L(18,"Motivo Rejei\xe7\xe3o"),j(19,"p-sortIcon",36),y(),j(20,"th"),y())}function Awe(n,t){if(1&n){const e=N();_(0,"tr")(1,"td"),j(2,"p-tableCheckbox",37),y(),_(3,"td"),L(4),y(),_(5,"td"),j(6,"img",38),y(),_(7,"td"),L(8),y(),_(9,"td"),L(10),y(),_(11,"td"),L(12),y(),_(13,"td"),L(14),y(),_(15,"td")(16,"div",39)(17,"button",40),S("click",function(){const s=C(e).$implicit;return I(f(3).editar(s))}),y(),_(18,"button",41),S("click",function(){const s=C(e).$implicit;return I(f(3).showConfirmationDialogExcluirItem(s))}),y()()()()}if(2&n){const e=t.$implicit;m(2),p("value",e),m(2),se(e.name),m(2),p("src",e.image,xa)("alt",e.image),m(2),se(e.username),m(2),se(e.city),m(2),se(e.status),m(2),se(e.motive),m(3),p("disabled","INATIVO"==e.status)}}function kwe(n,t){if(1&n&&(_(0,"div",42),L(1),y()),2&n){const e=f(3);m(1),Gt(" No total existem ",e.dados?e.dados.length:0,". ")}}const Mwe=function(){return["name","username","city","status"]};function Rwe(n,t){if(1&n){const e=N();_(0,"div")(1,"p-toolbar",10),v(2,xwe,3,2,"ng-template",11),_(3,"span",12),j(4,"i",13),_(5,"input",14),S("ngModelChange",function(r){return C(e),I(f(2).valorFiltro=r)})("input",function(){C(e);const r=Ge(7),s=f(2);return I(r.filterGlobal(s.valorFiltro,"contains"))}),y()()(),_(6,"p-table",15,16),S("selectionChange",function(r){return C(e),I(f(2).dadoSelecionado=r)}),v(8,Dwe,21,0,"ng-template",17),v(9,Awe,19,9,"ng-template",18),v(10,kwe,2,1,"ng-template",19),y()()}if(2&n){const e=f(2);m(5),p("ngModel",e.valorFiltro),m(1),p("value",e.dados)("rows",10)("paginator",!0)("globalFilterFields",en(8,Mwe))("selection",e.dadoSelecionado)("rowHover",!0)("showCurrentPageReport",!0)}}function Pwe(n,t){if(1&n){const e=N();_(0,"button",23),S("click",function(){return C(e),I(f(4).atualizarDadosTabela(!0))}),y()}}function Owe(n,t){if(1&n){const e=N();_(0,"button",24),S("click",function(){return C(e),I(f(4).atualizarDadosTabela(!1))}),y()}}function Fwe(n,t){if(1&n){const e=N();v(0,Pwe,1,0,"button",20),v(1,Owe,1,0,"button",21),_(2,"button",22),S("click",function(){return C(e),I(f(3).voltar())}),y()}if(2&n){const e=f(3);p("ngIf",!e.indPodeExibirTabelaUser),m(1),p("ngIf",e.indPodeExibirTabelaUser)}}function Lwe(n,t){1&n&&(_(0,"tr")(1,"th",25),j(2,"p-tableHeaderCheckbox"),y(),_(3,"th",43),L(4,"Id"),j(5,"p-sortIcon",44),y(),_(6,"th",45),L(7,"Usuario"),j(8,"p-sortIcon",30),y(),_(9,"th",46),L(10,"E-mail"),j(11,"p-sortIcon",47),y(),_(12,"th",48),L(13,"Status"),j(14,"p-sortIcon",34),y(),_(15,"th",49),L(16,"Permiss\xe3o administradora"),j(17,"p-sortIcon",50),y(),j(18,"th"),y())}function Nwe(n,t){if(1&n){const e=N();_(0,"button",55),S("click",function(){C(e);const r=f().$implicit;return I(f(3).showStatusDialog(r))}),y()}if(2&n){const e=f().$implicit,i=f(3);p("disabled",1==e.adminUser||e.username==i.username)}}function Vwe(n,t){if(1&n){const e=N();_(0,"button",56),S("click",function(){C(e);const r=f().$implicit;return I(f(3).showStatusDialog(r))}),y()}if(2&n){const e=f().$implicit,i=f(3);p("disabled",1==e.adminUser||e.username==i.username)}}function Bwe(n,t){if(1&n){const e=N();_(0,"tr")(1,"td"),j(2,"p-tableCheckbox",37),y(),_(3,"td"),L(4),y(),_(5,"td"),L(6),y(),_(7,"td"),L(8),y(),_(9,"td"),L(10),y(),_(11,"td"),L(12),y(),_(13,"td")(14,"div",39)(15,"button",51),S("click",function(){const s=C(e).$implicit;return I(f(3).showConfirmationDialog(s))}),y(),v(16,Nwe,1,1,"button",52),v(17,Vwe,1,1,"button",53),_(18,"button",54),S("click",function(){const s=C(e).$implicit;return I(f(3).showConfirmationDialogExcluirUser(s))}),y()()()()}if(2&n){const e=t.$implicit,i=f(3);m(2),p("value",e),m(2),se(e.id),m(2),se(e.username),m(2),se(e.email),m(2),se(e.status),m(2),se(1==e.adminUser?"Sim":"N\xe3o"),m(3),p("disabled","Inativo"==e.status||e.username==i.username),m(1),p("ngIf","Inativo"==e.status),m(1),p("ngIf","Ativo"==e.status),m(1),p("disabled",e.username==i.username)}}function Uwe(n,t){if(1&n&&(_(0,"div",42),L(1),y()),2&n){const e=f(3);m(1),Gt(" No total existem ",e.dadosUser?e.dadosUser.length:0,". ")}}const Hwe=function(){return["id","username","email"]};function zwe(n,t){if(1&n){const e=N();_(0,"div")(1,"p-toolbar",10),v(2,Fwe,3,2,"ng-template",11),_(3,"span",12),j(4,"i",13),_(5,"input",14),S("ngModelChange",function(r){return C(e),I(f(2).valorFiltro=r)})("input",function(){C(e);const r=Ge(7),s=f(2);return I(r.filterGlobal(s.valorFiltro,"contains"))}),y()()(),_(6,"p-table",15,16),S("selectionChange",function(r){return C(e),I(f(2).dadoSelecionadoUser=r)}),v(8,Lwe,19,0,"ng-template",17),v(9,Bwe,19,10,"ng-template",18),v(10,Uwe,2,1,"ng-template",19),y()()}if(2&n){const e=f(2);m(5),p("ngModel",e.valorFiltro),m(1),p("value",e.dadosUser)("rows",10)("paginator",!0)("globalFilterFields",en(8,Hwe))("selection",e.dadoSelecionadoUser)("rowHover",!0)("showCurrentPageReport",!0)}}function $we(n,t){if(1&n&&(_(0,"div",8),v(1,Rwe,11,9,"div",9),v(2,zwe,11,9,"div",9),y()),2&n){const e=f();m(1),p("ngIf",!e.indPodeExibirTabelaUser),m(1),p("ngIf",e.indPodeExibirTabelaUser)}}function jwe(n,t){if(1&n&&j(0,"app-menu-manter",57),2&n){const e=f();p("operacao",e.operacao)("id",e.id)("userId",e.userId)("desabilitarCamposManter",e.desabilitarCamposManter)("acessarDadosTelaManter",e.acessarDadosTelaManter)}}function Gwe(n,t){if(1&n){const e=N();_(0,"p-button",58),S("click",function(){C(e);const r=f();return I(r.salvarAlteracaoPermissao(r.dadosUserPermissao))}),y(),_(1,"p-button",59),S("click",function(){return C(e),I(f().hideConfirmationDialog())}),y()}}function qwe(n,t){if(1&n){const e=N();_(0,"p-button",58),S("click",function(){C(e);const r=f();return I(r.salvarAlteracaoStatus(r.dadosUserStatus))}),y(),_(1,"p-button",59),S("click",function(){return C(e),I(f().hideStatusDialog())}),y()}}function Wwe(n,t){if(1&n){const e=N();_(0,"p-button",58),S("click",function(){return C(e),I(f().deletarDados())}),y(),_(1,"p-button",59),S("click",function(){return C(e),I(f().hideConfirmationDialogExcluirItem())}),y()}}function Kwe(n,t){if(1&n){const e=N();_(0,"p-button",58),S("click",function(){return C(e),I(f().deletarDadosUser())}),y(),_(1,"p-button",59),S("click",function(){return C(e),I(f().hideConfirmationDialogExcluirUser())}),y()}}const v5=function(){return{width:"50vw"}},b5=function(){return{width:"35vw"}};let Qwe=(()=>{class n{constructor(e,i,r,s){this.router=e,this.menuAcessoService=i,this.messageService=r,this.route=s,this.dados=[],this.dadoSelecionado=[],this.dadosUser=[],this.dadoSelecionadoUser=[],this.valorFiltro="",this.operacao="",this.id="",this.userId="",this.username="",this.acessarDadosTelaManter=!1,this.desabilitarCamposManter=!1,this.indPodeExibirTabelaUser=!1,this.dadosUserPermissao={},this.exibirDialogConfirmacao=!1,this.message="",this.exibirDialogStatus=!1,this.dadosUserStatus={},this.exibirDialogExcluirItem=!1,this.dadosItem={},this.exibirDialogExcluirUser=!1,this.dadosUserExcluir={},this.route.params.subscribe(o=>{this.username=o.username})}ngOnInit(){this.acessarDados()}acessarDados(){this.menuAcessoService.buscarTodosDados().subscribe(e=>{this.dados=e}),this.menuAcessoService.verificarUsername().subscribe(e=>{this.dadosUser=e})}voltar(){this.router.navigate(["/login"])}editar(e){this.id=e.id,this.userId=e.userId,this.operacao=Kn.ADMIN,this.desabilitarCamposManter=!1,this.acessarDadosTelaManter=!0}showConfirmationDialogExcluirItem(e){this.message="Voc\xea deseja excluir esse item?",this.dadosItem=e,this.exibirDialogExcluirItem=!0}deletarDados(){this.menuAcessoService.deletarDados(this.dadosItem.id).subscribe(e=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Excluido.",life:3e3}),this.exibirDialogExcluirItem=!1,this.acessarDados()},e=>{console.error("Erro ao adicionar dados:",e)})}hideConfirmationDialogExcluirItem(){this.exibirDialogExcluirItem=!1}atualizarDadosTabela(e){this.indPodeExibirTabelaUser=e,this.acessarDados()}showConfirmationDialog(e){this.message=e.adminUser?"Voc\xea deseja retirar o acesso administrador desse usu\xe1rio?":"Voc\xea deseja tornar o acesso desse usu\xe1rio como administrador?",this.dadosUserPermissao=e,this.exibirDialogConfirmacao=!0}salvarAlteracaoPermissao(e){e.adminUser=!0!==e.adminUser,this.menuAcessoService.alterarUsername(e).subscribe(i=>{e=i,this.messageService.add({severity:"success",summary:"Sucesso",detail:"Altera\xe7\xe3o realizada.",life:3e3}),this.exibirDialogConfirmacao=!1},i=>{console.error("Erro ao adicionar dados:",i)})}hideConfirmationDialog(){this.exibirDialogConfirmacao=!1}showStatusDialog(e){this.message="Inativo"==e.status?"Voc\xea deseja ativar esse usu\xe1rio?":"Voc\xea deseja desativar esse usu\xe1rio e todos os lugares cadastrados por ele?",this.dadosUserStatus=e,this.exibirDialogStatus=!0}hideStatusDialog(){this.exibirDialogStatus=!1}salvarAlteracaoStatus(e){e.status="Ativo"===e.status?"Inativo":"Ativo",this.menuAcessoService.alterarUsername(e).subscribe(i=>{e=i,this.messageService.add({severity:"success",summary:"Sucesso",detail:"Altera\xe7\xe3o realizada.",life:3e3}),this.exibirDialogStatus=!1,"Inativo"==i.status&&this.buscarEstabelecimentos(e.id)},i=>{console.error("Erro ao adicionar dados:",i)})}buscarEstabelecimentos(e){var i=this;return w(function*(){try{let r=yield sh(i.menuAcessoService.buscarDados(e));if(r)for(let s=0;s<r.length;s++)yield i.desativarEstabelecimentos(r[s]);else console.error("A chamada \xe0 API retornou um valor indefinido.")}catch(r){i.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:r,life:3e3})}})()}desativarEstabelecimentos(e){var i=this;return w(function*(){e.status="INATIVO";try{yield sh(i.menuAcessoService.alterarDados(e))}catch(r){i.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:r,life:3e3})}})()}showConfirmationDialogExcluirUser(e){this.message="Voc\xea deseja excluir esse Usu\xe1rio?",this.dadosUserExcluir=e,this.exibirDialogExcluirUser=!0}deletarDadosUser(){this.menuAcessoService.deletarUsername(this.dadosUserExcluir.id).subscribe(e=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Excluido.",life:3e3}),this.exibirDialogExcluirUser=!1,this.acessarDados()},e=>{console.error("Erro ao adicionar dados:",e)})}hideConfirmationDialogExcluirUser(){this.exibirDialogExcluirUser=!1}}return n.\u0275fac=function(e){return new(e||n)(x(wn),x(_g),x(ko),x(zs))},n.\u0275cmp=Ae({type:n,selectors:[["app-menu-admin"]],decls:19,vars:26,consts:[["position","top-center"],["class","header",4,"ngIf"],[3,"operacao","id","userId","desabilitarCamposManter","acessarDadosTelaManter",4,"ngIf"],["header","Altera\xe7\xe3o de permiss\xe3o",3,"visible","baseZIndex","visibleChange"],["pTemplate","footer"],["header","Altera\xe7\xe3o de status",3,"visible","baseZIndex","visibleChange"],["header","Excluir Item",3,"visible","baseZIndex","visibleChange"],["header","Excluir Usu\xe1rio",3,"visible","baseZIndex","visibleChange"],[1,"header"],[4,"ngIf"],["styleClass","p-mb-4"],["pTemplate","right"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],["dataKey","id","currentPageReportTemplate","Mostrando {first} para {last} de {totalRecords} entradas",3,"value","rows","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["style","margin-right: 1vw;","pButton","","label","Listar Usuario","class","p-button-outlined p-button-help",3,"click",4,"ngIf"],["style","margin-right: 1vw;","pButton","","label","Listar estabelecimentos","class","p-button-outlined p-button-help",3,"click",4,"ngIf"],["pButton","","label","Voltar","icon","pi pi-arrow-left",1,"p-button-outlined","p-button-danger",3,"click"],["pButton","","label","Listar Usuario",1,"p-button-outlined","p-button-help",2,"margin-right","1vw",3,"click"],["pButton","","label","Listar estabelecimentos",1,"p-button-outlined","p-button-help",2,"margin-right","1vw",3,"click"],[2,"width","3rem"],["pSortableColumn","name",2,"width","20vw"],["field","name"],[2,"width","10vw","height","15vh"],["pSortableColumn","username",2,"width","10vw"],["field","username"],["pSortableColumn","city",2,"width","10vw"],["field","city"],["pSortableColumn","status",2,"width","20vw"],["field","status"],["pSortableColumn","motive",2,"width","25vw"],["field","motive"],[3,"value"],[1,"shadow-4",2,"width","10vw","height","15vh",3,"src","alt"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","p-mr-2",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",2,"margin-left","1vw",3,"click"],[1,"p-d-flex","p-ai-center","p-jc-between"],["pSortableColumn","id"],["field","id"],["pSortableColumn","username"],["pSortableColumn","email"],["field","email"],["pSortableColumn","status"],["pSortableColumn","adminUser"],["field","adminUser"],["pButton","","pRipple","","icon","pi pi-user-edit",1,"p-button-rounded","p-button-success","p-mr-2",3,"disabled","click"],["style","margin-left: 1vw;","pButton","","pRipple","","icon","pi pi-eye-slash","class","p-button-rounded p-button-warning",3,"disabled","click",4,"ngIf"],["style","margin-left: 1vw;","pButton","","pRipple","","icon","pi pi-eye","class","p-button-rounded p-button-warning",3,"disabled","click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",2,"margin-left","1vw",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-eye-slash",1,"p-button-rounded","p-button-warning",2,"margin-left","1vw",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-eye",1,"p-button-rounded","p-button-warning",2,"margin-left","1vw",3,"disabled","click"],[3,"operacao","id","userId","desabilitarCamposManter","acessarDadosTelaManter"],["icon","pi pi-check","label","Sim",1,"p-button-text",3,"click"],["icon","pi pi-times","label","N\xe3o",3,"click"]],template:function(e,i){1&e&&(j(0,"p-toast",0),v(1,$we,3,2,"div",1),v(2,jwe,1,5,"app-menu-manter",2),_(3,"p-dialog",3),S("visibleChange",function(s){return i.exibirDialogConfirmacao=s}),_(4,"p"),L(5),y(),v(6,Gwe,2,0,"ng-template",4),y(),_(7,"p-dialog",5),S("visibleChange",function(s){return i.exibirDialogStatus=s}),_(8,"p"),L(9),y(),v(10,qwe,2,0,"ng-template",4),y(),_(11,"p-dialog",6),S("visibleChange",function(s){return i.exibirDialogExcluirItem=s}),_(12,"p"),L(13),y(),v(14,Wwe,2,0,"ng-template",4),y(),_(15,"p-dialog",7),S("visibleChange",function(s){return i.exibirDialogExcluirUser=s}),_(16,"p"),L(17),y(),v(18,Kwe,2,0,"ng-template",4),y()),2&e&&(m(1),p("ngIf",!i.acessarDadosTelaManter),m(1),p("ngIf",i.acessarDadosTelaManter),m(1),Tt(en(22,v5)),p("visible",i.exibirDialogConfirmacao)("baseZIndex",1e4),m(2),Gt(" ",i.message," "),m(2),Tt(en(23,v5)),p("visible",i.exibirDialogStatus)("baseZIndex",1e4),m(2),Gt(" ",i.message," "),m(2),Tt(en(24,b5)),p("visible",i.exibirDialogExcluirItem)("baseZIndex",1e4),m(2),Gt(" ",i.message," "),m(2),Tt(en(25,b5)),p("visible",i.exibirDialogExcluirUser)("baseZIndex",1e4),m(2),Gt(" ",i.message," "))},dependencies:[qe,Ru,Yp,da,gt,Ro,pC,vg,Fu,Mn,Tl,mwe,gwe,_we,ywe,mC,Twe,gx],styles:[".header[_ngcontent-%COMP%]{height:80vh;width:90vw;background:white;border-radius:10px;box-shadow:5px 5px 15px #0000004d}"]}),n})();function Ywe(n,t){if(1&n&&(_(0,"div",7),j(1,"p-progressBar",8),y()),2&n){const e=f();m(1),p("value",e.value)}}function Zwe(n,t){if(1&n){const e=N();_(0,"button",20),S("click",function(){return C(e),I(f(3).ativarConta())}),y()}2&n&&p("disabled",f(3).botaoBloqueado)}function Jwe(n,t){if(1&n){const e=N();_(0,"button",21),S("click",function(){return C(e),I(f(3).desativarConta())}),y()}2&n&&p("disabled",f(3).botaoBloqueado)}function Xwe(n,t){if(1&n){const e=N();_(0,"div",13)(1,"div",14)(2,"button",15),S("click",function(){return C(e),I(f(2).voltar())}),y()(),v(3,Zwe,1,1,"button",16),v(4,Jwe,1,1,"button",17),_(5,"div",18)(6,"button",19),S("click",function(){return C(e),I(f(2).adicionarDados())}),y()()()}if(2&n){const e=f(2);m(3),p("ngIf","Inativo"==e.dadosUser.status),m(1),p("ngIf","Ativo"==e.dadosUser.status),m(2),p("disabled","Inativo"==e.dadosUser.status)}}function e0e(n,t){if(1&n&&(_(0,"h4",36),L(1),y()),2&n){const e=f().$implicit;m(1),se(e.status)}}function t0e(n,t){if(1&n&&(_(0,"h4",37),L(1),y()),2&n){const e=f().$implicit;m(1),se(e.status)}}function n0e(n,t){if(1&n&&(_(0,"h4",38),L(1),y()),2&n){const e=f().$implicit;m(1),se(e.status)}}function i0e(n,t){if(1&n&&(_(0,"h4",39),L(1),y()),2&n){const e=f().$implicit;m(1),se(e.status)}}function r0e(n,t){if(1&n&&(_(0,"h4",40),L(1),y()),2&n){const e=f().$implicit;m(1),se(e.status)}}function s0e(n,t){if(1&n){const e=N();_(0,"div",22)(1,"div",23)(2,"div")(3,"h4",24),L(4),y(),j(5,"img",25),v(6,e0e,2,1,"h4",26),v(7,t0e,2,1,"h4",27),v(8,n0e,2,1,"h4",28),v(9,i0e,2,1,"h4",29),v(10,r0e,2,1,"h4",30),_(11,"div",31)(12,"button",32),S("click",function(){const s=C(e).$implicit;return I(f(2).detalharDados(s.id))}),y(),_(13,"button",33),S("click",function(){const s=C(e).$implicit;return I(f(2).alterarDados(s.id))}),y(),_(14,"button",34),S("click",function(){const s=C(e).$implicit;return I(f(2).showConfirmationDialogItem(s))}),y(),_(15,"button",35),S("click",function(){const s=C(e).$implicit;return I(f(2).showConfirmationDialogExcluirItem(s))}),y()()()()()}if(2&n){const e=t.$implicit,i=f(2);m(4),se(e.name),m(1),p("src",e.image,xa),m(1),p("ngIf","ATIVO"==e.status),m(1),p("ngIf","INATIVO"==e.status),m(1),p("ngIf","AGUARDANDO ANALISE"==e.status),m(1),p("ngIf","REJEITADO"==e.status),m(1),p("ngIf","EXEMPLO"==e.status),m(2),p("disabled","EXEMPLO"==e.status),m(1),p("disabled","AGUARDANDO ANALISE"==e.Status||"EXEMPLO"==e.status||"Inativo"==i.dadosUser.status),m(1),p("icon","INATIVO"==e.status?"pi pi-eye-slash":"pi pi-eye")("disabled","Inativo"==i.dadosUser.status||"EXEMPLO"==e.status),m(1),p("disabled","EXEMPLO"==e.status)}}function o0e(n,t){if(1&n&&(_(0,"div",9)(1,"p-carousel",10),v(2,Xwe,7,3,"ng-template",11),v(3,s0e,16,12,"ng-template",12),y()()),2&n){const e=f();m(1),p("value",e.dadosEstabelecimento)("numVisible",3)("numScroll",3)("circular",!1)("responsiveOptions",e.responsiveOptions)}}function a0e(n,t){1&n&&(_(0,"div",9),j(1,"app-menu-admin"),y())}function l0e(n,t){if(1&n&&j(0,"app-menu-manter",41),2&n){const e=f();p("operacao",e.operacao)("id",e.id)("userId",e.userId)("username",e.username)("desabilitarCamposManter",e.desabilitarCamposManter)("acessarDadosTelaManter",e.acessarDadosTelaManter)}}function c0e(n,t){if(1&n){const e=N();_(0,"p-button",44),S("click",function(){return C(e),I(f(2).desativarDado())}),y()}}function u0e(n,t){if(1&n){const e=N();_(0,"p-button",44),S("click",function(){return C(e),I(f(2).ativarDado())}),y()}}function d0e(n,t){if(1&n){const e=N();v(0,c0e,1,0,"p-button",42),v(1,u0e,1,0,"p-button",42),_(2,"p-button",43),S("click",function(){return C(e),I(f().hideConfirmationDialogItem())}),y()}if(2&n){const e=f();p("ngIf","INATIVO"!=e.dadosItem.status),m(1),p("ngIf","INATIVO"==e.dadosItem.status)}}function h0e(n,t){if(1&n){const e=N();_(0,"p-button",44),S("click",function(){return C(e),I(f().deletarDados())}),y(),_(1,"p-button",43),S("click",function(){return C(e),I(f().hideConfirmationDialogExcluirItem())}),y()}}const p0e=function(){return{width:"40vw"}},f0e=function(){return{width:"35vw"}};let w5=(()=>{class n{constructor(e,i,r,s){this.route=e,this.router=i,this.messageService=r,this.menuAcessoService=s,this.dadosEstabelecimento=[],this.id="",this.userId="",this.username="",this.responsiveOptions=[{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}],this.acessarDadosTelaManter=!1,this.desabilitarCamposManter=!1,this.operacao="",this.nomeEstabelecimento="",this.acessarDadosTelaAdmin=!1,this.value=0,this.carregando=!0,this.dadosUser={},this.botaoBloqueado=!1,this.exibirDialogExcluirItem=!1,this.exibirDialogItem=!1,this.message="",this.dadosItem={},this.route.params.subscribe(o=>{this.userId=o.userId,this.username=o.username})}ngOnInit(){let e=setInterval(()=>{this.value=this.value+Math.floor(40*Math.random())+1,this.value>=100&&(this.value=100,clearInterval(e),this.carregando=!1)},1e3);this.verificarTipoUsuario()}verificarTipoUsuario(){this.menuAcessoService.verificarUsername().subscribe(e=>{let i=!1;for(let r=0;r<e.length;r++)this.username==e[r].username&&(this.dadosUser=e[r],1==e[r].adminUser&&(i=!0));i?this.acessarDadosTelaAdmin=!0:(this.acessarDadosTelaAdmin=!1,this.buscarDados())},e=>{this.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:e,life:3e3})})}buscarDados(){this.menuAcessoService.buscarDados(this.userId).subscribe(e=>{this.dadosEstabelecimento=e.length>0?e:[{id:"Exemplo",userId:"Exemplo",name:"Exemplo",description:"Exemplo",categories:[],basicInformation:[],image:["assets/img/logo.jpeg"],openingHours:[],street:"Exemplo",number:"Exemplo",district:"Exemplo",state:"Exemplo",city:"Exemplo",zipCode:"Exemplo",complement:"Exemplo",status:"EXEMPLO",username:"Exemplo",motive:"Exemplo"}]})}adicionarDados(){this.operacao=Kn.INCLUIR,this.desabilitarCamposManter=!1,this.acessarDadosTelaManter=!0}alterarDados(e){this.operacao=Kn.ALTERAR,this.id=e,this.desabilitarCamposManter=!1,this.acessarDadosTelaManter=!0}detalharDados(e){this.operacao=Kn.DETALHAR,this.id=e,this.desabilitarCamposManter=!0,this.acessarDadosTelaManter=!0}voltar(){this.router.navigate(["/login"])}ativarConta(){this.botaoBloqueado=!0,this.dadosUser.status="Ativo",this.menuAcessoService.alterarUsername(this.dadosUser).subscribe(e=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Seu usu\xe1rio foi ativado.",life:3e3}),this.carregando=!0,this.value=0,this.ngOnInit(),setTimeout(()=>{this.botaoBloqueado=!1},1e3)},e=>{console.error("Erro ao adicionar dados:",e)})}desativarConta(){this.botaoBloqueado=!0,this.dadosUser.status="Inativo",this.menuAcessoService.alterarUsername(this.dadosUser).subscribe(e=>{this.buscarEstabelecimentos()},e=>{console.error("Erro ao adicionar dados:",e)})}buscarEstabelecimentos(){var e=this;return w(function*(){try{let i=yield sh(e.menuAcessoService.buscarDados(e.userId));if(i){for(let r=0;r<i.length;r++)yield e.desativarEstabelecimentos(i[r]);e.messageService.add({severity:"success",summary:"Sucesso",detail:"Seu Usu\xe1rio foi desativado e todos os lugares cadastrados.",life:3e3}),e.carregando=!0,e.value=0,e.ngOnInit(),setTimeout(()=>{e.botaoBloqueado=!1},1e3)}else console.error("A chamada \xe0 API retornou um valor indefinido.")}catch(i){e.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:i,life:3e3})}})()}desativarEstabelecimentos(e){var i=this;return w(function*(){e.status="INATIVO";try{yield sh(i.menuAcessoService.alterarDados(e))}catch(r){i.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:r,life:3e3})}})()}showConfirmationDialogItem(e){this.message="INATIVO"!=e.status?"Voc\xea deseja desativar?":"Voc\xea deseja ativar e enviar para an\xe1lise novamente?",this.dadosItem=e,this.exibirDialogItem=!0}desativarDado(){this.dadosItem.status="INATIVO",this.menuAcessoService.alterarDados(this.dadosItem).subscribe(e=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Desativado.",life:3e3}),this.exibirDialogItem=!1,this.buscarDados()},e=>{console.error("Erro ao adicionar dados:",e)})}ativarDado(){this.dadosItem.status="AGUARDANDO ANALISE",this.menuAcessoService.alterarDados(this.dadosItem).subscribe(e=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Enviado para an\xe1lise.",life:3e3}),this.exibirDialogItem=!1,this.buscarDados()},e=>{console.error("Erro ao adicionar dados:",e)})}hideConfirmationDialogItem(){this.exibirDialogItem=!1}showConfirmationDialogExcluirItem(e){this.message="Voc\xea deseja excluir esse item?",this.dadosItem=e,this.exibirDialogExcluirItem=!0}deletarDados(){this.menuAcessoService.deletarDados(this.dadosItem.id).subscribe(e=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Excluido.",life:3e3}),this.exibirDialogExcluirItem=!1,this.buscarDados()},e=>{console.error("Erro ao adicionar dados:",e)})}hideConfirmationDialogExcluirItem(){this.exibirDialogExcluirItem=!1}}return n.\u0275fac=function(e){return new(e||n)(x(zs),x(wn),x(ko),x(_g))},n.\u0275cmp=Ae({type:n,selectors:[["app-menu-inicial"]],decls:13,vars:16,consts:[["class","progressBar",4,"ngIf"],["class","container",4,"ngIf"],[3,"operacao","id","userId","username","desabilitarCamposManter","acessarDadosTelaManter",4,"ngIf"],["position","top-center"],["header","Altera\xe7\xe3o de Status",3,"visible","baseZIndex","visibleChange"],["pTemplate","footer"],["header","Excluir Item",3,"visible","baseZIndex","visibleChange"],[1,"progressBar"],[3,"value"],[1,"container"],[1,"header",3,"value","numVisible","numScroll","circular","responsiveOptions"],["pTemplate","header"],["pTemplate","item"],[1,"header-title"],[1,"button-return"],["pButton","","type","button","icon","pi pi-arrow-left","iconPos","left","label","Voltar",1,"p-button-outlined","p-button-danger",2,"width","100%",3,"click"],["class","p-button-outlined p-button-warning","pButton","","type","button","icon","pi pi-user-edit","iconPos","left","label","Ativar Conta",3,"disabled","click",4,"ngIf"],["class","p-button-outlined p-button-warning","pButton","","type","button","icon","pi pi-user-edit","iconPos","left","label","Desativar Conta",3,"disabled","click",4,"ngIf"],[1,"button-add"],["pButton","","type","button","icon","pi pi-plus","iconPos","left","label","Adicionar",1,"p-button-outlined","p-button-success",3,"disabled","click"],["pButton","","type","button","icon","pi pi-user-edit","iconPos","left","label","Ativar Conta",1,"p-button-outlined","p-button-warning",3,"disabled","click"],["pButton","","type","button","icon","pi pi-user-edit","iconPos","left","label","Desativar Conta",1,"p-button-outlined","p-button-warning",3,"disabled","click"],[1,"dadosEstabelecimento-item"],[1,"dadosEstabelecimento-item-content"],[1,"p-mb-1","dadosEstabelecimento-name"],["alt","Minha Imagem",1,"dadosEstabelecimento-image",3,"src"],["class","p-mb-1","style","color: green;",4,"ngIf"],["class","p-mb-1","style","color: gray;",4,"ngIf"],["class","p-mb-1","style","color: rgb(202, 202, 3);",4,"ngIf"],["class","p-mb-1","style","color:red;",4,"ngIf"],["class","p-mb-1","style","color:black;",4,"ngIf"],[1,"car-buttons","p-mt-5"],["pButton","","pRipple","","type","button","icon","pi pi-info-circle",1,"p-button-rounded","p-button-info",3,"disabled","click"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-help",2,"margin-left","1vw",3,"disabled","click"],["pButton","","pRipple","","type","button",1,"p-button-rounded","p-button-warning",2,"margin-left","1vw",3,"icon","disabled","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",2,"margin-left","1vw",3,"disabled","click"],[1,"p-mb-1",2,"color","green"],[1,"p-mb-1",2,"color","gray"],[1,"p-mb-1",2,"color","rgb(202, 202, 3)"],[1,"p-mb-1",2,"color","red"],[1,"p-mb-1",2,"color","black"],[3,"operacao","id","userId","username","desabilitarCamposManter","acessarDadosTelaManter"],["icon","pi pi-check","label","Sim","class","p-button-text",3,"click",4,"ngIf"],["icon","pi pi-times","label","N\xe3o",3,"click"],["icon","pi pi-check","label","Sim",1,"p-button-text",3,"click"]],template:function(e,i){1&e&&(v(0,Ywe,2,1,"div",0),v(1,o0e,4,5,"div",1),v(2,a0e,2,0,"div",1),v(3,l0e,1,6,"app-menu-manter",2),j(4,"p-toast",3),_(5,"p-dialog",4),S("visibleChange",function(s){return i.exibirDialogItem=s}),_(6,"p"),L(7),y(),v(8,d0e,3,2,"ng-template",5),y(),_(9,"p-dialog",6),S("visibleChange",function(s){return i.exibirDialogExcluirItem=s}),_(10,"p"),L(11),y(),v(12,h0e,2,0,"ng-template",5),y()),2&e&&(p("ngIf",i.carregando),m(1),p("ngIf",!i.acessarDadosTelaManter&&!i.acessarDadosTelaAdmin&&!i.carregando),m(1),p("ngIf",!i.acessarDadosTelaManter&&i.acessarDadosTelaAdmin&&!i.carregando),m(1),p("ngIf",i.acessarDadosTelaManter),m(2),Tt(en(14,p0e)),p("visible",i.exibirDialogItem)("baseZIndex",1e4),m(2),Gt(" ",i.message," "),m(2),Tt(en(15,f0e)),p("visible",i.exibirDialogExcluirItem)("baseZIndex",1e4),m(2),Gt(" ",i.message," "))},dependencies:[qe,jee,gt,Ro,pC,vg,Mn,mC,mL,gx,Qwe],styles:[".progressBar[_ngcontent-%COMP%]{display:grid;height:100vh;width:80vw;margin-left:10vw;margin-right:10vw;align-items:center}.header[_ngcontent-%COMP%]{height:auto;width:80vw;background:white;border-radius:10px;box-shadow:5px 5px 15px #0000004d}.dadosEstabelecimento-item[_ngcontent-%COMP%]   .dadosEstabelecimento-item-content[_ngcontent-%COMP%]{border:1px solid var(--surface-d);border-radius:10px;margin:.3rem;text-align:center;padding:2rem 0;background-color:#f0ebeb}.dadosEstabelecimento-item[_ngcontent-%COMP%]   .dadosEstabelecimento-name[_ngcontent-%COMP%]{font-size:20px}.dadosEstabelecimento-item[_ngcontent-%COMP%]   .dadosEstabelecimento-image[_ngcontent-%COMP%]{border-radius:10px;width:15vw;height:20vh;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}.padding10[_ngcontent-%COMP%]{padding:10px}.header-title[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:space-between;margin:1vw}.button-add[_ngcontent-%COMP%]{display:flex;align-items:center}.button-add[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:10vw;margin-right:1vw}.button-return[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:1vw}"]}),n})();function C5(n){return new V(3e3,!1)}function Q0e(){return typeof window<"u"&&typeof window.document<"u"}function qx(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function pa(n){switch(n.length){case 0:return new uh;case 1:return n[0];default:return new dL(n)}}function I5(n,t,e,i,r=new Map,s=new Map){const o=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.get("offset"),h=d==l,g=h&&c||new Map;u.forEach((b,T)=>{let E=T,D=b;if("offset"!==T)switch(E=t.normalizePropertyName(E,o),D){case"!":D=r.get(T);break;case js:D=s.get(T);break;default:D=t.normalizeStyleValue(T,E,D,o)}g.set(E,D)}),h||a.push(g),c=g,l=d}),o.length)throw function N0e(n){return new V(3502,!1)}();return a}function Wx(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Kx(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Kx(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Kx(e,"destroy",n)))}}function Kx(n,t,e){const s=Qx(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function Qx(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function or(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function T5(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let Yx=(n,t)=>!1,E5=(n,t,e)=>[],S5=null;function Zx(n){const t=n.parentNode||n.host;return t===S5?null:t}(qx()||typeof Element<"u")&&(Q0e()?(S5=(()=>document.documentElement)(),Yx=(n,t)=>{for(;t;){if(t===n)return!0;t=Zx(t)}return!1}):Yx=(n,t)=>n.contains(t),E5=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let El=null,x5=!1;const D5=Yx,A5=E5;let k5=(()=>{class n{validateStyleProperty(e){return function Z0e(n){El||(El=function J0e(){return typeof document<"u"?document.body:null}()||{},x5=!!El.style&&"WebkitAppearance"in El.style);let t=!0;return El.style&&!function Y0e(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in El.style,!t&&x5&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in El.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return D5(e,i)}getParentElement(e){return Zx(e)}query(e,i,r){return A5(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new uh(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),Jx=(()=>{class n{}return n.NOOP=new k5,n})();const Xx="ng-enter",By="ng-leave",Uy="ng-trigger",Hy=".ng-trigger",R5="ng-animating",eD=".ng-animating";function fo(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:tD(parseFloat(t[1]),t[2])}function tD(n,t){return"s"===t?1e3*n:n}function zy(n,t,e){return n.hasOwnProperty("duration")?n:function tCe(n,t,e){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(C5()),{duration:0,delay:0,easing:""};r=tD(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=tD(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function m0e(){return new V(3100,!1)}()),a=!0),s<0&&(t.push(function g0e(){return new V(3101,!1)}()),a=!0),a&&t.splice(l,0,C5())}return{duration:r,delay:s,easing:o}}(n,t,e)}function lf(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function P5(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function fa(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function F5(n,t,e){return e?t+":"+e+";":""}function L5(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=F5(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=F5(0,sCe(e),n.style[e]));n.setAttribute("style",t)}function ws(n,t,e){n.style&&(t.forEach((i,r)=>{const s=iD(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),qx()&&L5(n))}function Sl(n,t){n.style&&(t.forEach((e,i)=>{const r=iD(i);n.style[r]=""}),qx()&&L5(n))}function cf(n){return Array.isArray(n)?1==n.length?n[0]:cL(n):n}const nD=new RegExp("{{\\s*(.+?)\\s*}}","g");function N5(n){let t=[];if("string"==typeof n){let e;for(;e=nD.exec(n);)t.push(e[1]);nD.lastIndex=0}return t}function uf(n,t,e){const i=n.toString(),r=i.replace(nD,(s,o)=>{let a=t[o];return null==a&&(e.push(function y0e(n){return new V(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function $y(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const rCe=/-+([a-z0-9])/g;function iD(n){return n.replace(rCe,(...t)=>t[1].toUpperCase())}function sCe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ar(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function v0e(n){return new V(3004,!1)}()}}function V5(n,t){return window.getComputedStyle(n)[t]}function dCe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function hCe(n,t,e){if(":"==n[0]){const l=function pCe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function P0e(n){return new V(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function R0e(n){return new V(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(B5(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&t.push(B5(o,r))}(i,e,t)):e.push(n),e}const Wy=new Set(["true","1"]),Ky=new Set(["false","0"]);function B5(n,t){const e=Wy.has(n)||Ky.has(n),i=Wy.has(t)||Ky.has(t);return(r,s)=>{let o="*"==n||n==r,a="*"==t||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?Wy.has(n):Ky.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?Wy.has(t):Ky.has(t)),o&&a}}const fCe=new RegExp("s*:selfs*,?","g");function rD(n,t,e,i){return new mCe(n).build(t,e,i)}class mCe{constructor(t){this._driver=t}build(t,e,i){const r=new yCe(e);return this._resetContextStyleTimingState(r),ar(this,cf(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function w0e(){return new V(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function C0e(){return new V(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{N5(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&($y(s.values()),e.errors.push(function I0e(n,t){return new V(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ar(this,cf(t.animation),e);return{type:1,matchers:dCe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:xl(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ar(this,i,e)),options:xl(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const a=ar(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:xl(t.options)}}visitAnimate(t,e){const i=function bCe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return sD(zy(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=sD(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=zy(e,t);return sD(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:bt({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=bt(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===js?i.push(a):e.errors.push(new V(3002,!1)):i.push(P5(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(function E0e(n,t,e,i,r){return new V(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),e.options&&function iCe(n,t,e){const i=t.params||{},r=N5(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function _0e(n){return new V(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function S0e(){return new V(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=t.steps.map(D=>{const M=this._makeStyleAst(D,e);let A=null!=M.offset?M.offset:function vCe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(M.styles),O=0;return null!=A&&(s++,O=M.offset=A),l=l||O<0||O>1,a=a||O<c,c=O,o.push(O),M});l&&e.errors.push(function x0e(){return new V(3012,!1)}()),a&&e.errors.push(function D0e(){return new V(3200,!1)}());const d=t.steps.length;let h=0;s>0&&s<d?e.errors.push(function A0e(){return new V(3202,!1)}()):0==s&&(h=1/(d-1));const g=d-1,b=e.currentTime,T=e.currentAnimateTimings,E=T.duration;return u.forEach((D,M)=>{const A=h>0?M==g?1:h*M:o[M],O=A*E;e.currentTime=b+T.delay+O,T.duration=O,this._validateStyleAst(D,e),D.offset=A,i.styles.push(D)}),i}visitReference(t,e){return{type:8,animation:ar(this,cf(t.animation),e),options:xl(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:xl(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:xl(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function gCe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(fCe,"")),n=n.replace(/@\*/g,Hy).replace(/@\w+/g,e=>Hy+"-"+e.slice(1)).replace(/:animating/g,eD),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,or(e.collectedStyles,e.currentQuerySelector,new Map);const a=ar(this,cf(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:xl(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function k0e(){return new V(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:zy(t.timings,e.errors,!0);return{type:12,animation:ar(this,cf(t.animation),e),timings:i,options:null}}}class yCe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xl(n){return n?(n=lf(n)).params&&(n.params=function _Ce(n){return n?lf(n):null}(n.params)):n={},n}function sD(n,t,e){return{duration:n,delay:t,easing:e}}function oD(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Qy{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ICe=new RegExp(":enter","g"),ECe=new RegExp(":leave","g");function aD(n,t,e,i,r,s=new Map,o=new Map,a,l,c=[]){return(new SCe).buildKeyframes(n,t,e,i,r,s,o,a,l,c)}class SCe{buildKeyframes(t,e,i,r,s,o,a,l,c,u=[]){c=c||new Qy;const d=new lD(t,e,c,r,s,u,[]);d.options=l;const h=l.delay?fo(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),ar(this,i,d);const g=d.timelines.filter(b=>b.containsAnimation());if(g.length&&a.size){let b;for(let T=g.length-1;T>=0;T--){const E=g[T];if(E.element===e){b=E;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,d.errors,l)}return g.length?g.map(b=>b.buildKeyframes()):[oD(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:fo(uf(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?fo(i.duration):null,a=null!=i.delay?fo(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),ar(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Yy);const o=fo(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>ar(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?fo(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),ar(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return zy(e.params?uf(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?fo(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Yy);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),ar(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;ar(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Yy={};class lD{constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Yy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Zy(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=fo(i.duration)),null!=i.delay&&(r.delay=fo(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=uf(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new lD(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Yy,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new xCe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(ICe,"."+this._enterClassName)).replace(ECe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function M0e(n){return new V(3014,!1)}()),a}}class Zy{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Zy(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||js),this._currentKeyframe.set(e,js);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function DCe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,js)}else fa(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=uf(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??js),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=fa(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?t.add(d):u===js&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const s=t.size?$y(t.values()):[],o=e.size?$y(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return oD(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class xCe extends Zy{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=fa(t[0]);l.set("offset",0),s.push(l);const c=fa(t[0]);c.set("offset",z5(a)),s.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=fa(t[d]);const g=h.get("offset");h.set("offset",z5((e+g*i)/o)),s.push(h)}i=o,e=0,r="",t=s}return oD(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function z5(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class cD{}const ACe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class kCe extends cD{normalizePropertyName(t,e){return iD(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(ACe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function b0e(n,t){return new V(3005,!1)}())}return o+s}}function $5(n,t,e,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const uD={};class j5{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function MCe(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||uD,b=this.buildStyles(i,a&&a.params||uD,d),T=l&&l.params||uD,E=this.buildStyles(r,T,d),D=new Set,M=new Map,A=new Map,O="void"===r,W={params:RCe(T,h),delay:this.ast.options?.delay},K=u?[]:aD(t,e,this.ast.animation,s,o,b,E,W,c,d);let be=0;if(K.forEach(Xe=>{be=Math.max(Xe.duration+Xe.delay,be)}),d.length)return $5(e,this._triggerName,i,r,O,b,E,[],[],M,A,be,d);K.forEach(Xe=>{const zt=Xe.element,Bu=or(M,zt,new Set);Xe.preStyleProps.forEach(Yr=>Bu.add(Yr));const mo=or(A,zt,new Set);Xe.postStyleProps.forEach(Yr=>mo.add(Yr)),zt!==e&&D.add(zt)});const Ve=$y(D.values());return $5(e,this._triggerName,i,r,O,b,E,K,Ve,M,A,be)}}function RCe(n,t){const e=lf(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class PCe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=lf(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=uf(o,r,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(l,o)})}),i}}class FCe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new PCe(r.style,r.options&&r.options.params||{},i))}),G5(this.states,"true","1"),G5(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new j5(t,r,this.states))}),this.fallbackTransition=function LCe(n,t,e){return new j5(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function G5(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const NCe=new Qy;class VCe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=rD(this._driver,e,i,[]);if(i.length)throw function V0e(n){return new V(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=I5(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=aD(this._driver,e,s,Xx,By,new Map,new Map,i,NCe,r),o.forEach(u=>{const d=or(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function B0e(){return new V(3300,!1)}()),o=[]),r.length)throw function U0e(n){return new V(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,g)=>{u.set(g,this._driver.computeStyle(d,g,js))})});const c=pa(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function H0e(n){return new V(3301,!1)}();return e}listen(t,e,i,r){const s=Qx(e,"","","");return Wx(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const q5="ng-animate-queued",dD="ng-animate-disabled",$Ce=[],W5={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jCe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ir="__ng_removed";class hD{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function KCe(n){return n??null}(i?t.value:t),i){const s=lf(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const df="void",pD=new hD(df);class GCe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Tr(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function z0e(n,t){return new V(3302,!1)}();if(null==i||0==i.length)throw function $0e(n){return new V(3303,!1)}();if(!function QCe(n){return"start"==n||"done"==n}(i))throw function j0e(n,t){return new V(3400,!1)}();const s=or(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const a=or(this._engine.statesByElement,t,new Map);return a.has(e)||(Tr(t,Uy),Tr(t,Uy+"-"+e),a.set(e,pD)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function G0e(n){return new V(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new fD(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Tr(t,Uy),Tr(t,Uy+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new hD(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=pD),c.value!==df&&l.value===c.value){if(!function JCe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,c.params)){const T=[],E=s.matchStyles(l.value,l.params,T),D=s.matchStyles(c.value,c.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{Sl(t,E),ws(t,D)})}return}const h=or(this._engine.playersByElement,t,[]);h.forEach(T=>{T.namespaceId==this.id&&T.triggerName==e&&T.queued&&T.destroy()});let g=s.matchTransition(l.value,c.value,t,c.params),b=!1;if(!g){if(!r)return;g=s.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:g,fromState:l,toState:c,player:o,isFallbackTransition:b}),b||(Tr(t,q5),o.onStart(()=>{Vu(t,q5)})),o.onDone(()=>{let T=this.players.indexOf(o);T>=0&&this.players.splice(T,1);const E=this._engine.playersByElement.get(t);if(E){let D=E.indexOf(o);D>=0&&E.splice(D,1)}}),this.players.push(o),h.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Hy,!0);i.forEach(r=>{if(r[Ir])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,df,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&pa(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||pD,u=new hD(df),d=new fD(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Ir];(!s||s===W5)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Tr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=Qx(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,Wx(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class qCe{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new GCe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(Jy(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Jy(e))return;const s=e[Ir];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Tr(t,dD)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Vu(t,dD))}removeNode(t,e,i,r){if(Jy(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Ir]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return Jy(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Hy,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,eD,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return pa(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ir];if(e&&e.setForRemoval){if(t[Ir]=W5,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(dD)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Tr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?pa(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function q0e(n){return new V(3402,!1)}()}_flushAnimations(t,e){const i=new Qy,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(oe=>{u.add(oe);const Ce=this.driver.query(oe,".ng-animate-queued",!0);for(let xe=0;xe<Ce.length;xe++)u.add(Ce[xe])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),g=Y5(h,this.collectedEnterElements),b=new Map;let T=0;g.forEach((oe,Ce)=>{const xe=Xx+T++;b.set(Ce,xe),oe.forEach(ot=>Tr(ot,xe))});const E=[],D=new Set,M=new Set;for(let oe=0;oe<this.collectedLeaveElements.length;oe++){const Ce=this.collectedLeaveElements[oe],xe=Ce[Ir];xe&&xe.setForRemoval&&(E.push(Ce),D.add(Ce),xe.hasAnimation?this.driver.query(Ce,".ng-star-inserted",!0).forEach(ot=>D.add(ot)):M.add(Ce))}const A=new Map,O=Y5(h,Array.from(D));O.forEach((oe,Ce)=>{const xe=By+T++;A.set(Ce,xe),oe.forEach(ot=>Tr(ot,xe))}),t.push(()=>{g.forEach((oe,Ce)=>{const xe=b.get(Ce);oe.forEach(ot=>Vu(ot,xe))}),O.forEach((oe,Ce)=>{const xe=A.get(Ce);oe.forEach(ot=>Vu(ot,xe))}),E.forEach(oe=>{this.processLeaveNode(oe)})});const W=[],K=[];for(let oe=this._namespaceList.length-1;oe>=0;oe--)this._namespaceList[oe].drainQueuedTransitions(e).forEach(xe=>{const ot=xe.player,$n=xe.element;if(W.push(ot),this.collectedEnterElements.length){const _i=$n[Ir];if(_i&&_i.setForMove){if(_i.previousTriggersValues&&_i.previousTriggersValues.has(xe.triggerName)){const Dl=_i.previousTriggersValues.get(xe.triggerName),Er=this.statesByElement.get(xe.element);if(Er&&Er.has(xe.triggerName)){const sv=Er.get(xe.triggerName);sv.value=Dl,Er.set(xe.triggerName,sv)}}return void ot.destroy()}}const Cs=!d||!this.driver.containsElement(d,$n),lr=A.get($n),ma=b.get($n),Yt=this._buildInstruction(xe,i,ma,lr,Cs);if(Yt.errors&&Yt.errors.length)return void K.push(Yt);if(Cs)return ot.onStart(()=>Sl($n,Yt.fromStyles)),ot.onDestroy(()=>ws($n,Yt.toStyles)),void r.push(ot);if(xe.isFallbackTransition)return ot.onStart(()=>Sl($n,Yt.fromStyles)),ot.onDestroy(()=>ws($n,Yt.toStyles)),void r.push(ot);const z$=[];Yt.timelines.forEach(_i=>{_i.stretchStartingKeyframe=!0,this.disabledNodes.has(_i.element)||z$.push(_i)}),Yt.timelines=z$,i.append($n,Yt.timelines),o.push({instruction:Yt,player:ot,element:$n}),Yt.queriedElements.forEach(_i=>or(a,_i,[]).push(ot)),Yt.preStyleProps.forEach((_i,Dl)=>{if(_i.size){let Er=l.get(Dl);Er||l.set(Dl,Er=new Set),_i.forEach((sv,vD)=>Er.add(vD))}}),Yt.postStyleProps.forEach((_i,Dl)=>{let Er=c.get(Dl);Er||c.set(Dl,Er=new Set),_i.forEach((sv,vD)=>Er.add(vD))})});if(K.length){const oe=[];K.forEach(Ce=>{oe.push(function W0e(n,t){return new V(3505,!1)}())}),W.forEach(Ce=>Ce.destroy()),this.reportError(oe)}const be=new Map,Ve=new Map;o.forEach(oe=>{const Ce=oe.element;i.has(Ce)&&(Ve.set(Ce,Ce),this._beforeAnimationBuild(oe.player.namespaceId,oe.instruction,be))}),r.forEach(oe=>{const Ce=oe.element;this._getPreviousPlayers(Ce,!1,oe.namespaceId,oe.triggerName,null).forEach(ot=>{or(be,Ce,[]).push(ot),ot.destroy()})});const Xe=E.filter(oe=>J5(oe,l,c)),zt=new Map;Q5(zt,this.driver,M,c,js).forEach(oe=>{J5(oe,l,c)&&Xe.push(oe)});const mo=new Map;g.forEach((oe,Ce)=>{Q5(mo,this.driver,new Set(oe),l,"!")}),Xe.forEach(oe=>{const Ce=zt.get(oe),xe=mo.get(oe);zt.set(oe,new Map([...Array.from(Ce?.entries()??[]),...Array.from(xe?.entries()??[])]))});const Yr=[],Uu=[],Hu={};o.forEach(oe=>{const{element:Ce,player:xe,instruction:ot}=oe;if(i.has(Ce)){if(u.has(Ce))return xe.onDestroy(()=>ws(Ce,ot.toStyles)),xe.disabled=!0,xe.overrideTotalTime(ot.totalTime),void r.push(xe);let $n=Hu;if(Ve.size>1){let lr=Ce;const ma=[];for(;lr=lr.parentNode;){const Yt=Ve.get(lr);if(Yt){$n=Yt;break}ma.push(lr)}ma.forEach(Yt=>Ve.set(Yt,$n))}const Cs=this._buildAnimation(xe.namespaceId,ot,be,s,mo,zt);if(xe.setRealPlayer(Cs),$n===Hu)Yr.push(xe);else{const lr=this.playersByElement.get($n);lr&&lr.length&&(xe.parentPlayer=pa(lr)),r.push(xe)}}else Sl(Ce,ot.fromStyles),xe.onDestroy(()=>ws(Ce,ot.toStyles)),Uu.push(xe),u.has(Ce)&&r.push(xe)}),Uu.forEach(oe=>{const Ce=s.get(oe.element);if(Ce&&Ce.length){const xe=pa(Ce);oe.setRealPlayer(xe)}}),r.forEach(oe=>{oe.parentPlayer?oe.syncPlayerEvents(oe.parentPlayer):oe.destroy()});for(let oe=0;oe<E.length;oe++){const Ce=E[oe],xe=Ce[Ir];if(Vu(Ce,By),xe&&xe.hasAnimation)continue;let ot=[];if(a.size){let Cs=a.get(Ce);Cs&&Cs.length&&ot.push(...Cs);let lr=this.driver.query(Ce,eD,!0);for(let ma=0;ma<lr.length;ma++){let Yt=a.get(lr[ma]);Yt&&Yt.length&&ot.push(...Yt)}}const $n=ot.filter(Cs=>!Cs.destroyed);$n.length?YCe(this,Ce,$n):this.processLeaveNode(Ce)}return E.length=0,Yr.forEach(oe=>{this.players.push(oe),oe.onDone(()=>{oe.destroy();const Ce=this.players.indexOf(oe);this.players.splice(Ce,1)}),oe.play()}),Yr}elementContainsData(t,e){let i=!1;const r=e[Ir];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==df;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==s,d=or(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(g=>{const b=g.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),g.destroy(),d.push(g)})}Sl(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(b=>{const T=b.element;u.add(T);const E=T[Ir];if(E&&E.removedBeforeQueried)return new uh(b.duration,b.delay);const D=T!==l,M=function ZCe(n){const t=[];return Z5(n,t),t}((i.get(T)||$Ce).map(be=>be.getRealPlayer())).filter(be=>!!be.element&&be.element===T),A=s.get(T),O=o.get(T),W=I5(0,this._normalizer,0,b.keyframes,A,O),K=this._buildPlayer(b,W,M);if(b.subTimeline&&r&&d.add(T),D){const be=new fD(t,a,T);be.setRealPlayer(K),c.push(be)}return K});c.forEach(b=>{or(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function WCe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,b.element,b))}),u.forEach(b=>Tr(b,R5));const g=pa(h);return g.onDestroy(()=>{u.forEach(b=>Vu(b,R5)),ws(l,e.toStyles)}),d.forEach(b=>{or(r,b,[]).push(g)}),g}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new uh(t.duration,t.delay)}}class fD{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new uh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>Wx(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){or(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Jy(n){return n&&1===n.nodeType}function K5(n,t){const e=n.style.display;return n.style.display=t??"none",e}function Q5(n,t,e,i,r){const s=[];e.forEach(l=>s.push(K5(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[Ir]=jCe,o.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>K5(l,s[a++])),o}function Y5(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function Tr(n,t){n.classList?.add(t)}function Vu(n,t){n.classList?.remove(t)}function YCe(n,t,e){pa(e).onDone(()=>n.processLeaveNode(t))}function Z5(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof dL?Z5(i.players,t):t.push(i)}}function J5(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Xy{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new qCe(t,e,i),this._timelineEngine=new VCe(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=rD(this._driver,s,l,[]);if(l.length)throw function L0e(n,t){return new V(3404,!1)}();a=function OCe(n,t,e){return new FCe(n,t,e)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=T5(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=T5(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let eIe=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ws(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ws(this._element,this._initialStyles),this._endStyles&&(ws(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Sl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Sl(this._element,this._endStyles),this._endStyles=null),ws(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function mD(n){let t=null;return n.forEach((e,i)=>{(function tIe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class X5{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:V5(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class nIe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return D5(t,e)}getParentElement(t){return Zx(t)}query(t,e,i){return A5(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(g=>g instanceof X5);(function oCe(n,t){return 0===n||0===t})(i,r)&&u.forEach(g=>{g.currentSnapshot.forEach((b,T)=>c.set(T,b))});let d=function nCe(n){return n.length?n[0]instanceof Map?n:n.map(t=>P5(t)):[]}(e).map(g=>fa(g));d=function aCe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,V5(n,a)))}}return t}(t,d,c);const h=function XCe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=mD(t[0]),t.length>1&&(i=mD(t[t.length-1]))):t instanceof Map&&(e=mD(t)),e||i?new eIe(n,e,i):null}(t,d);return new X5(t,d,l,h)}}let iIe=(()=>{class n extends lL{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Dr.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?cL(e):e;return e$(this._renderer,null,i,"register",[r]),new rIe(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(ee(_d),ee(cn))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class rIe extends class Jee{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new sIe(this._id,t,e||{},this._renderer)}}class sIe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return e$(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function e$(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const t$="@.disabled";let oIe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new n$("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,e,u.name,u)};return i.data.animation.forEach(l),new aIe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(ee(_d),ee(Xy),ee(st))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class n${constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==t$?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class aIe extends n${constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==t$?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function lIe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function cIe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let uIe=(()=>{class n extends Xy{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(ee(cn),ee(Jx),ee(cD),ee(Fd))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const i$=[{provide:lL,useClass:iIe},{provide:cD,useFactory:function dIe(){return new kCe}},{provide:Xy,useClass:uIe},{provide:_d,useFactory:function hIe(n,t,e){return new oIe(n,t,e)},deps:[qm,Xy,st]}],gD=[{provide:Jx,useFactory:()=>new nIe},{provide:rO,useValue:"BrowserAnimations"},...i$],r$=[{provide:Jx,useClass:k5},{provide:rO,useValue:"NoopAnimations"},...i$];let _D=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?r$:gD}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({providers:gD,imports:[C2]}),n})(),s$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,nt]}),n})(),o$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,nt]}),n})(),a$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee]}),n})(),l$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,nt]}),n})();const bIe=["input"];function wIe(n,t){if(1&n){const e=N();_(0,"i",3),S("click",function(){return C(e),I(f().clear())}),y()}}const CIe={provide:kt,useExisting:Fe(()=>c$),multi:!0};let c$=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.type="text",this.slotChar="_",this.autoClear=!0,this.showClear=!1,this.characterPattern="[A-Za-z]",this.onComplete=new R,this.onFocus=new R,this.onBlur=new R,this.onInput=new R,this.onKeydown=new R,this.onClear=new R,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){let e=k.getUserAgent();this.androidChrome=/chrome/i.test(e)&&/android/i.test(e),this.initMask()}get mask(){return this._mask}set mask(e){this._mask=e,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let e=this.mask.split("");for(let i=0;i<e.length;i++){let r=e[i];"?"==r?(this.len--,this.partialPosition=i):this.defs[r]?(this.tests.push(new RegExp(this.defs[r])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1),i<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let i=0;i<e.length;i++){let r=e[i];"?"!=r&&this.buffer.push(this.defs[r]?this.getPlaceholder(i):r)}this.defaultBuffer=this.buffer.join("")}writeValue(e){this.value=e,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.value=null==this.value||null==this.value?"":this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}caret(e,i){let r,s,o;if(this.inputViewChild.nativeElement.offsetParent&&this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement){if("number"!=typeof e)return this.inputViewChild.nativeElement.setSelectionRange?(s=this.inputViewChild.nativeElement.selectionStart,o=this.inputViewChild.nativeElement.selectionEnd):document.selection&&document.selection.createRange&&(r=document.selection.createRange(),s=0-r.duplicate().moveStart("character",-1e5),o=s+r.text.length),{begin:s,end:o};s=e,o="number"==typeof i?i:s,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(s,o):this.inputViewChild.nativeElement.createTextRange&&(r=this.inputViewChild.nativeElement.createTextRange(),r.collapse(!0),r.moveEnd("character",o),r.moveStart("character",s),r.select())}}isCompleted(){for(let i=this.firstNonMaskPos;i<=this.lastRequiredNonMaskPos;i++)if(this.tests[i]&&this.buffer[i]===this.getPlaceholder(i))return!1;return!0}getPlaceholder(e){return this.slotChar.charAt(e<this.slotChar.length?e:0)}seekNext(e){for(;++e<this.len&&!this.tests[e];);return e}seekPrev(e){for(;--e>=0&&!this.tests[e];);return e}shiftL(e,i){let r,s;if(!(e<0)){for(r=e,s=this.seekNext(i);r<this.len;r++)if(this.tests[r]){if(!(s<this.len&&this.tests[r].test(this.buffer[s])))break;this.buffer[r]=this.buffer[s],this.buffer[s]=this.getPlaceholder(s),s=this.seekNext(s)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,e))}}shiftR(e){let i,r,s,o;for(i=e,r=this.getPlaceholder(e);i<this.len;i++)if(this.tests[i]){if(s=this.seekNext(i),o=this.buffer[i],this.buffer[i]=r,!(s<this.len&&this.tests[s].test(o)))break;r=o}}handleAndroidInput(e){var i=this.inputViewChild.nativeElement.value,r=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>i.length){for(this.checkVal(!0);r.begin>0&&!this.tests[r.begin-1];)r.begin--;if(0===r.begin)for(;r.begin<this.firstNonMaskPos&&!this.tests[r.begin];)r.begin++;setTimeout(()=>{this.caret(r.begin,r.begin),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);r.begin<this.len&&!this.tests[r.begin];)r.begin++;setTimeout(()=>{this.caret(r.begin,r.begin),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(e){if(this.focused=!1,this.onModelTouched(),this.checkVal(),this.updateFilledState(),this.onBlur.emit(e),this.inputViewChild.nativeElement.value!=this.focusText||this.inputViewChild.nativeElement.value!=this.value){this.updateModel(e);let i=document.createEvent("HTMLEvents");i.initEvent("change",!0,!1),this.inputViewChild.nativeElement.dispatchEvent(i)}}onInputKeydown(e){if(this.readonly)return;let r,s,o,i=e.which||e.keyCode,a=/iphone/i.test(k.getUserAgent());this.oldVal=this.inputViewChild.nativeElement.value,this.onKeydown.emit(e),8===i||46===i||a&&127===i?(r=this.caret(),s=r.begin,o=r.end,o-s==0&&(s=46!==i?this.seekPrev(s):o=this.seekNext(s-1),o=46===i?this.seekNext(o):o),this.clearBuffer(s,o),this.shiftL(s,o-1),this.updateModel(e),this.onInput.emit(e),e.preventDefault()):13===i?(this.onInputBlur(e),this.updateModel(e)):27===i&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(e),e.preventDefault())}onKeyPress(e){if(!this.readonly){var s,o,a,l,i=e.which||e.keyCode,r=this.caret();e.ctrlKey||e.altKey||e.metaKey||i<32||i>34&&i<41||(i&&13!==i&&(r.end-r.begin!=0&&(this.clearBuffer(r.begin,r.end),this.shiftL(r.begin,r.end-1)),(s=this.seekNext(r.begin-1))<this.len&&(o=String.fromCharCode(i),this.tests[s].test(o)&&(this.shiftR(s),this.buffer[s]=o,this.writeBuffer(),a=this.seekNext(s),/android/i.test(k.getUserAgent())?setTimeout(()=>{this.caret(a)},0):this.caret(a),r.begin<=this.lastRequiredNonMaskPos&&(l=this.isCompleted()),this.onInput.emit(e))),e.preventDefault()),this.updateModel(e),this.updateFilledState(),l&&this.onComplete.emit())}}clearBuffer(e,i){let r;for(r=e;r<i&&r<this.len;r++)this.tests[r]&&(this.buffer[r]=this.getPlaceholder(r))}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(e){let s,o,a,i=this.inputViewChild.nativeElement.value,r=-1;for(s=0,a=0;s<this.len;s++)if(this.tests[s]){for(this.buffer[s]=this.getPlaceholder(s);a++<i.length;)if(o=i.charAt(a-1),this.tests[s].test(o)){this.buffer[s]=o,r=s;break}if(a>i.length){this.clearBuffer(s+1,this.len);break}}else this.buffer[s]===i.charAt(a)&&a++,s<this.partialPosition&&(r=s);return e?this.writeBuffer():r+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild.nativeElement.value.substring(0,r+1)),this.partialPosition?s:this.firstNonMaskPos}onInputFocus(e){if(this.readonly)return;let i;this.focused=!0,clearTimeout(this.caretTimeoutId),this.focusText=this.inputViewChild.nativeElement.value,i=this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),i==this.mask.replace("?","").length?this.caret(0,i):this.caret(i))},10),this.onFocus.emit(e)}onInputChange(e){this.androidChrome?this.handleAndroidInput(e):this.handleInputChange(e),this.onInput.emit(e)}handleInputChange(e){this.readonly||setTimeout(()=>{var i=this.checkVal(!0);this.caret(i),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let e=[];for(let i=0;i<this.buffer.length;i++){let r=this.buffer[i];this.tests[i]&&r!=this.getPlaceholder(i)&&e.push(r)}return e.join("")}updateModel(e){const i=this.unmask?this.getUnmaskedValue():e.target.value;(null!==i||void 0!==i)&&(this.value=i,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}focus(){this.inputViewChild.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(tt))},n.\u0275cmp=Ae({type:n,selectors:[["p-inputMask"]],viewQuery:function(e,i){if(1&e&&ge(bIe,7),2&e){let r;Q(r=Y())&&(i.inputViewChild=r.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(e,i){2&e&&ai("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)("p-inputmask-clearable",i.showClear&&!i.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:"autoClear",showClear:"showClear",style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",disabled:"disabled",readonly:"readonly",unmask:"unmask",name:"name",required:"required",characterPattern:"characterPattern",autoFocus:"autoFocus",autocomplete:"autocomplete",mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[Ue([CIe])],decls:3,vars:18,consts:[["pInputText","","pAutoFocus","",1,"p-inputmask",3,"ngStyle","ngClass","disabled","readonly","autofocus","focus","blur","keydown","keypress","input","paste"],["input",""],["class","p-inputmask-clear-icon pi pi-times",3,"click",4,"ngIf"],[1,"p-inputmask-clear-icon","pi","pi-times",3,"click"]],template:function(e,i){1&e&&(_(0,"input",0,1),S("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)})("keydown",function(s){return i.onInputKeydown(s)})("keypress",function(s){return i.onKeyPress(s)})("input",function(s){return i.onInputChange(s)})("paste",function(s){return i.handleInputChange(s)}),y(),v(2,wIe,1,0,"i",2)),2&e&&(p("ngStyle",i.style)("ngClass",i.styleClass)("disabled",i.disabled)("readonly",i.readonly)("autofocus",i.autoFocus),ie("id",i.inputId)("type",i.type)("name",i.name)("placeholder",i.placeholder)("title",i.title)("size",i.size)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-required",i.ariaRequired)("required",i.required),m(2),p("ngIf",null!=i.value&&i.filled&&i.showClear&&!i.disabled))},dependencies:[Ze,qe,at,Fu,Bx],styles:[".p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),u$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,po,Oy]}),n})();const IIe=["container"],TIe=["in"],EIe=["multiIn"],SIe=["multiContainer"],xIe=["ddBtn"],DIe=["items"],AIe=["scroller"],kIe=function(n,t){return{"p-autocomplete-dd-input":n,"p-disabled":t}};function MIe(n,t){if(1&n){const e=N();_(0,"input",8,9),S("click",function(r){return C(e),I(f().onInputClick(r))})("input",function(r){return C(e),I(f().onInput(r))})("keydown",function(r){return C(e),I(f().onKeydown(r))})("keyup",function(r){return C(e),I(f().onKeyup(r))})("focus",function(r){return C(e),I(f().onInputFocus(r))})("blur",function(r){return C(e),I(f().onInputBlur(r))})("change",function(r){return C(e),I(f().onInputChange(r))})("paste",function(r){return C(e),I(f().onInputPaste(r))}),y()}if(2&n){const e=f();ce(e.inputStyleClass),p("autofocus",e.autofocus)("ngStyle",e.inputStyle)("autocomplete",e.autocomplete)("ngClass",ye(20,kIe,e.dropdown,e.disabled))("value",e.inputFieldValue)("readonly",e.readonly)("disabled",e.disabled),ie("type",e.type)("id",e.inputId)("required",e.required)("name",e.name)("placeholder",e.placeholder)("size",e.size)("maxlength",e.maxlength)("tabindex",e.tabindex)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)}}function RIe(n,t){if(1&n){const e=N();_(0,"i",10),S("click",function(){return C(e),I(f().clear())}),y()}}function PIe(n,t){if(1&n){const e=N();_(0,"i",10),S("click",function(){return C(e),I(f().clear())}),y()}}function OIe(n,t){1&n&&$(0)}function FIe(n,t){if(1&n&&(_(0,"span",22),L(1),y()),2&n){const e=f().$implicit,i=f(2);m(1),se(i.resolveFieldData(e))}}function LIe(n,t){if(1&n){const e=N();_(0,"span",23),S("click",function(){C(e),f();const r=Ge(1);return I(f(2).removeItem(r))}),y()}}const tv=function(n){return{$implicit:n}};function NIe(n,t){if(1&n&&(_(0,"li",17,18),v(2,OIe,1,0,"ng-container",19),v(3,FIe,2,1,"span",20),v(4,LIe,1,0,"span",21),y()),2&n){const e=t.$implicit,i=f(2);m(2),p("ngTemplateOutlet",i.selectedItemTemplate)("ngTemplateOutletContext",B(4,tv,e)),m(1),p("ngIf",!i.selectedItemTemplate),m(1),p("ngIf",!i.disabled&&!i.readonly)}}const VIe=function(n,t){return{"p-disabled":n,"p-focus":t}};function BIe(n,t){if(1&n){const e=N();_(0,"ul",11,12),S("click",function(){return C(e),I(Ge(5).focus())}),v(2,NIe,5,6,"li",13),_(3,"li",14)(4,"input",15,16),S("input",function(r){return C(e),I(f().onInput(r))})("click",function(r){return C(e),I(f().onInputClick(r))})("keydown",function(r){return C(e),I(f().onKeydown(r))})("keyup",function(r){return C(e),I(f().onKeyup(r))})("focus",function(r){return C(e),I(f().onInputFocus(r))})("blur",function(r){return C(e),I(f().onInputBlur(r))})("change",function(r){return C(e),I(f().onInputChange(r))})("paste",function(r){return C(e),I(f().onInputPaste(r))}),y()()()}if(2&n){const e=f();p("ngClass",ye(20,VIe,e.disabled,e.focus)),m(2),p("ngForOf",e.value),m(2),ce(e.inputStyleClass),p("autofocus",e.autofocus)("disabled",e.disabled)("readonly",e.readonly)("autocomplete",e.autocomplete)("ngStyle",e.inputStyle),ie("type",e.type)("id",e.inputId)("placeholder",e.value&&e.value.length?null:e.placeholder)("tabindex",e.tabindex)("maxlength",e.maxlength)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)("aria-controls",e.listId)("aria-expanded",e.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function UIe(n,t){1&n&&j(0,"i",24)}function HIe(n,t){if(1&n){const e=N();_(0,"button",25,26),S("click",function(r){return C(e),I(f().handleDropdownClick(r))}),y()}if(2&n){const e=f();p("icon",e.dropdownIcon)("disabled",e.disabled),ie("aria-label",e.dropdownAriaLabel)("tabindex",e.tabindex)}}function zIe(n,t){1&n&&$(0)}function $Ie(n,t){1&n&&$(0)}const d$=function(n,t){return{$implicit:n,options:t}};function jIe(n,t){if(1&n&&v(0,$Ie,1,0,"ng-container",19),2&n){const e=t.$implicit,i=t.options;f(2),p("ngTemplateOutlet",Ge(6))("ngTemplateOutletContext",ye(2,d$,e,i))}}function GIe(n,t){1&n&&$(0)}const qIe=function(n){return{options:n}};function WIe(n,t){if(1&n&&v(0,GIe,1,0,"ng-container",19),2&n){const e=t.options;p("ngTemplateOutlet",f(4).loaderTemplate)("ngTemplateOutletContext",B(2,qIe,e))}}function KIe(n,t){1&n&&(ae(0),v(1,WIe,1,4,"ng-template",36),le())}const nv=function(n){return{height:n}};function QIe(n,t){if(1&n){const e=N();_(0,"p-scroller",33,34),S("onLazyLoad",function(r){return C(e),I(f(2).onLazyLoad.emit(r))}),v(2,jIe,1,5,"ng-template",35),v(3,KIe,2,0,"ng-container",31),y()}if(2&n){const e=f(2);Tt(B(8,nv,e.scrollHeight)),p("items",e.suggestions)("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),m(3),p("ngIf",e.loaderTemplate)}}function YIe(n,t){1&n&&$(0)}const ZIe=function(){return{}};function JIe(n,t){if(1&n&&(ae(0),v(1,YIe,1,0,"ng-container",19),le()),2&n){f();const e=Ge(6),i=f();m(1),p("ngTemplateOutlet",e)("ngTemplateOutletContext",ye(3,d$,i.suggestions,en(2,ZIe)))}}function XIe(n,t){if(1&n&&(_(0,"span"),L(1),y()),2&n){const e=f().$implicit,i=f(4);m(1),se(i.getOptionGroupLabel(e)||"empty")}}function eTe(n,t){1&n&&$(0)}function tTe(n,t){1&n&&$(0)}function nTe(n,t){if(1&n&&(_(0,"li",42),v(1,XIe,2,1,"span",31),v(2,eTe,1,0,"ng-container",19),y(),v(3,tTe,1,0,"ng-container",19)),2&n){const e=t.$implicit,i=f(2).options,r=Ge(5),s=f(2);p("ngStyle",B(6,nv,i.itemSize+"px")),m(1),p("ngIf",!s.groupTemplate),m(1),p("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",B(8,tv,e)),m(1),p("ngTemplateOutlet",r)("ngTemplateOutletContext",B(10,tv,s.getOptionGroupChildren(e)))}}function iTe(n,t){if(1&n&&(ae(0),v(1,nTe,4,12,"ng-template",41),le()),2&n){const e=f().$implicit;m(1),p("ngForOf",e)}}function rTe(n,t){1&n&&$(0)}function sTe(n,t){if(1&n&&(ae(0),v(1,rTe,1,0,"ng-container",19),le()),2&n){const e=f().$implicit,i=Ge(5);m(1),p("ngTemplateOutlet",i)("ngTemplateOutletContext",B(2,tv,e))}}function oTe(n,t){if(1&n&&(_(0,"span"),L(1),y()),2&n){const e=f().$implicit,i=f(4);m(1),se(i.resolveFieldData(e))}}function aTe(n,t){1&n&&$(0)}const lTe=function(n){return{"p-highlight":n}},cTe=function(n,t){return{$implicit:n,index:t}};function uTe(n,t){if(1&n){const e=N();_(0,"li",44),S("click",function(){const s=C(e).$implicit;return I(f(4).selectItem(s))}),v(1,oTe,2,1,"span",31),v(2,aTe,1,0,"ng-container",19),y()}if(2&n){const e=t.$implicit,i=t.index,r=f(2).options,s=f(2);p("ngStyle",B(6,nv,r.itemSize+"px"))("ngClass",B(8,lTe,e===s.highlightOption))("id",s.highlightOption==e?"p-highlighted-option":""),m(1),p("ngIf",!s.itemTemplate),m(1),p("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",ye(10,cTe,e,r.getOptions?r.getOptions(i):i))}}function dTe(n,t){1&n&&v(0,uTe,3,13,"li",43),2&n&&p("ngForOf",t.$implicit)}function hTe(n,t){if(1&n&&(ae(0),L(1),le()),2&n){const e=f(4);m(1),Gt(" ",e.emptyMessageLabel," ")}}function pTe(n,t){1&n&&$(0,null,47)}function fTe(n,t){if(1&n&&(_(0,"li",45),v(1,hTe,2,1,"ng-container",46),v(2,pTe,2,0,"ng-container",29),y()),2&n){const e=f().options,i=f(2);p("ngStyle",B(4,nv,e.itemSize+"px")),m(1),p("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),m(1),p("ngTemplateOutlet",i.emptyTemplate)}}function mTe(n,t){if(1&n&&(_(0,"ul",37,38),v(2,iTe,2,1,"ng-container",31),v(3,sTe,2,4,"ng-container",31),v(4,dTe,1,1,"ng-template",null,39,ln),v(6,fTe,3,6,"li",40),y()),2&n){const e=t.options,i=f(2);Tt(e.contentStyle),p("ngClass",e.contentStyleClass),ie("id",i.listId),m(2),p("ngIf",i.group),m(1),p("ngIf",!i.group),m(3),p("ngIf",i.noResults&&i.showEmptyMessage)}}function gTe(n,t){1&n&&$(0)}const _Te=function(){return["p-autocomplete-panel p-component"]},yTe=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},vTe=function(n){return{value:"visible",params:n}};function bTe(n,t){if(1&n){const e=N();_(0,"div",27,28),S("click",function(r){return C(e),I(f().onOverlayClick(r))})("@overlayAnimation.start",function(r){return C(e),I(f().onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){return C(e),I(f().onOverlayAnimationEnd(r))}),v(2,zIe,1,0,"ng-container",29),v(3,QIe,4,10,"p-scroller",30),v(4,JIe,2,6,"ng-container",31),v(5,mTe,7,7,"ng-template",null,32,ln),v(7,gTe,1,0,"ng-container",29),y()}if(2&n){const e=f();ce(e.panelStyleClass),Or("max-height",e.virtualScroll?"auto":e.scrollHeight),p("ngClass",en(11,_Te))("ngStyle",e.panelStyle)("@overlayAnimation",B(15,vTe,ye(12,yTe,e.showTransitionOptions,e.hideTransitionOptions))),m(2),p("ngTemplateOutlet",e.headerTemplate),m(1),p("ngIf",e.virtualScroll),m(1),p("ngIf",!e.virtualScroll),m(3),p("ngTemplateOutlet",e.footerTemplate)}}const wTe=function(n,t){return{"p-autocomplete p-component":!0,"p-autocomplete-dd":n,"p-autocomplete-multiple":t}},CTe={provide:kt,useExisting:Fe(()=>ITe),multi:!0};let ITe=(()=>{class n{constructor(e,i,r,s,o,a){this.el=e,this.renderer=i,this.cd=r,this.differs=s,this.config=o,this.overlayService=a,this.minLength=1,this.delay=300,this.scrollHeight="200px",this.lazy=!1,this.type="text",this.autoZIndex=!0,this.baseZIndex=0,this.dropdownIcon="pi pi-chevron-down",this.unique=!0,this.completeOnFocus=!1,this.showClear=!1,this.dropdownMode="blank",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autocomplete="off",this.completeMethod=new R,this.onSelect=new R,this.onUnselect=new R,this.onFocus=new R,this.onBlur=new R,this.onDropdownClick=new R,this.onClear=new R,this.onKeyUp=new R,this.onShow=new R,this.onHide=new R,this.onLazyLoad=new R,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.overlayVisible=!1,this.focus=!1,this.inputFieldValue=null,this.inputValue=null,this.differ=s.find([]).create(null),this.listId=Ba()+"_list"}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get suggestions(){return this._suggestions}set suggestions(e){this._suggestions=e,this.handleSuggestionsChange()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlay&&this.overlay.offsetParent&&(setTimeout(()=>{this.overlay&&this.alignOverlay()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(()=>{if(this.overlay&&this.itemsWrapper){let e=k.findSingle(this.overlay,"li.p-highlight");e&&k.scrollInView(this.itemsWrapper,e)}},1),this.highlightOptionChanged=!1)}handleSuggestionsChange(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.showEmptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"loader":this.loaderTemplate=e.template}})}writeValue(e){this.value=e,this.filled=this.value&&""!=this.value,this.updateInputField(),this.cd.markForCheck()}getOptionGroupChildren(e){return this.optionGroupChildren?G.resolveFieldData(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?G.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInput(e){if(!this.inputKeyDown&&k.isIE())return;this.timeout&&clearTimeout(this.timeout);let i=e.target.value;this.inputValue=i,!this.multiple&&!this.forceSelection&&this.onModelChange(i),0===i.length&&!this.multiple&&(this.value=null,this.hide(),this.onClear.emit(e),this.onModelChange(i)),i.length>=this.minLength?this.timeout=setTimeout(()=>{this.search(e,i)},this.delay):this.hide(),this.updateFilledState(),this.inputKeyDown=!1}onInputClick(e){this.documentClickListener&&(this.inputClick=!0)}search(e,i){null!=i&&(this.loading=!0,this.completeMethod.emit({originalEvent:e,query:i}))}selectItem(e,i=!0){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],(!this.isSelected(e)||!this.unique)&&(this.value=[...this.value,e],this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.resolveFieldData(e),this.value=e,this.onModelChange(this.value)),this.onSelect.emit(e),this.updateFilledState(),i&&(this.itemClicked=!0,this.focusInput())}show(){if(this.multiInputEL||this.inputEL){let e=this.multiple?this.multiInputEL.nativeElement.ownerDocument.activeElement==this.multiInputEL.nativeElement:this.inputEL.nativeElement.ownerDocument.activeElement==this.inputEL.nativeElement;!this.overlayVisible&&e&&(this.overlayVisible=!0)}}clear(){this.multiple?this.value=null:(this.inputValue=null,this.inputEL.nativeElement.value=""),this.updateFilledState(),this.onModelChange(this.value),this.onClear.emit()}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,this.itemsWrapper=this.virtualScroll?k.findSingle(this.overlay,".p-scroller"):this.overlay,this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild.nativeElement),this.appendOverlay(),this.autoZIndex&&hn.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.onShow.emit(e);break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(e){"void"===e.toState&&this.autoZIndex&&hn.clear(e.element)}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):k.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=k.getWidth(this.el.nativeElement.children[0])+"px"))}resolveFieldData(e){let i=this.field?G.resolveFieldData(e,this.field):e;return void 0!==i?i:""}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?k.absolutePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):k.relativePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}handleDropdownClick(e){if(this.overlayVisible)this.hide();else{this.focusInput();let i=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(e,""):"current"===this.dropdownMode&&this.search(e,i),this.onDropdownClick.emit({originalEvent:e,query:i})}}focusInput(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(tn.EMPTY_MESSAGE)}removeItem(e){let i=k.index(e),r=this.value[i];this.value=this.value.filter((s,o)=>o!=i),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(r)}onKeydown(e){if(this.overlayVisible)switch(e.which){case 40:if(this.group){let r=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==r){let s=r.itemIndex+1;s<this.getOptionGroupChildren(this.suggestions[r.groupIndex]).length?(this.highlightOption=this.getOptionGroupChildren(this.suggestions[r.groupIndex])[s],this.highlightOptionChanged=!0):this.suggestions[r.groupIndex+1]&&(this.highlightOption=this.getOptionGroupChildren(this.suggestions[r.groupIndex+1])[0],this.highlightOptionChanged=!0)}else this.highlightOption=this.getOptionGroupChildren(this.suggestions[0])[0]}else{let r=this.findOptionIndex(this.highlightOption,this.suggestions);if(-1!=r){var i=r+1;i!=this.suggestions.length&&(this.highlightOption=this.suggestions[i],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0]}e.preventDefault();break;case 38:if(this.group){let r=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==r){let s=r.itemIndex-1;if(s>=0)this.highlightOption=this.getOptionGroupChildren(this.suggestions[r.groupIndex])[s],this.highlightOptionChanged=!0;else if(s<0){let o=this.suggestions[r.groupIndex-1];o&&(this.highlightOption=this.getOptionGroupChildren(o)[this.getOptionGroupChildren(o).length-1],this.highlightOptionChanged=!0)}}}else{let r=this.findOptionIndex(this.highlightOption,this.suggestions);r>0&&(this.highlightOption=this.suggestions[r-1],this.highlightOptionChanged=!0)}e.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),e.preventDefault();break;case 27:this.hide(),e.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}else 40===e.which&&this.suggestions?this.search(e,e.target.value):e.ctrlKey&&"z"===e.key&&!this.multiple?(this.inputEL.nativeElement.value=this.resolveFieldData(null),this.value="",this.onModelChange(this.value)):e.ctrlKey&&"z"===e.key&&this.multiple&&(this.value.pop(),this.onModelChange(this.value),this.updateFilledState());if(this.multiple&&8===e.which&&this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=[...this.value];const r=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(r)}this.inputKeyDown=!0}onKeyup(e){this.onKeyUp.emit(e)}onInputFocus(e){!this.itemClicked&&this.completeOnFocus&&this.search(e,this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value),this.focus=!0,this.onFocus.emit(e),this.itemClicked=!1}onInputBlur(e){this.focus=!1,this.onModelTouched(),this.onBlur.emit(e)}onInputChange(e){if(this.forceSelection){let i=!1,r=e.target.value.trim();if(this.suggestions)for(let s of this.suggestions){let o=this.field?G.resolveFieldData(s,this.field):s;if(o&&r===o.trim()){i=!0,this.forceSelectionUpdateModelTimeout=setTimeout(()=>{this.selectItem(s,!1)},250);break}}i||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(e),this.onModelChange(this.value),this.updateFilledState())}}onInputPaste(e){this.onKeydown(e)}isSelected(e){let i=!1;if(this.value&&this.value.length)for(let r=0;r<this.value.length;r++)if(G.equals(this.value[r],e,this.dataKey)){i=!0;break}return i}findOptionIndex(e,i){let r=-1;if(i)for(let s=0;s<i.length;s++)if(G.equals(e,i[s])){r=s;break}return r}findOptionGroupIndex(e,i){let r,s;if(i)for(let o=0;o<i.length&&(r=o,s=this.findOptionIndex(e,this.getOptionGroupChildren(i[o])),-1===s);o++);return-1!==s?{groupIndex:r,itemIndex:s}:-1}updateFilledState(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}updateInputField(){let e=this.resolveFieldData(this.value);this.inputFieldValue=e,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=e),this.updateFilledState()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{3!==i.which&&(!this.inputClick&&!this.isDropdownClick(i)&&this.hide(),this.inputClick=!1,this.cd.markForCheck())}))}isDropdownClick(e){if(this.dropdown){let i=e.target;return i===this.dropdownButton.nativeElement||i.parentNode===this.dropdownButton.nativeElement}return!1}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!k.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new lh(this.containerEL.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay&&(this.overlay=null,this.onHide.emit())}ngOnDestroy(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&hn.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(Gn),x(tt),x(Ld),x(_r),x(Ua))},n.\u0275cmp=Ae({type:n,selectors:[["p-autoComplete"]],contentQueries:function(e,i,r){if(1&e&&dt(r,gt,4),2&e){let s;Q(s=Y())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(ge(IIe,5),ge(TIe,5),ge(EIe,5),ge(SIe,5),ge(xIe,5),ge(DIe,5),ge(AIe,5)),2&e){let r;Q(r=Y())&&(i.containerEL=r.first),Q(r=Y())&&(i.inputEL=r.first),Q(r=Y())&&(i.multiInputEL=r.first),Q(r=Y())&&(i.multiContainerEL=r.first),Q(r=Y())&&(i.dropdownButton=r.first),Q(r=Y())&&(i.itemsViewChild=r.first),Q(r=Y())&&(i.scroller=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&ai("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus&&!i.disabled||i.autofocus||i.overlayVisible)("p-autocomplete-clearable",i.showClear&&!i.disabled)},inputs:{minLength:"minLength",delay:"delay",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",disabled:"disabled",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:"unique",group:"group",completeOnFocus:"completeOnFocus",showClear:"showClear",field:"field",dropdown:"dropdown",showEmptyMessage:"showEmptyMessage",dropdownMode:"dropdownMode",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:"autofocus",autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",itemSize:"itemSize",suggestions:"suggestions"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide",onLazyLoad:"onLazyLoad"},features:[Ue([CTe])],decls:9,vars:14,consts:[[3,"ngClass","ngStyle"],["container",""],["pAutoFocus","","class","p-autocomplete-input p-inputtext p-component","aria-autocomplete","list","role","searchbox",3,"autofocus","ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],["class","p-autocomplete-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-autocomplete-multiple-container p-component p-inputtext",3,"ngClass","click",4,"ngIf"],["class","p-autocomplete-loader pi pi-spinner pi-spin",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown","pRipple","",3,"icon","disabled","click",4,"ngIf"],[3,"ngClass","max-height","ngStyle","class","click",4,"ngIf"],["pAutoFocus","","aria-autocomplete","list","role","searchbox",1,"p-autocomplete-input","p-inputtext","p-component",3,"autofocus","ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[1,"p-autocomplete-clear-icon","pi","pi-times",3,"click"],[1,"p-autocomplete-multiple-container","p-component","p-inputtext",3,"ngClass","click"],["multiContainer",""],["class","p-autocomplete-token",4,"ngFor","ngForOf"],[1,"p-autocomplete-input-token"],["pAutoFocus","","aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"autofocus","disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"p-autocomplete-token"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],["class","p-autocomplete-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-autocomplete-token-label"],[1,"p-autocomplete-token-icon","pi","pi-times-circle",3,"click"],[1,"p-autocomplete-loader","pi","pi-spinner","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown",3,"icon","disabled","click"],["ddBtn",""],[3,"ngClass","ngStyle","click"],["panel",""],[4,"ngTemplateOutlet"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInItems",""],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-autocomplete-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-autocomplete-item-group",3,"ngStyle"],["role","option","class","p-autocomplete-item","pRipple","",3,"ngStyle","ngClass","id","click",4,"ngFor","ngForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngStyle","ngClass","id","click"],[1,"p-autocomplete-empty-message",3,"ngStyle"],[4,"ngIf","ngIfElse"],["empty",""]],template:function(e,i){1&e&&(_(0,"span",0,1),v(2,MIe,2,23,"input",2),v(3,RIe,1,0,"i",3),v(4,PIe,1,0,"i",3),v(5,BIe,6,23,"ul",4),v(6,UIe,1,0,"i",5),v(7,HIe,2,4,"button",6),v(8,bTe,8,17,"div",7),y()),2&e&&(ce(i.styleClass),p("ngClass",ye(11,wTe,i.dropdown,i.multiple))("ngStyle",i.style),m(2),p("ngIf",!i.multiple),m(1),p("ngIf",!i.multiple&&i.filled&&!i.disabled&&i.showClear),m(1),p("ngIf",i.multiple&&i.filled&&!i.disabled&&i.showClear),m(1),p("ngIf",i.multiple),m(1),p("ngIf",i.loading),m(1),p("ngIf",i.dropdown),m(1),p("ngIf",i.overlayVisible))},dependencies:[Ze,qn,qe,St,at,Ro,gt,Mn,Ly,Bx],styles:[".p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete .p-autocomplete-panel{min-width:100%;top:0;left:0}.p-autocomplete-panel{position:absolute;overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}.p-autocomplete-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-autocomplete-clearable{position:relative}\n"],encapsulation:2,data:{animation:[Gs("overlayAnimation",[Cn(":enter",[bt({opacity:0,transform:"scaleY(0.8)"}),fn("{{showTransitionParams}}")]),Cn(":leave",[fn("{{hideTransitionParams}}",bt({opacity:0}))])])]},changeDetection:0}),n})(),h$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,po,$r,nt,pn,ha,Oy,nt,ha,Oy]}),n})();const TTe=["inputtext"];function ETe(n,t){1&n&&$(0)}function STe(n,t){if(1&n&&(_(0,"span",12),L(1),y()),2&n){const e=f().$implicit,i=f();m(1),se(i.field?i.resolveFieldData(e,i.field):e)}}function xTe(n,t){if(1&n){const e=N();_(0,"span",13),S("click",function(r){C(e);const s=f().index;return I(f().removeItem(r,s))}),y()}}const DTe=function(n){return{$implicit:n}};function ATe(n,t){if(1&n){const e=N();_(0,"li",7,8),S("click",function(r){const o=C(e).$implicit;return I(f().onItemClick(r,o))}),v(2,ETe,1,0,"ng-container",9),v(3,STe,2,1,"span",10),v(4,xTe,1,0,"span",11),y()}if(2&n){const e=t.$implicit,i=f();m(2),p("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",B(4,DTe,e)),m(1),p("ngIf",!i.itemTemplate),m(1),p("ngIf",!i.disabled)}}function kTe(n,t){if(1&n){const e=N();_(0,"i",14),S("click",function(){return C(e),I(f().clear())}),y()}}const MTe=function(n,t){return{"p-inputtext p-chips-multiple-container":!0,"p-focus":n,"p-disabled":t}},RTe=function(n){return{"p-chips-clearable":n}},PTe={provide:kt,useExisting:Fe(()=>OTe),multi:!0};let OTe=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.allowDuplicate=!0,this.showClear=!1,this.onAdd=new R,this.onRemove=new R,this.onFocus=new R,this.onBlur=new R,this.onChipClick=new R,this.onClear=new R,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.itemTemplate=e.template}),this.updateFilledState()}onClick(){this.inputViewChild.nativeElement.focus()}onInput(){this.updateFilledState()}onPaste(e){this.disabled||(this.separator&&((e.clipboardData||window.clipboardData).getData("Text").split(this.separator).forEach(r=>{this.addItem(e,r,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){this.filled=!(!this.value||0===this.value.length)||this.inputViewChild&&this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}onItemClick(e,i){this.onChipClick.emit({originalEvent:e,value:i})}writeValue(e){this.value=e,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}resolveFieldData(e,i){if(e&&i){if(-1==i.indexOf("."))return e[i];{let o=i.split("."),a=e;for(var r=0,s=o.length;r<s;++r)a=a[o[r]];return a}}return null}onInputFocus(e){this.focus=!0,this.onFocus.emit(e)}onInputBlur(e){this.focus=!1,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(e,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(e)}removeItem(e,i){if(this.disabled)return;let r=this.value[i];this.value=this.value.filter((s,o)=>o!=i),this.onModelChange(this.value),this.onRemove.emit({originalEvent:e,value:r}),this.updateFilledState(),this.updateMaxedOut()}addItem(e,i,r){this.value=this.value||[],i&&i.trim().length&&(this.allowDuplicate||-1===this.value.indexOf(i))&&(this.value=[...this.value,i],this.onModelChange(this.value),this.onAdd.emit({originalEvent:e,value:i})),this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",r&&e.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.onClear.emit()}onKeydown(e){switch(e.which){case 8:if(0===this.inputViewChild.nativeElement.value.length&&this.value&&this.value.length>0){this.value=[...this.value];let i=this.value.pop();this.onModelChange(this.value),this.onRemove.emit({originalEvent:e,value:i}),this.updateFilledState()}break;case 13:this.addItem(e,this.inputViewChild.nativeElement.value,!0);break;case 9:this.addOnTab&&""!==this.inputViewChild.nativeElement.value&&this.addItem(e,this.inputViewChild.nativeElement.value,!0);break;default:this.max&&this.value&&this.max===this.value.length?e.preventDefault():this.separator&&(this.separator===e.key||e.key.match(this.separator))&&this.addItem(e,this.inputViewChild.nativeElement.value,!0)}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.max&&this.value&&this.max===this.value.length?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(tt))},n.\u0275cmp=Ae({type:n,selectors:[["p-chips"]],contentQueries:function(e,i,r){if(1&e&&dt(r,gt,4),2&e){let s;Q(s=Y())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&ge(TTe,5),2&e){let r;Q(r=Y())&&(i.inputViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&ai("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)("p-chips-clearable",i.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:"disabled",field:"field",placeholder:"placeholder",max:"max",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",allowDuplicate:"allowDuplicate",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:"addOnTab",addOnBlur:"addOnBlur",separator:"separator",showClear:"showClear"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onClear:"onClear"},features:[Ue([PTe])],decls:8,vars:21,consts:[[3,"ngClass","ngStyle","click"],[3,"ngClass"],["class","p-chips-token",3,"click",4,"ngFor","ngForOf"],[1,"p-chips-input-token",3,"ngClass"],["type","text",3,"disabled","ngStyle","keydown","input","paste","focus","blur"],["inputtext",""],["class","p-chips-clear-icon pi pi-times",3,"click",4,"ngIf"],[1,"p-chips-token",3,"click"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],["class","p-chips-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-chips-token-label"],[1,"p-chips-token-icon","pi","pi-times-circle",3,"click"],[1,"p-chips-clear-icon","pi","pi-times",3,"click"]],template:function(e,i){1&e&&(_(0,"div",0),S("click",function(){return i.onClick()}),_(1,"ul",1),v(2,ATe,5,6,"li",2),_(3,"li",3)(4,"input",4,5),S("keydown",function(s){return i.onKeydown(s)})("input",function(){return i.onInput()})("paste",function(s){return i.onPaste(s)})("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)}),y()(),_(6,"li"),v(7,kTe,1,0,"i",6),y()()()),2&e&&(ce(i.styleClass),p("ngClass","p-chips p-component")("ngStyle",i.style),m(1),p("ngClass",ye(16,MTe,i.focus,i.disabled)),m(1),p("ngForOf",i.value),m(1),p("ngClass",B(19,RTe,i.showClear&&!i.disabled)),m(1),ce(i.inputStyleClass),p("disabled",i.disabled)("ngStyle",i.inputStyle),ie("id",i.inputId)("placeholder",i.value&&i.value.length?null:i.placeholder)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),m(3),p("ngIf",null!=i.value&&i.filled&&!i.disabled&&i.showClear))},dependencies:[Ze,qn,qe,St,at],styles:[".p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto;max-width:100%}.p-chips-token-label{min-width:0%;overflow:auto}.p-chips-token-label::-webkit-scrollbar{display:none}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}.p-chips-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-chips-clearable .p-inputtext{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),p$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,po,nt,po,nt]}),n})();function FTe(n,t){1&n&&$(0)}const LTe=function(n){return{$implicit:n}};function NTe(n,t){if(1&n&&(ae(0),v(1,FTe,1,0,"ng-container",8),le()),2&n){const e=f().$implicit,i=f();m(1),p("ngTemplateOutlet",i.optionTemplate)("ngTemplateOutletContext",B(2,LTe,e))}}function VTe(n,t){if(1&n&&(_(0,"span",9),L(1),y()),2&n){const e=f().$implicit,i=f();m(1),se(i.getOptionLabelToRender(e))}}function BTe(n,t){1&n&&j(0,"span",10)}function UTe(n,t){if(1&n){const e=N();_(0,"p-cascadeSelectSub",11),S("onSelect",function(r){return C(e),I(f(2).onOptionSelect(r))})("onOptionGroupSelect",function(){return C(e),I(f(2).onOptionGroupSelect())}),y()}if(2&n){const e=f().$implicit,i=f();p("selectionPath",i.selectionPath)("options",i.getOptionGroupChildren(e))("optionLabel",i.optionLabel)("optionValue",i.optionValue)("level",i.level+1)("optionGroupLabel",i.optionGroupLabel)("optionGroupChildren",i.optionGroupChildren)("parentActive",i.isOptionActive(e))("dirty",i.dirty)("optionTemplate",i.optionTemplate)}}function HTe(n,t){if(1&n){const e=N();_(0,"li",2)(1,"div",3),S("click",function(r){const o=C(e).$implicit;return I(f().onOptionClick(r,o))})("keydown",function(r){const s=C(e),o=s.$implicit,a=s.index;return I(f().onKeyDown(r,o,a))}),v(2,NTe,2,4,"ng-container",4),v(3,VTe,2,1,"ng-template",null,5,ln),v(5,BTe,1,0,"span",6),y(),v(6,UTe,1,10,"p-cascadeSelectSub",7),y()}if(2&n){const e=t.$implicit,i=Ge(4),r=f();p("ngClass",r.getItemClass(e)),m(2),p("ngIf",r.optionTemplate)("ngIfElse",i),m(3),p("ngIf",r.isOptionGroup(e)),m(1),p("ngIf",r.isOptionGroup(e)&&r.isOptionActive(e))}}const zTe=function(n){return{"p-cascadeselect-panel-root":n}},$Te=["focusInput"],jTe=["container"],GTe=["panel"],qTe=["overlay"];function WTe(n,t){1&n&&$(0)}const KTe=function(n,t){return{$implicit:n,placeholder:t}};function QTe(n,t){if(1&n&&(ae(0),v(1,WTe,1,0,"ng-container",14),le()),2&n){const e=f();m(1),p("ngTemplateOutlet",e.valueTemplate)("ngTemplateOutletContext",ye(2,KTe,e.value,e.placeholder))}}function YTe(n,t){1&n&&L(0),2&n&&Gt(" ",f().label()," ")}function ZTe(n,t){if(1&n){const e=N();_(0,"i",15),S("click",function(r){return C(e),I(f().clear(r))}),y()}}function JTe(n,t){if(1&n){const e=N();_(0,"div",16,17)(2,"div",18)(3,"p-cascadeSelectSub",19),S("onSelect",function(r){return C(e),I(f().onOptionSelect(r))})("onGroupSelect",function(r){return C(e),I(f().onOptionGroupSelect(r))}),y()()()}if(2&n){const e=f();ce(e.panelStyleClass),p("ngStyle",e.panelStyle),m(3),p("options",e.options)("selectionPath",e.selectionPath)("optionLabel",e.optionLabel)("optionValue",e.optionValue)("level",0)("optionTemplate",e.optionTemplate)("optionGroupLabel",e.optionGroupLabel)("optionGroupChildren",e.optionGroupChildren)("dirty",e.dirty)("root",!0)}}const XTe={provide:kt,useExisting:Fe(()=>f$),multi:!0};let eEe=(()=>{class n{constructor(e,i){this.el=i,this.level=0,this.onSelect=new R,this.onGroupSelect=new R,this.activeOption=null,this.cascadeSelect=e}get parentActive(){return this._parentActive}set parentActive(e){e||(this.activeOption=null),this._parentActive=e}ngOnInit(){if(this.selectionPath&&this.options&&!this.dirty)for(let e of this.options)if(this.selectionPath.includes(e)){this.activeOption=e;break}this.root||this.position()}onOptionClick(e,i){this.isOptionGroup(i)?(this.activeOption=this.activeOption===i?null:i,this.onGroupSelect.emit({originalEvent:e,value:i})):this.onSelect.emit({originalEvent:e,value:this.getOptionValue(i)})}onOptionSelect(e){this.onSelect.emit(e)}onOptionGroupSelect(e){this.onGroupSelect.emit(e)}getOptionLabel(e){return this.optionLabel?G.resolveFieldData(e,this.optionLabel):e}getOptionValue(e){return this.optionValue?G.resolveFieldData(e,this.optionValue):e}getOptionGroupLabel(e){return this.optionGroupLabel?G.resolveFieldData(e,this.optionGroupLabel):null}getOptionGroupChildren(e){return G.resolveFieldData(e,this.optionGroupChildren[this.level])}isOptionGroup(e){return Object.prototype.hasOwnProperty.call(e,this.optionGroupChildren[this.level])}getOptionLabelToRender(e){return this.isOptionGroup(e)?this.getOptionGroupLabel(e):this.getOptionLabel(e)}getItemClass(e){return{"p-cascadeselect-item":!0,"p-cascadeselect-item-group":this.isOptionGroup(e),"p-cascadeselect-item-active p-highlight":this.isOptionActive(e)}}isOptionActive(e){return this.activeOption===e}onKeyDown(e,i,r){let s=e.currentTarget.parentElement;switch(e.key){case"Down":case"ArrowDown":var o=this.el.nativeElement.children[0].children[r+1];o&&o.children[0].focus(),e.preventDefault();break;case"Up":case"ArrowUp":var a=this.el.nativeElement.children[0].children[r-1];a&&a.children[0].focus(),e.preventDefault();break;case"Right":case"ArrowRight":this.isOptionGroup(i)&&(this.isOptionActive(i)?s.children[1].children[0].children[0].children[0].focus():this.activeOption=i),e.preventDefault();break;case"Left":case"ArrowLeft":this.activeOption=null;var l=s.parentElement.parentElement.parentElement;l&&l.children[0].focus(),e.preventDefault();break;case"Enter":this.onOptionClick(e,i),e.preventDefault();break;case"Tab":case"Escape":this.cascadeSelect.hide(),e.preventDefault()}}position(){const e=this.el.nativeElement.parentElement,i=k.getOffset(e),r=k.getViewport(),s=this.el.nativeElement.children[0].offsetParent?this.el.nativeElement.children[0].offsetWidth:k.getHiddenElementOuterWidth(this.el.nativeElement.children[0]),o=k.getOuterWidth(e.children[0]);parseInt(i.left,10)+o+s>r.width-k.calculateScrollbarWidth()&&(this.el.nativeElement.children[0].style.left="-200%")}}return n.\u0275fac=function(e){return new(e||n)(x(Fe(()=>f$)),x(ze))},n.\u0275cmp=Ae({type:n,selectors:[["p-cascadeSelectSub"]],inputs:{selectionPath:"selectionPath",options:"options",optionGroupChildren:"optionGroupChildren",optionTemplate:"optionTemplate",level:"level",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupLabel:"optionGroupLabel",dirty:"dirty",root:"root",parentActive:"parentActive"},outputs:{onSelect:"onSelect",onGroupSelect:"onGroupSelect"},decls:2,vars:4,consts:[["role","listbox","aria-orientation","horizontal",1,"p-cascadeselect-panel","p-cascadeselect-items",3,"ngClass"],["ngFor","",3,"ngForOf"],["role","none",3,"ngClass"],["tabindex","0","pRipple","",1,"p-cascadeselect-item-content",3,"click","keydown"],[4,"ngIf","ngIfElse"],["defaultOptionTemplate",""],["class","p-cascadeselect-group-icon pi pi-angle-right",4,"ngIf"],["class","p-cascadeselect-sublist",3,"selectionPath","options","optionLabel","optionValue","level","optionGroupLabel","optionGroupChildren","parentActive","dirty","optionTemplate","onSelect","onOptionGroupSelect",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-cascadeselect-item-text"],[1,"p-cascadeselect-group-icon","pi","pi-angle-right"],[1,"p-cascadeselect-sublist",3,"selectionPath","options","optionLabel","optionValue","level","optionGroupLabel","optionGroupChildren","parentActive","dirty","optionTemplate","onSelect","onOptionGroupSelect"]],template:function(e,i){1&e&&(_(0,"ul",0),v(1,HTe,7,5,"ng-template",1),y()),2&e&&(p("ngClass",B(2,zTe,i.root)),m(1),p("ngForOf",i.options))},dependencies:[Ze,qn,qe,St,Mn,n],encapsulation:2,changeDetection:0}),n})(),f$=(()=>{class n{constructor(e,i,r,s){this.el=e,this.cd=i,this.config=r,this.overlayService=s,this.showClear=!1,this.onChange=new R,this.onGroupChange=new R,this.onShow=new R,this.onHide=new R,this.onClear=new R,this.onBeforeShow=new R,this.onBeforeHide=new R,this.selectionPath=null,this.focused=!1,this.filled=!1,this.overlayVisible=!1,this.dirty=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}ngOnInit(){this.updateSelectionPath()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"value":this.valueTemplate=e.template;break;case"option":this.optionTemplate=e.template}})}onOptionSelect(e){this.value=e.value,this.updateSelectionPath(),this.onModelChange(this.value),this.onChange.emit(e),this.hide(),this.focusInputEl.nativeElement.focus()}onOptionGroupSelect(e){this.dirty=!0,this.onGroupChange.emit(e)}getOptionLabel(e){return this.optionLabel?G.resolveFieldData(e,this.optionLabel):e}getOptionValue(e){return this.optionValue?G.resolveFieldData(e,this.optionValue):e}getOptionGroupChildren(e,i){return G.resolveFieldData(e,this.optionGroupChildren[i])}isOptionGroup(e,i){return Object.prototype.hasOwnProperty.call(e,this.optionGroupChildren[i])}updateSelectionPath(){let e;if(null!=this.value&&this.options)for(let i of this.options)if(e=this.findModelOptionInGroup(i,0),e)break;this.selectionPath=e,this.updateFilledState()}updateFilledState(){this.filled=!(null==this.selectionPath||0==this.selectionPath.length)}findModelOptionInGroup(e,i){if(this.isOptionGroup(e,i)){let r;for(let s of this.getOptionGroupChildren(e,i))if(r=this.findModelOptionInGroup(s,i+1),r)return r.unshift(e),r}else if(G.equals(this.value,this.getOptionValue(e),this.dataKey))return[e];return null}show(){this.overlayVisible=!0}hide(){this.overlayVisible=!1,this.cd.markForCheck()}clear(e){this.value=null,this.selectionPath=null,this.updateFilledState(),this.onClear.emit(),this.onModelChange(this.value),e.stopPropagation(),this.cd.markForCheck()}onClick(e){this.disabled||this.overlayViewChild?.el?.nativeElement?.contains(e.target)||(this.overlayVisible?this.hide():this.show(),this.focusInputEl.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1}onOverlayAnimationDone(e){"void"===e.toState&&(this.dirty=!1)}writeValue(e){this.value=e,this.updateSelectionPath(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}label(){return this.selectionPath?this.getOptionLabel(this.selectionPath[this.selectionPath.length-1]):this.placeholder||"p-emptylabel"}onKeyDown(e){switch(e.code){case"Down":case"ArrowDown":this.overlayVisible?k.findSingle(this.panelEl.nativeElement,".p-cascadeselect-item").children[0].focus():e.altKey&&this.options&&this.options.length&&this.show(),e.preventDefault();break;case"Space":case"Enter":this.overlayVisible?this.hide():this.show(),e.preventDefault();break;case"Tab":case"Escape":this.overlayVisible&&(this.hide(),e.preventDefault())}}containerClass(){return{"p-cascadeselect p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-focus":this.focused}}labelClass(){return{"p-cascadeselect-label":!0,"p-inputtext":!0,"p-placeholder":this.label()===this.placeholder,"p-cascadeselect-label-empty":!this.value&&("p-emptylabel"===this.label()||0===this.label().length)}}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(tt),x(_r),x(Ua))},n.\u0275cmp=Ae({type:n,selectors:[["p-cascadeSelect"]],contentQueries:function(e,i,r){if(1&e&&dt(r,gt,4),2&e){let s;Q(s=Y())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(ge($Te,5),ge(jTe,5),ge(GTe,5),ge(qTe,5)),2&e){let r;Q(r=Y())&&(i.focusInputEl=r.first),Q(r=Y())&&(i.containerEl=r.first),Q(r=Y())&&(i.panelEl=r.first),Q(r=Y())&&(i.overlayViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&ai("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)("p-cascadeselect-clearable",i.showClear&&!i.disabled)},inputs:{styleClass:"styleClass",style:"style",options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",placeholder:"placeholder",value:"value",dataKey:"dataKey",inputId:"inputId",tabindex:"tabindex",ariaLabelledBy:"ariaLabelledBy",inputLabel:"inputLabel",ariaLabel:"ariaLabel",appendTo:"appendTo",disabled:"disabled",rounded:"rounded",showClear:"showClear",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",overlayOptions:"overlayOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onChange:"onChange",onGroupChange:"onGroupChange",onShow:"onShow",onHide:"onHide",onClear:"onClear",onBeforeShow:"onBeforeShow",onBeforeHide:"onBeforeHide"},features:[Ue([XTe])],decls:15,vars:22,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox",3,"disabled","focus","blur","keydown"],["focusInput",""],[3,"ngClass"],[4,"ngIf","ngIfElse"],["defaultValueTemplate",""],["class","p-cascadeselect-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-cascadeselect-trigger"],[1,"p-cascadeselect-trigger-icon","pi","pi-chevron-down"],[3,"visible","options","target","appendTo","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationDone","onBeforeShow","onShow","onBeforeHide","onHide"],["overlay",""],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-cascadeselect-clear-icon","pi","pi-times",3,"click"],[1,"p-cascadeselect-panel","p-component",3,"ngStyle"],["panel",""],[1,"p-cascadeselect-items-wrapper"],[1,"p-cascadeselect-items",3,"options","selectionPath","optionLabel","optionValue","level","optionTemplate","optionGroupLabel","optionGroupChildren","dirty","root","onSelect","onGroupSelect"]],template:function(e,i){if(1&e&&(_(0,"div",0,1),S("click",function(s){return i.onClick(s)}),_(2,"div",2)(3,"input",3,4),S("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("keydown",function(s){return i.onKeyDown(s)}),y()(),_(5,"span",5),v(6,QTe,2,5,"ng-container",6),v(7,YTe,1,1,"ng-template",null,7,ln),y(),v(9,ZTe,1,0,"i",8),_(10,"div",9),j(11,"span",10),y(),_(12,"p-overlay",11,12),S("visibleChange",function(s){return i.overlayVisible=s})("onAnimationDone",function(s){return i.onOverlayAnimationDone(s)})("onBeforeShow",function(s){return i.onBeforeShow.emit(s)})("onShow",function(s){return i.onShow.emit(s)})("onBeforeHide",function(s){return i.onBeforeHide.emit(s)})("onHide",function(s){return i.onHide.emit(s)}),v(14,JTe,4,13,"ng-template",13),y()()),2&e){const r=Ge(8);ce(i.styleClass),p("ngClass",i.containerClass())("ngStyle",i.style),m(3),p("disabled",i.disabled),ie("id",i.inputId)("tabindex",i.tabindex)("aria-expanded",i.overlayVisible)("aria-labelledby",i.ariaLabelledBy)("label",i.inputLabel)("aria-label",i.ariaLabel),m(2),p("ngClass",i.labelClass()),m(1),p("ngIf",i.valueTemplate)("ngIfElse",r),m(3),p("ngIf",i.filled&&!i.disabled&&i.showClear),m(1),ie("aria-expanded",i.overlayVisible),m(2),p("visible",i.overlayVisible)("options",i.overlayOptions)("target","@parent")("appendTo",i.appendTo)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions)}},dependencies:[Ze,qe,St,at,Fy,gt,eEe],styles:[".p-cascadeselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-cascadeselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-cascadeselect-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-cascadeselect-label-empty{overflow:hidden;visibility:hidden}.p-cascadeselect-item{cursor:pointer;font-weight:400;white-space:nowrap}.p-cascadeselect-item-content{display:flex;align-items:center;overflow:hidden;position:relative}.p-cascadeselect-group-icon{margin-left:auto}.p-cascadeselect-items{margin:0;padding:0;list-style-type:none}.p-fluid .p-cascadeselect{display:flex}.p-fluid .p-cascadeselect .p-cascadeselect-label{width:1%}.p-cascadeselect-sublist{position:absolute;min-width:100%;z-index:1;display:none}.p-cascadeselect-item-active{overflow:visible!important}.p-cascadeselect-item-active>.p-cascadeselect-sublist{display:block;left:100%;top:0}.p-cascadeselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-cascadeselect-clearable,.p-overlay-modal .p-cascadeselect-sublist{position:relative}.p-overlay-modal .p-cascadeselect-item-active>.p-cascadeselect-sublist{left:0}\n"],encapsulation:2,changeDetection:0}),n})(),m$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,Lu,nt,pn,Lu,nt]}),n})();function tEe(n,t){if(1&n&&(_(0,"span"),L(1),y()),2&n){const e=f();m(1),se(e.label)}}function nEe(n,t){1&n&&$(0)}const hf=function(n){return{height:n}},iEe=function(n,t){return{"p-highlight":n,"p-disabled":t}},rEe=function(n){return{"p-highlight":n}},g$=function(n){return{"pi pi-check":n}},pf=function(n){return{$implicit:n}},sEe=["container"],oEe=["overlay"],aEe=["filterInput"],lEe=["in"],cEe=["items"],uEe=["scroller"];function dEe(n,t){if(1&n&&(ae(0),L(1),le()),2&n){const e=f(2);m(1),se(e.valuesAsString||"empty")}}function hEe(n,t){if(1&n){const e=N();_(0,"span",20),S("click",function(r){C(e);const s=f().$implicit;return I(f(3).removeChip(s,r))}),y()}}function pEe(n,t){if(1&n&&(_(0,"div",16,17)(2,"span",18),L(3),y(),v(4,hEe,1,0,"span",19),y()),2&n){const e=t.$implicit,i=f(3);m(3),se(i.findLabelByValue(e)),m(1),p("ngIf",!i.disabled)}}function fEe(n,t){if(1&n&&(ae(0),L(1),le()),2&n){const e=f(3);m(1),se(e.placeholder||e.defaultLabel||"empty")}}function mEe(n,t){if(1&n&&(ae(0),v(1,pEe,5,2,"div",15),v(2,fEe,2,1,"ng-container",7),le()),2&n){const e=f(2);m(1),p("ngForOf",e.value),m(1),p("ngIf",!e.value||0===e.value.length)}}function gEe(n,t){if(1&n&&(ae(0),v(1,dEe,2,1,"ng-container",7),v(2,mEe,3,2,"ng-container",7),le()),2&n){const e=f();m(1),p("ngIf","comma"===e.display),m(1),p("ngIf","chip"===e.display)}}function _Ee(n,t){1&n&&$(0)}function yEe(n,t){if(1&n){const e=N();_(0,"i",21),S("click",function(r){return C(e),I(f().clear(r))}),y()}}function vEe(n,t){1&n&&$(0)}function bEe(n,t){1&n&&$(0)}const _$=function(n){return{options:n}};function wEe(n,t){if(1&n&&(ae(0),v(1,bEe,1,0,"ng-container",8),le()),2&n){const e=f(3);m(1),p("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",B(2,_$,e.filterOptions))}}const CEe=function(n){return{"p-checkbox-disabled":n}},IEe=function(n,t,e){return{"p-highlight":n,"p-focus":t,"p-disabled":e}};function TEe(n,t){if(1&n){const e=N();_(0,"div",36)(1,"div",2)(2,"input",37),S("focus",function(){return C(e),I(f(4).onHeaderCheckboxFocus())})("blur",function(){return C(e),I(f(4).onHeaderCheckboxBlur())})("keydown.space",function(r){return C(e),I(f(4).toggleAll(r))}),y()(),_(3,"div",38),S("click",function(r){return C(e),I(f(4).toggleAll(r))}),j(4,"span",39),y()()}if(2&n){const e=f(4);p("ngClass",B(6,CEe,e.disabled||e.toggleAllDisabled)),m(2),p("checked",e.allChecked)("disabled",e.disabled||e.toggleAllDisabled),m(1),p("ngClass",an(8,IEe,e.allChecked,e.headerCheckboxFocus,e.disabled||e.toggleAllDisabled)),ie("aria-checked",e.allChecked),m(1),p("ngClass",B(12,g$,e.allChecked))}}function EEe(n,t){if(1&n){const e=N();_(0,"div",40)(1,"input",41,42),S("input",function(r){return C(e),I(f(4).onFilterInputChange(r))}),y(),j(3,"span",43),y()}if(2&n){const e=f(4);m(1),p("value",e.filterValue||"")("disabled",e.disabled),ie("autocomplete",e.autocomplete)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel)}}function SEe(n,t){if(1&n){const e=N();v(0,TEe,5,14,"div",32),v(1,EEe,4,5,"div",33),_(2,"button",34),S("click",function(r){return C(e),I(f(3).close(r))}),j(3,"span",35),y()}if(2&n){const e=f(3);p("ngIf",e.showToggleAll&&!e.selectionLimit),m(1),p("ngIf",e.filter)}}function xEe(n,t){if(1&n&&(_(0,"div",28),Dn(1),v(2,vEe,1,0,"ng-container",29),v(3,wEe,2,4,"ng-container",30),v(4,SEe,4,2,"ng-template",null,31,ln),y()),2&n){const e=Ge(5),i=f(2);m(2),p("ngTemplateOutlet",i.headerTemplate),m(1),p("ngIf",i.filterTemplate)("ngIfElse",e)}}function DEe(n,t){1&n&&$(0)}const y$=function(n,t){return{$implicit:n,options:t}};function AEe(n,t){if(1&n&&v(0,DEe,1,0,"ng-container",8),2&n){const e=t.$implicit,i=t.options;f(2),p("ngTemplateOutlet",Ge(6))("ngTemplateOutletContext",ye(2,y$,e,i))}}function kEe(n,t){1&n&&$(0)}function MEe(n,t){if(1&n&&v(0,kEe,1,0,"ng-container",8),2&n){const e=t.options;p("ngTemplateOutlet",f(4).loaderTemplate)("ngTemplateOutletContext",B(2,_$,e))}}function REe(n,t){1&n&&(ae(0),v(1,MEe,1,4,"ng-template",46),le())}function PEe(n,t){if(1&n){const e=N();_(0,"p-scroller",44,45),S("onLazyLoad",function(r){return C(e),I(f(2).onLazyLoad.emit(r))}),v(2,AEe,1,5,"ng-template",14),v(3,REe,2,0,"ng-container",7),y()}if(2&n){const e=f(2);Tt(B(9,hf,e.scrollHeight)),p("items",e.optionsToRender)("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("tabindex",-1)("lazy",e.lazy)("options",e.virtualScrollOptions),m(3),p("ngIf",e.loaderTemplate)}}function OEe(n,t){1&n&&$(0)}const FEe=function(){return{}};function LEe(n,t){if(1&n&&(ae(0),v(1,OEe,1,0,"ng-container",8),le()),2&n){f();const e=Ge(6),i=f();m(1),p("ngTemplateOutlet",e)("ngTemplateOutletContext",ye(3,y$,i.optionsToRender,en(2,FEe)))}}function NEe(n,t){if(1&n&&(_(0,"span"),L(1),y()),2&n){const e=f().$implicit,i=f(4);m(1),se(i.getOptionGroupLabel(e)||"empty")}}function VEe(n,t){1&n&&$(0)}function BEe(n,t){1&n&&$(0)}function UEe(n,t){if(1&n&&(_(0,"li",52),v(1,NEe,2,1,"span",7),v(2,VEe,1,0,"ng-container",8),y(),v(3,BEe,1,0,"ng-container",8)),2&n){const e=t.$implicit,i=f(2).options,r=Ge(5),s=f(2);p("ngStyle",B(6,hf,i.itemSize+"px")),m(1),p("ngIf",!s.groupTemplate),m(1),p("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",B(8,pf,e)),m(1),p("ngTemplateOutlet",r)("ngTemplateOutletContext",B(10,pf,s.getOptionGroupChildren(e)))}}function HEe(n,t){if(1&n&&(ae(0),v(1,UEe,4,12,"ng-template",51),le()),2&n){const e=f().$implicit;m(1),p("ngForOf",e)}}function zEe(n,t){1&n&&$(0)}function $Ee(n,t){if(1&n&&(ae(0),v(1,zEe,1,0,"ng-container",8),le()),2&n){const e=f().$implicit,i=Ge(5);m(1),p("ngTemplateOutlet",i)("ngTemplateOutletContext",B(2,pf,e))}}function jEe(n,t){if(1&n){const e=N();_(0,"p-multiSelectItem",53),S("onClick",function(r){return C(e),I(f(4).onOptionClick(r))})("onKeydown",function(r){return C(e),I(f(4).onOptionKeydown(r))}),y()}if(2&n){const e=t.$implicit,i=f(2).options,r=f(2);p("option",e)("selected",r.isSelected(e))("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)("itemSize",i.itemSize)}}function GEe(n,t){1&n&&v(0,jEe,1,6,"ng-template",51),2&n&&p("ngForOf",t.$implicit)}function qEe(n,t){if(1&n&&(ae(0),L(1),le()),2&n){const e=f(4);m(1),Gt(" ",e.emptyFilterMessageLabel," ")}}function WEe(n,t){1&n&&$(0,null,55)}function KEe(n,t){if(1&n&&(_(0,"li",54),v(1,qEe,2,1,"ng-container",30),v(2,WEe,2,0,"ng-container",29),y()),2&n){const e=f().options,i=f(2);p("ngStyle",B(4,hf,e.itemSize+"px")),m(1),p("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),m(1),p("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function QEe(n,t){if(1&n&&(ae(0),L(1),le()),2&n){const e=f(4);m(1),Gt(" ",e.emptyMessageLabel," ")}}function YEe(n,t){1&n&&$(0,null,56)}function ZEe(n,t){if(1&n&&(_(0,"li",54),v(1,QEe,2,1,"ng-container",30),v(2,YEe,2,0,"ng-container",29),y()),2&n){const e=f().options,i=f(2);p("ngStyle",B(4,hf,e.itemSize+"px")),m(1),p("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),m(1),p("ngTemplateOutlet",i.emptyTemplate)}}function JEe(n,t){if(1&n&&(_(0,"ul",47,48),v(2,HEe,2,1,"ng-container",7),v(3,$Ee,2,4,"ng-container",7),v(4,GEe,1,1,"ng-template",null,49,ln),v(6,KEe,3,6,"li",50),v(7,ZEe,3,6,"li",50),y()),2&n){const e=t.options,i=f(2);Tt(e.contentStyle),p("ngClass",e.contentStyleClass),m(2),p("ngIf",i.group),m(1),p("ngIf",!i.group),m(3),p("ngIf",i.hasFilter()&&i.isEmpty()),m(1),p("ngIf",!i.hasFilter()&&i.isEmpty())}}function XEe(n,t){1&n&&$(0)}function e1e(n,t){if(1&n&&(_(0,"div",57),Dn(1,1),v(2,XEe,1,0,"ng-container",29),y()),2&n){const e=f(2);m(2),p("ngTemplateOutlet",e.footerTemplate)}}const t1e=function(){return["p-multiselect-panel p-component"]};function n1e(n,t){if(1&n){const e=N();_(0,"div",22),S("keydown",function(r){return C(e),I(f().onKeydown(r))}),v(1,xEe,6,3,"div",23),_(2,"div",24),v(3,PEe,4,11,"p-scroller",25),v(4,LEe,2,6,"ng-container",7),v(5,JEe,8,7,"ng-template",null,26,ln),y(),v(7,e1e,3,1,"div",27),y()}if(2&n){const e=f();ce(e.panelStyleClass),p("ngClass",en(10,t1e))("ngStyle",e.panelStyle),m(1),p("ngIf",e.showHeader),m(1),Or("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),m(1),p("ngIf",e.virtualScroll),m(1),p("ngIf",!e.virtualScroll),m(3),p("ngIf",e.footerFacet||e.footerTemplate)}}const i1e=[[["p-header"]],[["p-footer"]]],r1e=function(n,t,e,i){return{"p-multiselect p-component":!0,"p-multiselect-open":n,"p-multiselect-chip":t,"p-focus":e,"p-disabled":i}},s1e=function(n,t){return{"p-placeholder":n,"p-multiselect-label-empty":t}},o1e=function(){return{"p-multiselect-trigger":!0}},a1e=["p-header","p-footer"],l1e={provide:kt,useExisting:Fe(()=>v$),multi:!0};let c1e=(()=>{class n{constructor(){this.onClick=new R,this.onKeydown=new R}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}onOptionKeydown(e){this.onKeydown.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ae({type:n,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick",onKeydown:"onKeydown"},decls:6,vars:20,consts:[["pRipple","",1,"p-multiselect-item",3,"ngStyle","ngClass","click","keydown"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(_(0,"li",0),S("click",function(s){return i.onOptionClick(s)})("keydown",function(s){return i.onOptionKeydown(s)}),_(1,"div",1)(2,"div",2),j(3,"span",3),y()(),v(4,tEe,2,1,"span",4),v(5,nEe,1,0,"ng-container",5),y()),2&e&&(p("ngStyle",B(9,hf,i.itemSize+"px"))("ngClass",ye(11,iEe,i.selected,i.disabled)),ie("aria-label",i.label)("tabindex",i.disabled?null:"0"),m(2),p("ngClass",B(14,rEe,i.selected)),m(1),p("ngClass",B(16,g$,i.selected)),m(1),p("ngIf",!i.template),m(1),p("ngTemplateOutlet",i.template)("ngTemplateOutletContext",B(18,pf,i.option)))},dependencies:[Ze,qe,St,at,Mn],encapsulation:2}),n})(),v$=(()=>{class n{constructor(e,i,r,s,o,a,l){this.el=e,this.renderer=i,this.cd=r,this.zone=s,this.filterService=o,this.config=a,this.overlayService=l,this.filter=!0,this.displaySelectedLabel=!0,this.maxSelectedLabels=3,this.selectedItemsLabel="ellipsis",this.showToggleAll=!0,this.emptyFilterMessage="",this.emptyMessage="",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.showHeader=!0,this.scrollHeight="200px",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.display="comma",this.autocomplete="on",this.showClear=!1,this.onChange=new R,this.onFilter=new R,this.onFocus=new R,this.onBlur=new R,this.onClick=new R,this.onClear=new R,this.onPanelShow=new R,this.onPanelHide=new R,this.onLazyLoad=new R,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(e){this._defaultLabel=e,this.updateLabel()}get defaultLabel(){return this._defaultLabel}set placeholder(e){this._placeholder=e,this.updateLabel()}get placeholder(){return this._placeholder}get options(){return this._options}set options(e){this._options=e,this.updateLabel()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.updateLabel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItems":this.selectedItemsTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"loader":this.loaderTemplate=e.template}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}getOptionLabel(e){return this.optionLabel?G.resolveFieldData(e,this.optionLabel):e&&null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?G.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&void 0!==e.value?e.value:e}getOptionGroupLabel(e){return this.optionGroupLabel?G.resolveFieldData(e,this.optionGroupLabel):e&&null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?G.resolveFieldData(e,this.optionGroupChildren):e.items}isOptionDisabled(e){return(this.optionDisabled?G.resolveFieldData(e,this.optionDisabled):!(!e||void 0===e.disabled)&&e.disabled)||this.maxSelectionLimitReached&&!this.isSelected(e)}writeValue(e){this.value=e,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.cd.markForCheck()}checkSelectionLimit(){this.maxSelectionLimitReached=!(!this.selectionLimit||!this.value||this.value.length!==this.selectionLimit)}updateFilledState(){this.filled=this.value&&this.value.length>0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOptionClick(e){let i=e.option;if(this.isOptionDisabled(i))return;let r=this.getOptionValue(i),s=this.findSelectionIndex(r);-1!=s?(this.value=this.value.filter((o,a)=>a!=s),this.selectionLimit&&(this.maxSelectionLimitReached=!1)):((!this.selectionLimit||!this.value||this.value.length<this.selectionLimit)&&(this.value=[...this.value||[],r]),this.checkSelectionLimit()),this.onModelChange(this.value),this.onChange.emit({originalEvent:e.originalEvent,value:this.value,itemValue:r}),this.updateLabel(),this.updateFilledState()}isSelected(e){return-1!=this.findSelectionIndex(this.getOptionValue(e))}findSelectionIndex(e){let i=-1;if(this.value)for(let r=0;r<this.value.length;r++)if(G.equals(this.value[r],e,this.dataKey)){i=r;break}return i}get toggleAllDisabled(){let e=this.optionsToRender;if(!e||0===e.length)return!0;for(let i of e)if(!this.isOptionDisabled(i))return!1;return!0}toggleAll(e){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateFilledState(),this.updateLabel(),e.preventDefault())}checkAll(){let i=[];this.optionsToRender.forEach(r=>{if(this.group){let s=this.getOptionGroupChildren(r);s&&s.forEach(o=>{let a=this.isOptionDisabled(o);(!a||a&&this.isSelected(o))&&i.push(this.getOptionValue(o))})}else{let s=this.isOptionDisabled(r);(!s||s&&this.isSelected(r))&&i.push(this.getOptionValue(r))}}),this.value=i}uncheckAll(){let i=[];this.optionsToRender.forEach(r=>{this.group?r.items&&r.items.forEach(s=>{this.isOptionDisabled(s)&&this.isSelected(s)&&i.push(this.getOptionValue(s))}):this.isOptionDisabled(r)&&this.isSelected(r)&&i.push(this.getOptionValue(r))}),this.value=i}show(){this.overlayVisible||(this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck())}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild.nativeElement),this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.onModelTouched()}}hide(){this.overlayVisible=!1,this.resetFilterOnHide&&this.resetFilter(),this.onPanelHide.emit(),this.cd.markForCheck()}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}close(e){this.hide(),e.preventDefault(),e.stopPropagation()}clear(e){this.value=null,this.updateLabel(),this.updateFilledState(),this.onClear.emit(),this.onModelChange(this.value),e.stopPropagation()}onMouseclick(e,i){this.disabled||this.readonly||e.target.isSameNode(this.accessibleViewChild.nativeElement)||(this.onClick.emit(e),!this.overlayViewChild?.el?.nativeElement?.contains(e.target)&&!k.hasClass(e.target,"p-multiselect-token-icon")&&(this.overlayVisible?this.hide():this.show(),i.focus()))}removeChip(e,i){this.value=this.value.filter(r=>!G.equals(r,e,this.dataKey)),this.onModelChange(this.value),this.checkSelectionLimit(),this.onChange.emit({originalEvent:i,value:this.value,itemValue:e}),this.updateLabel(),this.updateFilledState()}onInputFocus(e){this.focus=!0,this.onFocus.emit({originalEvent:e})}onInputBlur(e){this.focus=!1,this.onBlur.emit({originalEvent:e}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onOptionKeydown(e){if(!this.readonly)switch(e.originalEvent.which){case 40:var i=this.findNextItem(e.originalEvent.target.parentElement);i&&i.focus(),e.originalEvent.preventDefault();break;case 38:var r=this.findPrevItem(e.originalEvent.target.parentElement);r&&r.focus(),e.originalEvent.preventDefault();break;case 13:this.onOptionClick(e),e.originalEvent.preventDefault();break;case 27:case 9:this.hide()}}findNextItem(e){let i=e.nextElementSibling;return i?k.hasClass(i.children[0],"p-disabled")||k.isHidden(i.children[0])||k.hasClass(i,"p-multiselect-item-group")?this.findNextItem(i):i.children[0]:null}findPrevItem(e){let i=e.previousElementSibling;return i?k.hasClass(i.children[0],"p-disabled")||k.isHidden(i.children[0])||k.hasClass(i,"p-multiselect-item-group")?this.findPrevItem(i):i.children[0]:null}onKeydown(e){switch(e.which){case 40:!this.overlayVisible&&e.altKey&&(this.show(),e.preventDefault());break;case 32:this.overlayVisible||(this.show(),e.preventDefault());break;case 27:this.hide()}}updateLabel(){if(this.value&&this.options&&this.value.length&&this.displaySelectedLabel){let e="";for(let i=0;i<this.value.length;i++){let r=this.findLabelByValue(this.value[i]);r&&(e.length>0&&(e+=", "),e+=r)}if(this.value.length<=this.maxSelectedLabels||"ellipsis"===this.selectedItemsLabel)this.valuesAsString=e;else{let i=/{(.*?)}/;this.valuesAsString=i.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(i)[0],this.value.length+""):this.selectedItemsLabel}}else this.valuesAsString=this.placeholder||this.defaultLabel}findLabelByValue(e){if(this.group){let i=null;for(let r=0;r<this.options.length;r++){let s=this.getOptionGroupChildren(this.options[r]);if(s&&(i=this.searchLabelByValue(e,s),i))break}return i}return this.searchLabelByValue(e,this.options)}searchLabelByValue(e,i){let r=null;for(let s=0;s<i.length;s++){let o=i[s],a=this.getOptionValue(o);if(null==e&&null==a||G.equals(e,a,this.dataKey)){r=this.getOptionLabel(o);break}}return r}get allChecked(){let e=this.optionsToRender;if(!e||0===e.length)return!1;{let i=0,r=0,s=0,o=this.group?0:this.optionsToRender.length;for(let a of e)if(this.group)for(let l of this.getOptionGroupChildren(a)){let c=this.isOptionDisabled(l),u=this.isSelected(l);if(c)u?i++:r++;else{if(!u)return!1;s++}o++}else{let l=this.isOptionDisabled(a),c=this.isSelected(a);if(l)c?i++:r++;else{if(!c)return!1;s++}}return o===i||o===s||s&&o===s+r+i}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(tn.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(tn.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilterInputChange(e){this._filterValue=e.target.value,this.activateFilter(),this.onFilter.emit({originalEvent:e,filter:this._filterValue}),this.cd.detectChanges()}activateFilter(){if(this.hasFilter()&&this._options){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.group){let i=[];for(let r of this.options){let s=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);s&&s.length&&i.push({...r,[this.optionGroupChildren]:s})}this._filteredOptions=i}else this._filteredOptions=this.filterService.filter(this.options,e,this._filterValue,this.filterMatchMode,this.filterLocale)}else this._filteredOptions=null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(Gn),x(tt),x(st),x(rC),x(_r),x(Ua))},n.\u0275cmp=Ae({type:n,selectors:[["p-multiSelect"]],contentQueries:function(e,i,r){if(1&e&&(dt(r,fg,5),dt(r,sC,5),dt(r,gt,4)),2&e){let s;Q(s=Y())&&(i.footerFacet=s.first),Q(s=Y())&&(i.headerFacet=s.first),Q(s=Y())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(ge(sEe,5),ge(oEe,5),ge(aEe,5),ge(lEe,5),ge(cEe,5),ge(uEe,5)),2&e){let r;Q(r=Y())&&(i.containerViewChild=r.first),Q(r=Y())&&(i.overlayViewChild=r.first),Q(r=Y())&&(i.filterInputChild=r.first),Q(r=Y())&&(i.accessibleViewChild=r.first),Q(r=Y())&&(i.itemsViewChild=r.first),Q(r=Y())&&(i.scroller=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&ai("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus||i.overlayVisible)("p-multiselect-clearable",i.showClear&&!i.disabled)},inputs:{style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",label:"label",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:"selectionLimit",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",autocomplete:"autocomplete",showClear:"showClear",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad"},features:[Ue([l1e])],ngContentSelectors:a1e,decls:15,vars:41,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","readonly","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[1,"p-multiselect-label",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-multiselect-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],["token",""],[1,"p-multiselect-token-label"],["class","p-multiselect-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-multiselect-token-icon","pi","pi-times-circle",3,"click"],[1,"p-multiselect-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle","keydown"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link",3,"click"],[1,"p-multiselect-close-icon","pi","pi-times"],[1,"p-checkbox","p-component",3,"ngClass"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-multiselect-filter-container"],["type","text","role","textbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"value","disabled","input"],["filterInput",""],[1,"p-multiselect-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","tabindex","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["items",""],["itemslist",""],["class","p-multiselect-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-multiselect-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","itemSize","onClick","onKeydown"],[1,"p-multiselect-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""],[1,"p-multiselect-footer"]],template:function(e,i){if(1&e){const r=N();pr(i1e),_(0,"div",0,1),S("click",function(o){C(r);const a=Ge(4);return I(i.onMouseclick(o,a))}),_(2,"div",2)(3,"input",3,4),S("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)})("keydown",function(o){return i.onKeydown(o)}),y()(),_(5,"div",5)(6,"div",6),v(7,gEe,3,2,"ng-container",7),v(8,_Ee,1,0,"ng-container",8),y(),v(9,yEe,1,0,"i",9),y(),_(10,"div",10),j(11,"span",11),y(),_(12,"p-overlay",12,13),S("visibleChange",function(o){return i.overlayVisible=o})("onAnimationStart",function(o){return i.onOverlayAnimationStart(o)})("onHide",function(){return i.hide()}),v(14,n1e,8,11,"ng-template",14),y()()}2&e&&(ce(i.styleClass),p("ngClass",Ji(30,r1e,i.overlayVisible,"chip"===i.display,i.focus,i.disabled))("ngStyle",i.style),m(3),p("disabled",i.disabled),ie("label",i.label)("id",i.inputId)("name",i.name)("tabindex",i.tabindex)("aria-expanded",i.overlayVisible)("aria-labelledby",i.ariaLabelledBy),m(2),p("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass),m(1),p("ngClass",ye(35,s1e,i.valuesAsString===(i.defaultLabel||i.placeholder),!(null!=i.valuesAsString&&0!==i.valuesAsString.length||null!=i.placeholder&&0!==i.placeholder.length))),m(1),p("ngIf",!i.selectedItemsTemplate),m(1),p("ngTemplateOutlet",i.selectedItemsTemplate)("ngTemplateOutletContext",B(38,pf,i.value)),m(1),p("ngIf",null!=i.value&&i.filled&&!i.disabled&&i.showClear),m(1),p("ngClass",en(40,o1e)),m(1),p("ngClass",i.dropdownIcon),m(1),p("visible",i.overlayVisible)("options",i.overlayOptions)("target","@parent")("appendTo",i.appendTo)("autoZIndex",i.autoZIndex)("baseZIndex",i.baseZIndex)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions))},dependencies:[Ze,qn,qe,St,at,Fy,gt,s5,Mn,Ly,c1e],styles:[".p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-chip .p-multiselect-label{display:flex}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),b$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,Lu,nt,Nu,pn,ha,Lu,nt,ha]}),n})(),u1e=(()=>{class n{constructor(e,i,r,s){this.el=e,this.ngModel=i,this.control=r,this.cd=s,this.onResize=new R}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(e){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(e){this.autoResize&&this.resize(e)}onBlur(e){this.autoResize&&this.resize(e)}resize(e){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(e||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(da,8),x(bs,8),x(tt))},n.\u0275dir=_e({type:n,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(e,i){1&e&&S("input",function(s){return i.onInput(s)})("focus",function(s){return i.onFocus(s)})("blur",function(s){return i.onBlur(s)}),2&e&&ai("p-filled",i.filled)("p-inputtextarea-resizable",i.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),n})(),w$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee]}),n})();const d1e=["input"];function h1e(n,t){if(1&n){const e=N();_(0,"i",5),S("click",function(){return C(e),I(f().clear())}),y()}}function p1e(n,t){if(1&n){const e=N();_(0,"i",6),S("click",function(){return C(e),I(f().onMaskToggle())}),mc(1,"mapper"),y()}if(2&n){const e=f();p("ngClass",gc(1,1,e.unmasked,e.toggleIconClass))}}function f1e(n,t){1&n&&$(0)}function m1e(n,t){1&n&&$(0)}function g1e(n,t){if(1&n&&(ae(0),v(1,m1e,1,0,"ng-container",8),le()),2&n){const e=f(2);m(1),p("ngTemplateOutlet",e.contentTemplate)}}const _1e=function(n){return{width:n}};function y1e(n,t){if(1&n&&(_(0,"div",11),j(1,"div",0),mc(2,"mapper"),y(),_(3,"div",12),L(4),y()),2&n){const e=f(2);m(1),p("ngClass",gc(2,3,e.meter,e.strengthClass))("ngStyle",B(6,_1e,e.meter?e.meter.width:"")),m(3),se(e.infoText)}}function v1e(n,t){1&n&&$(0)}const b1e=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},w1e=function(n){return{value:"visible",params:n}};function C1e(n,t){if(1&n){const e=N();_(0,"div",6,7),S("click",function(r){return C(e),I(f().onOverlayClick(r))})("@overlayAnimation.start",function(r){return C(e),I(f().onAnimationStart(r))})("@overlayAnimation.done",function(r){return C(e),I(f().onAnimationEnd(r))}),v(2,f1e,1,0,"ng-container",8),v(3,g1e,2,1,"ng-container",9),v(4,y1e,5,8,"ng-template",null,10,ln),v(6,v1e,1,0,"ng-container",8),y()}if(2&n){const e=Ge(5),i=f();p("ngClass","p-password-panel p-component")("@overlayAnimation",B(9,w1e,ye(6,b1e,i.showTransitionOptions,i.hideTransitionOptions))),m(2),p("ngTemplateOutlet",i.headerTemplate),m(1),p("ngIf",i.contentTemplate)("ngIfElse",e),m(3),p("ngTemplateOutlet",i.footerTemplate)}}let I1e=(()=>{class n{transform(e,i,...r){return i(e,...r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=yi({name:"mapper",type:n,pure:!0}),n})();const T1e={provide:kt,useExisting:Fe(()=>C$),multi:!0};let C$=(()=>{class n{constructor(e,i,r,s){this.cd=e,this.config=i,this.el=r,this.overlayService=s,this.mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",this.strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",this.feedback=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.showClear=!1,this.onFocus=new R,this.onBlur=new R,this.onClear=new R,this.overlayVisible=!1,this.focused=!1,this.unmasked=!1,this.value=null,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,hn.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}onAnimationEnd(e){"void"===e.toState&&hn.clear(e.element)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=k.getOuterWidth(this.input.nativeElement)+"px",k.absolutePosition(this.overlay,this.input.nativeElement)):k.relativePosition(this.overlay,this.input.nativeElement)}onInput(e){this.value=e.target.value,this.onModelChange(this.value),this.onModelTouched()}onInputFocus(e){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onBlur.emit(e)}onKeyDown(e){"Escape"===e.key&&(this.overlayVisible=!1)}onKeyUp(e){this.feedback&&(this.updateUI(e.target.value),this.overlayVisible||(this.overlayVisible=!0))}updateUI(e){let i=null,r=null;switch(this.testStrength(e)){case 1:i=this.weakText(),r={strength:"weak",width:"33.33%"};break;case 2:i=this.mediumText(),r={strength:"medium",width:"66.66%"};break;case 3:i=this.strongText(),r={strength:"strong",width:"100%"};break;default:i=this.promptText(),r=null}this.meter=r,this.infoText=i}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}testStrength(e){let i=0;return this.strongCheckRegExp.test(e)?i=3:this.mediumCheckRegExp.test(e)?i=2:e.length&&(i=1),i}writeValue(e){this.value=void 0===e?null:e,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new lh(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!k.isTouchDevice()&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}containerClass(e){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":e}}inputFieldClass(e){return{"p-password-input":!0,"p-disabled":e}}toggleIconClass(e){return e?"pi pi-eye-slash":"pi pi-eye"}strengthClass(e){return`p-password-strength ${e?e.strength:""}`}filled(){return null!=this.value&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(tn.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(tn.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(tn.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(tn.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlay):document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(e){return e?"text":"password"}getTranslation(e){return this.config.getTranslation(e)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(hn.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(x(tt),x(_r),x(ze),x(Ua))},n.\u0275cmp=Ae({type:n,selectors:[["p-password"]],contentQueries:function(e,i,r){if(1&e&&dt(r,gt,4),2&e){let s;Q(s=Y())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&ge(d1e,5),2&e){let r;Q(r=Y())&&(i.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(e,i){2&e&&ai("p-inputwrapper-filled",i.filled())("p-inputwrapper-focus",i.focused)("p-password-clearable",i.showClear)("p-password-mask",i.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder",showClear:"showClear"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[Ue([T1e])],decls:9,vars:27,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup","keydown"],["input",""],["class","p-password-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[1,"p-password-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","click"],["overlay",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(e,i){1&e&&(_(0,"div",0),mc(1,"mapper"),_(2,"input",1,2),S("input",function(s){return i.onInput(s)})("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)})("keyup",function(s){return i.onKeyUp(s)})("keydown",function(s){return i.onKeyDown(s)}),mc(4,"mapper"),mc(5,"mapper"),y(),v(6,h1e,1,0,"i",3),v(7,p1e,2,4,"i",4),v(8,C1e,7,11,"div",4),y()),2&e&&(ce(i.styleClass),p("ngClass",gc(1,18,i.toggleMask,i.containerClass))("ngStyle",i.style),m(2),ce(i.inputStyleClass),p("ngClass",gc(4,21,i.disabled,i.inputFieldClass))("ngStyle",i.inputStyle)("value",i.value),ie("label",i.label)("aria-label",i.ariaLabel)("aria-labelledBy",i.ariaLabelledBy)("id",i.inputId)("type",gc(5,24,i.unmasked,i.inputType))("placeholder",i.placeholder),m(4),p("ngIf",i.showClear&&null!=i.value),m(1),p("ngIf",i.toggleMask),m(1),p("ngIf",i.overlayVisible))},dependencies:[Ze,qe,St,at,Fu,I1e],styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password-clearable{position:relative}\n"],encapsulation:2,data:{animation:[Gs("overlayAnimation",[Cn(":enter",[bt({opacity:0,transform:"scaleY(0.8)"}),fn("{{showTransitionParams}}")]),Cn(":leave",[fn("{{hideTransitionParams}}",bt({opacity:0}))])])]},changeDetection:0}),n})(),I$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,po,nt]}),n})();class E1e extends Hi{constructor(t,e){super()}schedule(t,e=0){return this}}const iv={setInterval(n,t,...e){const{delegate:i}=iv;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=iv;return(t?.clearInterval||clearInterval)(n)},delegate:void 0},T$={now:()=>(T$.delegate||Date).now(),delegate:void 0};class ff{constructor(t,e=ff.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}ff.now=T$.now;const D1e=new class x1e extends ff{constructor(t,e=ff.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}(class S1e extends E1e{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return iv.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&iv.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,gf(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}});function M1e(n,t){1&n&&j(0,"span",11),2&n&&p("innerHTML",f(2).$implicit.summary,Db)}function R1e(n,t){1&n&&j(0,"span",12),2&n&&p("innerHTML",f(2).$implicit.detail,Db)}function P1e(n,t){if(1&n&&(ae(0),v(1,M1e,1,1,"span",9),v(2,R1e,1,1,"span",10),le()),2&n){const e=f().$implicit;m(1),p("ngIf",e.summary),m(1),p("ngIf",e.detail)}}function O1e(n,t){if(1&n&&(_(0,"span",15),L(1),y()),2&n){const e=f(2).$implicit;m(1),se(e.summary)}}function F1e(n,t){if(1&n&&(_(0,"span",16),L(1),y()),2&n){const e=f(2).$implicit;m(1),se(e.detail)}}function L1e(n,t){if(1&n&&(v(0,O1e,2,1,"span",13),v(1,F1e,2,1,"span",14)),2&n){const e=f().$implicit;p("ngIf",e.summary),m(1),p("ngIf",e.detail)}}function N1e(n,t){if(1&n){const e=N();_(0,"button",17),S("click",function(){C(e);const r=f().index;return I(f(2).removeMessage(r))}),j(1,"i",18),y()}}const V1e=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},B1e=function(n){return{value:"visible",params:n}},U1e=function(n,t,e,i){return{"pi-info-circle":n,"pi-check":t,"pi-exclamation-triangle":e,"pi-times-circle":i}};function H1e(n,t){if(1&n&&(_(0,"div",4)(1,"div",5),j(2,"span",6),v(3,P1e,3,2,"ng-container",1),v(4,L1e,2,2,"ng-template",null,7,ln),v(6,N1e,2,0,"button",8),y()()),2&n){const e=t.$implicit,i=Ge(5),r=f(2);ce("p-message p-message-"+e.severity),p("@messageAnimation",B(12,B1e,ye(9,V1e,r.showTransitionOptions,r.hideTransitionOptions))),m(2),ce("p-message-icon pi"+(e.icon?" "+e.icon:"")),p("ngClass",Ji(14,U1e,"info"===e.severity,"success"===e.severity,"warn"===e.severity,"error"===e.severity)),m(1),p("ngIf",!r.escape)("ngIfElse",i),m(3),p("ngIf",r.closable)}}function z1e(n,t){if(1&n&&(ae(0),v(1,H1e,7,19,"div",3),le()),2&n){const e=f();m(1),p("ngForOf",e.messages)}}function $1e(n,t){1&n&&$(0)}function j1e(n,t){if(1&n&&(_(0,"div",19)(1,"div",5),v(2,$1e,1,0,"ng-container",20),y()()),2&n){const e=f();p("ngClass","p-message p-message-"+e.severity),m(2),p("ngTemplateOutlet",e.contentTemplate)}}let G1e=(()=>{class n{constructor(e,i,r){this.messageService=e,this.el=i,this.cd=r,this.closable=!0,this.enableService=!0,this.escape=!0,this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)",this.valueChange=new R,this.timerSubscriptions=[]}set value(e){this.messages=e,this.startMessageLifes(this.messages)}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.contentTemplate=e.template}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e){e instanceof Array||(e=[e]);const i=e.filter(r=>this.key===r.key);this.messages=this.messages?[...this.messages,...i]:[...i],this.startMessageLifes(i),this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()}))}hasMessages(){let e=this.el.nativeElement.parentElement;return!(!e||!e.offsetParent)&&(null!=this.contentTemplate||this.messages&&this.messages.length>0)}clear(){this.messages=[],this.valueChange.emit(this.messages)}removeMessage(e){this.messages=this.messages.filter((i,r)=>r!==e),this.valueChange.emit(this.messages)}get icon(){const e=this.severity||(this.hasMessages()?this.messages[0].severity:null);if(this.hasMessages())switch(e){case"success":return"pi-check";case"info":default:return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle"}return null}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.timerSubscriptions?.forEach(e=>e.unsubscribe())}startMessageLifes(e){e?.forEach(i=>i.life&&this.startMessageLife(i))}startMessageLife(e){const i=function k1e(n=0,t,e=D1e){let i=-1;return null!=t&&(jD(t)?e=t:i=t),new Zt(r=>{let s=function A1e(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(e.life).subscribe(()=>{this.messages=this.messages?.filter(r=>r!==e),this.timerSubscriptions=this.timerSubscriptions?.filter(r=>r!==i),this.valueChange.emit(this.messages),this.cd.markForCheck()});this.timerSubscriptions.push(i)}}return n.\u0275fac=function(e){return new(e||n)(x(ko,8),x(ze),x(tt))},n.\u0275cmp=Ae({type:n,selectors:[["p-messages"]],contentQueries:function(e,i,r){if(1&e&&dt(r,gt,4),2&e){let s;Q(s=Y())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:"closable",style:"style",styleClass:"styleClass",enableService:"enableService",key:"key",escape:"escape",severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange"},decls:4,vars:5,consts:[["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["staticMessage",""],["role","alert",3,"class",4,"ngFor","ngForOf"],["role","alert"],[1,"p-message-wrapper"],[3,"ngClass"],["escapeOut",""],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[1,"p-message-close-icon","pi","pi-times"],["role","alert",3,"ngClass"],[4,"ngTemplateOutlet"]],template:function(e,i){if(1&e&&(_(0,"div",0),v(1,z1e,2,1,"ng-container",1),v(2,j1e,3,2,"ng-template",null,2,ln),y()),2&e){const r=Ge(3);ce(i.styleClass),p("ngStyle",i.style),m(1),p("ngIf",!i.contentTemplate)("ngIfElse",r)}},dependencies:[Ze,qn,qe,St,at,Mn],styles:[".p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}.p-messages .p-message.ng-animating{overflow:hidden}\n"],encapsulation:2,data:{animation:[Gs("messageAnimation",[Cn(":enter",[bt({opacity:0,transform:"translateY(-25%)"}),fn("{{showTransitionParams}}")]),Cn(":leave",[fn("{{hideTransitionParams}}",bt({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0}),n})(),rv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,pn]}),n})(),E$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee]}),n})();const Z1e=["sliderHandle"],J1e=["sliderHandleStart"],X1e=["sliderHandleEnd"],eSe=function(n,t){return{left:n,width:t}};function tSe(n,t){if(1&n&&j(0,"span",4),2&n){const e=f();p("ngStyle",ye(1,eSe,null!=e.offset?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%"))}}const nSe=function(n,t){return{bottom:n,height:t}};function iSe(n,t){if(1&n&&j(0,"span",4),2&n){const e=f();p("ngStyle",ye(1,nSe,null!=e.offset?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%"))}}const rSe=function(n){return{height:n}};function sSe(n,t){if(1&n&&j(0,"span",4),2&n){const e=f();p("ngStyle",B(1,rSe,e.handleValue+"%"))}}const oSe=function(n){return{width:n}};function aSe(n,t){if(1&n&&j(0,"span",4),2&n){const e=f();p("ngStyle",B(1,oSe,e.handleValue+"%"))}}const yD=function(n,t){return{left:n,bottom:t}};function lSe(n,t){if(1&n){const e=N();_(0,"span",5,6),S("keydown",function(r){return C(e),I(f().onHandleKeydown(r))})("mousedown",function(r){return C(e),I(f().onMouseDown(r))})("touchstart",function(r){return C(e),I(f().onTouchStart(r))})("touchmove",function(r){return C(e),I(f().onTouchMove(r))})("touchend",function(r){return C(e),I(f().onTouchEnd(r))}),y()}if(2&n){const e=f();Or("transition",e.dragging?"none":null),p("ngStyle",ye(8,yD,"horizontal"==e.orientation?e.handleValue+"%":null,"vertical"==e.orientation?e.handleValue+"%":null)),ie("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)}}const S$=function(n){return{"p-slider-handle-active":n}};function cSe(n,t){if(1&n){const e=N();_(0,"span",7,8),S("keydown",function(r){return C(e),I(f().onHandleKeydown(r,0))})("mousedown",function(r){return C(e),I(f().onMouseDown(r,0))})("touchstart",function(r){return C(e),I(f().onTouchStart(r,0))})("touchmove",function(r){return C(e),I(f().onTouchMove(r,0))})("touchend",function(r){return C(e),I(f().onTouchEnd(r))}),y()}if(2&n){const e=f();Or("transition",e.dragging?"none":null),p("ngStyle",ye(9,yD,e.rangeStartLeft,e.rangeStartBottom))("ngClass",B(12,S$,0==e.handleIndex)),ie("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[0]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)}}function uSe(n,t){if(1&n){const e=N();_(0,"span",7,9),S("keydown",function(r){return C(e),I(f().onHandleKeydown(r,1))})("mousedown",function(r){return C(e),I(f().onMouseDown(r,1))})("touchstart",function(r){return C(e),I(f().onTouchStart(r,1))})("touchmove",function(r){return C(e),I(f().onTouchMove(r,1))})("touchend",function(r){return C(e),I(f().onTouchEnd(r))}),y()}if(2&n){const e=f();Or("transition",e.dragging?"none":null),p("ngStyle",ye(9,yD,e.rangeEndLeft,e.rangeEndBottom))("ngClass",B(12,S$,1==e.handleIndex)),ie("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[1]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)}}const dSe=function(n,t,e,i){return{"p-slider p-component":!0,"p-disabled":n,"p-slider-horizontal":t,"p-slider-vertical":e,"p-slider-animate":i}},hSe={provide:kt,useExisting:Fe(()=>pSe),multi:!0};let pSe=(()=>{class n{constructor(e,i,r,s){this.el=e,this.renderer=i,this.ngZone=r,this.cd=s,this.min=0,this.max=100,this.orientation="horizontal",this.tabindex=0,this.onChange=new R,this.onSlideEnd=new R,this.handleValues=[],this.onModelChange=()=>{},this.onModelTouched=()=>{},this.handleIndex=0}onMouseDown(e,i){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:i,this.bindDragListeners(),e.target.focus(),e.preventDefault(),this.animate&&k.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onTouchStart(e,i){if(!this.disabled){var r=e.changedTouches[0];this.startHandleValue=this.range?this.handleValues[i]:this.handleValue,this.dragging=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:i,"horizontal"===this.orientation?(this.startx=parseInt(r.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(r.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&k.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),e.preventDefault()}}onTouchMove(e,i){if(!this.disabled){var s,r=e.changedTouches[0];s="horizontal"===this.orientation?Math.floor(100*(parseInt(r.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(r.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(e,s),e.preventDefault()}}onTouchEnd(e,i){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:e,values:this.values}:{originalEvent:e,value:this.value}),this.animate&&k.addClass(this.el.nativeElement.children[0],"p-slider-animate"),e.preventDefault())}onBarClick(e){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(e)),this.sliderHandleClick=!1)}onHandleKeydown(e,i){this.disabled||(38==e.which||39==e.which?this.spin(e,1,i):(37==e.which||40==e.which)&&this.spin(e,-1,i))}spin(e,i,r){let s=(this.step||1)*i;this.range?(this.handleIndex=r,this.updateValue(this.values[this.handleIndex]+s),this.updateHandleValue()):(this.updateValue(this.value+s),this.updateHandleValue()),e.preventDefault()}handleChange(e){let i=this.calculateHandleValue(e);this.setValueFromHandle(e,i)}bindDragListeners(){this.ngZone.runOutsideAngular(()=>{const e=this.el?this.el.nativeElement.ownerDocument:"document";this.dragListener||(this.dragListener=this.renderer.listen(e,"mousemove",i=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(i)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(e,"mouseup",i=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.onSlideEnd.emit(this.range?{originalEvent:i,values:this.values}:{originalEvent:i,value:this.value}),this.animate&&k.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()}setValueFromHandle(e,i){this.sliderHandleClick=!1;let r=this.getValueFromHandle(i);this.range?this.step?this.handleStepChange(r,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=i,this.updateValue(r,e)):this.step?this.handleStepChange(r,this.value):(this.handleValue=i,this.updateValue(r,e)),this.cd.markForCheck()}handleStepChange(e,i){let r=e-i,s=i;r<0?s=i+Math.ceil(e/this.step-i/this.step)*this.step:r>0&&(s=i+Math.floor(e/this.step-i/this.step)*this.step),this.updateValue(s),this.updateHandleValue()}writeValue(e){this.range?this.values=e||[0,0]:this.value=e||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let e=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=e.left+k.getWindowScrollLeft(),this.initY=e.top+k.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(e){return"horizontal"===this.orientation?100*(e.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-e.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(e,i){if(this.range){let r=e;0==this.handleIndex?(r<this.min?(r=this.min,this.handleValues[0]=0):r>this.values[1]&&r>this.max&&(r=this.max,this.handleValues[0]=100),this.sliderHandleStart.nativeElement.focus()):(r>this.max?(r=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):r<this.min?(r=this.min,this.handleValues[1]=0):r<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(r),this.onModelChange([this.minVal,this.maxVal]),this.onChange.emit({event:i,values:this.values})}else e<this.min?(e=this.min,this.handleValue=0):e>this.max&&(e=this.max,this.handleValue=100),this.value=this.getNormalizedValue(e),this.onModelChange(this.value),this.onChange.emit({event:i,value:this.value}),this.sliderHandle.nativeElement.focus()}getValueFromHandle(e){return e/100*(this.max-this.min)+this.min}getDecimalsCount(e){return e&&Math.floor(e)!==e&&e.toString().split(".")[1].length||0}getNormalizedValue(e){let i=this.getDecimalsCount(this.step);return i>0?+parseFloat(e.toString()).toFixed(i):Math.floor(e)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(Gn),x(st),x(tt))},n.\u0275cmp=Ae({type:n,selectors:[["p-slider"]],viewQuery:function(e,i){if(1&e&&(ge(Z1e,5),ge(J1e,5),ge(X1e,5)),2&e){let r;Q(r=Y())&&(i.sliderHandle=r.first),Q(r=Y())&&(i.sliderHandleStart=r.first),Q(r=Y())&&(i.sliderHandleEnd=r.first)}},hostAttrs:[1,"p-element"],inputs:{animate:"animate",disabled:"disabled",min:"min",max:"max",orientation:"orientation",step:"step",range:"range",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex"},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[Ue([hSe])],decls:8,vars:16,consts:[[3,"ngStyle","ngClass","click"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],[1,"p-slider-handle",3,"ngStyle","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandle",""],[1,"p-slider-handle",3,"ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandleStart",""],["sliderHandleEnd",""]],template:function(e,i){1&e&&(_(0,"div",0),S("click",function(s){return i.onBarClick(s)}),v(1,tSe,1,4,"span",1),v(2,iSe,1,4,"span",1),v(3,sSe,1,3,"span",1),v(4,aSe,1,3,"span",1),v(5,lSe,2,11,"span",2),v(6,cSe,2,14,"span",3),v(7,uSe,2,14,"span",3),y()),2&e&&(ce(i.styleClass),p("ngStyle",i.style)("ngClass",Ji(11,dSe,i.disabled,"horizontal"==i.orientation,"vertical"==i.orientation,i.animate)),m(1),p("ngIf",i.range&&"horizontal"==i.orientation),m(1),p("ngIf",i.range&&"vertical"==i.orientation),m(1),p("ngIf",!i.range&&"vertical"==i.orientation),m(1),p("ngIf",!i.range&&"horizontal"==i.orientation),m(1),p("ngIf",!i.range),m(1),p("ngIf",i.range),m(1),p("ngIf",i.range))},dependencies:[Ze,qe,at],styles:[".p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),x$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee]}),n})(),A$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({providers:[see],imports:[Ee,Xi,pn,Nu,Xi,Nu]}),n})();const RSe=["advancedfileinput"],PSe=["basicfileinput"],OSe=["content"];function FSe(n,t){if(1&n){const e=N();_(0,"p-button",17),S("onClick",function(){return C(e),I(f(2).upload())}),y()}if(2&n){const e=f(2);p("label",e.uploadButtonLabel)("icon",e.uploadIcon)("disabled",!e.hasFiles()||e.isFileLimitExceeded())("styleClass",e.uploadStyleClass)}}function LSe(n,t){if(1&n){const e=N();_(0,"p-button",17),S("onClick",function(){return C(e),I(f(2).clear())}),y()}if(2&n){const e=f(2);p("label",e.cancelButtonLabel)("icon",e.cancelIcon)("disabled",!e.hasFiles()||e.uploading)("styleClass",e.cancelStyleClass)}}function NSe(n,t){1&n&&$(0)}function VSe(n,t){1&n&&j(0,"p-progressBar",18),2&n&&p("value",f(2).progress)("showValue",!1)}function BSe(n,t){if(1&n){const e=N();_(0,"img",26),S("error",function(r){return C(e),I(f(5).imageError(r))}),y()}if(2&n){const e=f().$implicit,i=f(4);p("src",e.objectURL,xa)("width",i.previewWidth)}}function USe(n,t){if(1&n){const e=N();_(0,"div",22)(1,"div"),v(2,BSe,1,2,"img",23),y(),_(3,"div",24),L(4),y(),_(5,"div"),L(6),y(),_(7,"div")(8,"button",25),S("click",function(r){const o=C(e).index;return I(f(4).remove(r,o))}),y()()()}if(2&n){const e=t.$implicit,i=f(4);m(2),p("ngIf",i.isImage(e)),m(2),se(e.name),m(2),se(i.formatSize(e.size)),m(2),ce(i.removeStyleClass),p("disabled",i.uploading)}}function HSe(n,t){if(1&n&&(_(0,"div"),v(1,USe,9,6,"div",21),y()),2&n){const e=f(3);m(1),p("ngForOf",e.files)}}function zSe(n,t){}function $Se(n,t){if(1&n&&(_(0,"div"),v(1,zSe,0,0,"ng-template",27),y()),2&n){const e=f(3);m(1),p("ngForOf",e.files)("ngForTemplate",e.fileTemplate)}}function jSe(n,t){if(1&n&&(_(0,"div",19),v(1,HSe,2,1,"div",20),v(2,$Se,2,2,"div",20),y()),2&n){const e=f(2);m(1),p("ngIf",!e.fileTemplate),m(1),p("ngIf",e.fileTemplate)}}function GSe(n,t){1&n&&$(0)}const qSe=function(n,t){return{"p-focus":n,"p-disabled":t}},WSe=function(n){return{$implicit:n}};function KSe(n,t){if(1&n){const e=N();_(0,"div",2)(1,"div",3)(2,"span",4),S("focus",function(){return C(e),I(f().onFocus())})("blur",function(){return C(e),I(f().onBlur())})("click",function(){return C(e),I(f().choose())})("keydown.enter",function(){return C(e),I(f().choose())}),_(3,"input",5,6),S("change",function(r){return C(e),I(f().onFileSelect(r))}),y(),j(5,"span",7),_(6,"span",8),L(7),y()(),v(8,FSe,1,4,"p-button",9),v(9,LSe,1,4,"p-button",9),v(10,NSe,1,0,"ng-container",10),y(),_(11,"div",11,12),S("dragenter",function(r){return C(e),I(f().onDragEnter(r))})("dragleave",function(r){return C(e),I(f().onDragLeave(r))})("drop",function(r){return C(e),I(f().onDrop(r))}),v(13,VSe,1,2,"p-progressBar",13),j(14,"p-messages",14),v(15,jSe,3,2,"div",15),v(16,GSe,1,0,"ng-container",16),y()()}if(2&n){const e=f();ce(e.styleClass),p("ngClass","p-fileupload p-fileupload-advanced p-component")("ngStyle",e.style),m(2),ce(e.chooseStyleClass),p("ngClass",ye(24,qSe,e.focus,e.disabled||e.isChooseDisabled())),m(1),p("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled()),ie("title",""),m(2),ce(e.chooseIcon),p("ngClass","p-button-icon p-button-icon-left"),m(2),se(e.chooseButtonLabel),m(1),p("ngIf",!e.auto&&e.showUploadButton),m(1),p("ngIf",!e.auto&&e.showCancelButton),m(1),p("ngTemplateOutlet",e.toolbarTemplate),m(3),p("ngIf",e.hasFiles()),m(1),p("value",e.msgs)("enableService",!1),m(1),p("ngIf",e.hasFiles()),m(1),p("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",B(27,WSe,e.files))}}function QSe(n,t){if(1&n){const e=N();_(0,"input",32,33),S("change",function(r){return C(e),I(f(2).onFileSelect(r))})("focus",function(){return C(e),I(f(2).onFocus())})("blur",function(){return C(e),I(f(2).onBlur())}),y()}if(2&n){const e=f(2);p("accept",e.accept)("multiple",e.multiple)("disabled",e.disabled)}}const YSe=function(n,t,e,i){return{"p-button p-component p-fileupload-choose":!0,"p-button-icon-only":n,"p-fileupload-choose-selected":t,"p-focus":e,"p-disabled":i}};function ZSe(n,t){if(1&n){const e=N();_(0,"div",28),j(1,"p-messages",14),_(2,"span",29),S("mouseup",function(){return C(e),I(f().onBasicUploaderClick())})("keydown",function(r){return C(e),I(f().onBasicKeydown(r))}),j(3,"span",30),_(4,"span",8),L(5),y(),v(6,QSe,2,3,"input",31),y()()}if(2&n){const e=f();m(1),p("value",e.msgs)("enableService",!1),m(1),ce(e.styleClass),p("ngClass",Ji(9,YSe,!e.chooseLabel,e.hasFiles(),e.focus,e.disabled))("ngStyle",e.style),m(1),p("ngClass",e.hasFiles()&&!e.auto?e.uploadIcon:e.chooseIcon),m(2),se(e.basicButtonLabel),m(1),p("ngIf",!e.hasFiles())}}let JSe=(()=>{class n{constructor(e,i,r,s,o,a){this.el=e,this.sanitizer=i,this.zone=r,this.http=s,this.cd=o,this.config=a,this.method="post",this.invalidFileSizeMessageSummary="{0}: Invalid file size, ",this.invalidFileSizeMessageDetail="maximum upload size is {0}.",this.invalidFileTypeMessageSummary="{0}: Invalid file type, ",this.invalidFileTypeMessageDetail="allowed file types: {0}.",this.invalidFileLimitMessageDetail="limit is {0} at most.",this.invalidFileLimitMessageSummary="Maximum number of files exceeded, ",this.previewWidth=50,this.chooseIcon="pi pi-plus",this.uploadIcon="pi pi-upload",this.cancelIcon="pi pi-times",this.showUploadButton=!0,this.showCancelButton=!0,this.mode="advanced",this.onBeforeUpload=new R,this.onSend=new R,this.onUpload=new R,this.onError=new R,this.onClear=new R,this.onRemove=new R,this.onSelect=new R,this.onProgress=new R,this.uploadHandler=new R,this.onImageError=new R,this._files=[],this.progress=0,this.uploadedFileCount=0}set files(e){this._files=[];for(let i=0;i<e.length;i++){let r=e[i];this.validate(r)&&(this.isImage(r)&&(r.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(e[i]))),this._files.push(e[i]))}}get files(){return this._files}get basicButtonLabel(){return this.auto||!this.hasFiles()?this.chooseLabel:this.uploadLabel??this.files[0].name}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"file":default:this.fileTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"toolbar":this.toolbarTemplate=e.template}})}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterViewInit(){"advanced"===this.mode&&this.zone.runOutsideAngular(()=>{this.content&&this.content.nativeElement.addEventListener("dragover",this.onDragOver.bind(this))})}choose(){this.advancedFileInput.nativeElement.click()}onFileSelect(e){if("drop"!==e.type&&this.isIE11()&&this.duplicateIEEvent)return void(this.duplicateIEEvent=!1);this.msgs=[],this.multiple||(this.files=[]);let i=e.dataTransfer?e.dataTransfer.files:e.target.files;for(let r=0;r<i.length;r++){let s=i[r];this.isFileSelected(s)||this.validate(s)&&(this.isImage(s)&&(s.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(i[r]))),this.files.push(i[r]))}this.onSelect.emit({originalEvent:e,files:i,currentFiles:this.files}),this.fileLimit&&"advanced"==this.mode&&this.checkFileLimit(),this.hasFiles()&&this.auto&&("advanced"!==this.mode||!this.isFileLimitExceeded())&&this.upload(),"drop"!==e.type&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(e){for(let i of this.files)if(i.name+i.type+i.size===e.name+e.type+e.size)return!0;return!1}isIE11(){return!!window.MSInputMethodContext&&!!document.documentMode}validate(e){return this.msgs=[],this.accept&&!this.isFileTypeValid(e)?(this.msgs.push({severity:"error",summary:this.invalidFileTypeMessageSummary.replace("{0}",e.name),detail:this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}),!1):!(this.maxFileSize&&e.size>this.maxFileSize&&(this.msgs.push({severity:"error",summary:this.invalidFileSizeMessageSummary.replace("{0}",e.name),detail:this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}),1))}isFileTypeValid(e){let i=this.accept.split(",").map(r=>r.trim());for(let r of i)if(this.isWildcard(r)?this.getTypeClass(e.type)===this.getTypeClass(r):e.type==r||this.getFileExtension(e).toLowerCase()===r.toLowerCase())return!0;return!1}getTypeClass(e){return e.substring(0,e.indexOf("/"))}isWildcard(e){return-1!==e.indexOf("*")}getFileExtension(e){return"."+e.name.split(".").pop()}isImage(e){return/^image\//.test(e.type)}onImageLoad(e){window.URL.revokeObjectURL(e.src)}upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let e=new FormData;this.onBeforeUpload.emit({formData:e});for(let i=0;i<this.files.length;i++)e.append(this.name,this.files[i],this.files[i].name);this.http[this.method](this.url,e,{headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(i=>{switch(i.type){case Wt.Sent:this.onSend.emit({originalEvent:i,formData:e});break;case Wt.Response:this.uploading=!1,this.progress=0,i.status>=200&&i.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:i,files:this.files})):this.onError.emit({files:this.files}),this.clear();break;case Wt.UploadProgress:i.loaded&&(this.progress=Math.round(100*i.loaded/i.total)),this.onProgress.emit({originalEvent:i,progress:this.progress})}this.cd.markForCheck()},i=>{this.uploading=!1,this.onError.emit({files:this.files,error:i})})}}clear(){this.files=[],this.onClear.emit(),this.clearInputElement(),this.cd.markForCheck()}remove(e,i){this.clearInputElement(),this.onRemove.emit({originalEvent:e,file:this.files[i]}),this.files.splice(i,1),this.checkFileLimit()}isFileLimitExceeded(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<this.files.length+this.uploadedFileCount}isChooseDisabled(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(){this.msgs=[],this.isFileLimitExceeded()?this.msgs.push({severity:"error",summary:this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString()),detail:this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())}):this.msgs=[]}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}onDragEnter(e){this.disabled||(e.stopPropagation(),e.preventDefault())}onDragOver(e){this.disabled||(k.addClass(this.content.nativeElement,"p-fileupload-highlight"),this.dragHighlight=!0,e.stopPropagation(),e.preventDefault())}onDragLeave(e){this.disabled||k.removeClass(this.content.nativeElement,"p-fileupload-highlight")}onDrop(e){if(!this.disabled){k.removeClass(this.content.nativeElement,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault();let i=e.dataTransfer?e.dataTransfer.files:e.target.files;(this.multiple||i&&1===i.length)&&this.onFileSelect(e)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(e){if(0==e)return"0 B";let o=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,o)).toFixed(3))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][o]}onBasicUploaderClick(){this.hasFiles()?this.upload():this.basicFileInput.nativeElement.click()}onBasicKeydown(e){switch(e.code){case"Space":case"Enter":this.onBasicUploaderClick(),e.preventDefault()}}imageError(e){this.onImageError.emit(e)}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(tn.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(tn.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(tn.CANCEL)}ngOnDestroy(){this.content&&this.content.nativeElement&&this.content.nativeElement.removeEventListener("dragover",this.onDragOver),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(x(ze),x(S2),x(st),x(ah),x(tt),x(_r))},n.\u0275cmp=Ae({type:n,selectors:[["p-fileUpload"]],contentQueries:function(e,i,r){if(1&e&&dt(r,gt,4),2&e){let s;Q(s=Y())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(ge(RSe,5),ge(PSe,5),ge(OSe,5)),2&e){let r;Q(r=Y())&&(i.advancedFileInput=r.first),Q(r=Y())&&(i.basicFileInput=r.first),Q(r=Y())&&(i.content=r.first)}},hostAttrs:[1,"p-element"],inputs:{name:"name",url:"url",method:"method",multiple:"multiple",accept:"accept",disabled:"disabled",auto:"auto",withCredentials:"withCredentials",maxFileSize:"maxFileSize",invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:"previewWidth",chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:"showUploadButton",showCancelButton:"showCancelButton",mode:"mode",headers:"headers",customUpload:"customUpload",fileLimit:"fileLimit",uploadStyleClass:"uploadStyleClass",cancelStyleClass:"cancelStyleClass",removeStyleClass:"removeStyleClass",chooseStyleClass:"chooseStyleClass",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler",onImageError:"onImageError"},decls:2,vars:2,consts:[[3,"ngClass","ngStyle","class",4,"ngIf"],["class","p-fileupload p-fileupload-basic p-component",4,"ngIf"],[3,"ngClass","ngStyle"],[1,"p-fileupload-buttonbar"],["pRipple","","tabindex","0",1,"p-button","p-component","p-fileupload-choose",3,"ngClass","focus","blur","click","keydown.enter"],["type","file",3,"multiple","accept","disabled","change"],["advancedfileinput",""],[3,"ngClass"],[1,"p-button-label"],["type","button",3,"label","icon","disabled","styleClass","onClick",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-fileupload-content",3,"dragenter","dragleave","drop"],["content",""],[3,"value","showValue",4,"ngIf"],[3,"value","enableService"],["class","p-fileupload-files",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"label","icon","disabled","styleClass","onClick"],[3,"value","showValue"],[1,"p-fileupload-files"],[4,"ngIf"],["class","p-fileupload-row",4,"ngFor","ngForOf"],[1,"p-fileupload-row"],[3,"src","width","error",4,"ngIf"],[1,"p-fileupload-filename"],["type","button","icon","pi pi-times","pButton","",3,"disabled","click"],[3,"src","width","error"],["ngFor","",3,"ngForOf","ngForTemplate"],[1,"p-fileupload","p-fileupload-basic","p-component"],["tabindex","0","pRipple","",3,"ngClass","ngStyle","mouseup","keydown"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass"],["type","file",3,"accept","multiple","disabled","change","focus","blur",4,"ngIf"],["type","file",3,"accept","multiple","disabled","change","focus","blur"],["basicfileinput",""]],template:function(e,i){1&e&&(v(0,KSe,17,29,"div",0),v(1,ZSe,7,14,"div",1)),2&e&&(p("ngIf","advanced"===i.mode),m(1),p("ngIf","basic"===i.mode))},dependencies:[Ze,qn,qe,St,at,Ro,pC,mL,G1e,Mn],styles:[".p-fileupload-content{position:relative}.p-fileupload-row{display:flex;align-items:center}.p-fileupload-row>div{flex:1 1 auto;width:25%}.p-fileupload-row>div:last-child{text-align:right}.p-fileupload-content .p-progressbar{width:100%;position:absolute;top:0;left:0}.p-button.p-fileupload-choose{position:relative;overflow:hidden}.p-button.p-fileupload-choose input[type=file],.p-fileupload-choose.p-fileupload-choose-selected input[type=file]{display:none}.p-fluid .p-fileupload .p-button{width:auto}.p-fileupload-filename{word-break:break-all}\n"],encapsulation:2,changeDetection:0}),n})(),k$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,nt,$r,bg,rv,pn,nt,$r,bg,rv]}),n})();function XSe(n,t){if(1&n){const e=N();_(0,"span",5),S("click",function(r){return C(e),I(f(2).clear(r))})("keydown.enter",function(r){return C(e),I(f(2).clear(r))}),y()}if(2&n){const e=f(2);p("ngClass",e.iconCancelClass)("ngStyle",e.iconCancelStyle),ie("tabindex",e.disabled||e.readonly?null:"0")}}function exe(n,t){if(1&n){const e=N();_(0,"span",6),S("click",function(r){const o=C(e).index;return I(f(2).rate(r,o))})("keydown.enter",function(r){const o=C(e).index;return I(f(2).rate(r,o))}),y()}if(2&n){const e=t.index,i=f(2);p("ngClass",!i.value||e>=i.value?i.iconOffClass:i.iconOnClass)("ngStyle",!i.value||e>=i.value?i.iconOffStyle:i.iconOnStyle),ie("tabindex",i.disabled||i.readonly?null:"0")}}function txe(n,t){if(1&n&&(ae(0),v(1,XSe,1,3,"span",3),v(2,exe,1,3,"span",4),le()),2&n){const e=f();m(1),p("ngIf",e.cancel),m(1),p("ngForOf",e.starsArray)}}function nxe(n,t){1&n&&$(0)}function ixe(n,t){if(1&n){const e=N();_(0,"span",9),S("click",function(r){return C(e),I(f(2).clear(r))})("keydown.enter",function(r){return C(e),I(f(2).clear(r))}),v(1,nxe,1,0,"ng-container",10),y()}if(2&n){const e=f(2);p("ngStyle",e.iconCancelStyle),ie("tabindex",e.disabled||e.readonly?null:"0"),m(1),p("ngTemplateOutlet",e.cancelIconTemplate)}}function rxe(n,t){1&n&&$(0)}function sxe(n,t){if(1&n){const e=N();_(0,"span",11),S("click",function(r){const o=C(e).index;return I(f(2).rate(r,o))})("keydown.enter",function(r){const o=C(e).index;return I(f(2).rate(r,o))}),v(1,rxe,1,0,"ng-container",10),y()}if(2&n){const e=t.index,i=f(2);ie("tabindex",i.disabled||i.readonly?null:"0"),m(1),p("ngTemplateOutlet",i.getIconTemplate(e))}}function oxe(n,t){if(1&n&&(v(0,ixe,2,3,"span",7),v(1,sxe,2,2,"span",8)),2&n){const e=f();p("ngIf",e.cancel),m(1),p("ngForOf",e.starsArray)}}const axe=function(n,t){return{"p-readonly":n,"p-disabled":t}},lxe={provide:kt,useExisting:Fe(()=>cxe),multi:!0};let cxe=(()=>{class n{constructor(e){this.cd=e,this.isCustomCancelIcon=!0,this.stars=5,this.cancel=!0,this.iconOnClass="pi pi-star-fill",this.iconOffClass="pi pi-star",this.iconCancelClass="pi pi-ban",this.onRate=new R,this.onCancel=new R,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.starsArray=[];for(let e=0;e<this.stars;e++)this.starsArray[e]=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"onicon":this.onIconTemplate=e.template;break;case"officon":this.offIconTemplate=e.template;break;case"cancel":this.cancelIconTemplate=e.template}})}getIconTemplate(e){return!this.value||e>=this.value?this.offIconTemplate:this.onIconTemplate}rate(e,i){!this.readonly&&!this.disabled&&(this.value=i+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:e,value:i+1})),e.preventDefault()}clear(e){!this.readonly&&!this.disabled&&(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(e)),e.preventDefault()}writeValue(e){this.value=e,this.cd.detectChanges()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get isCustomIcon(){return this.templates&&this.templates.length>0}}return n.\u0275fac=function(e){return new(e||n)(x(tt))},n.\u0275cmp=Ae({type:n,selectors:[["p-rating"]],contentQueries:function(e,i,r){if(1&e&&dt(r,gt,4),2&e){let s;Q(s=Y())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{isCustomCancelIcon:"isCustomCancelIcon",index:"index",disabled:"disabled",readonly:"readonly",stars:"stars",cancel:"cancel",iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle"},outputs:{onRate:"onRate",onCancel:"onCancel"},features:[Ue([lxe])],decls:4,vars:6,consts:[[1,"p-rating",3,"ngClass"],[4,"ngIf","ngIfElse"],["customTemplate",""],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter"],[1,"p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter"],["class","p-rating-icon p-rating-cancel",3,"ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngStyle","click","keydown.enter"],[4,"ngTemplateOutlet"],[1,"p-rating-icon",3,"click","keydown.enter"]],template:function(e,i){if(1&e&&(_(0,"div",0),v(1,txe,3,2,"ng-container",1),v(2,oxe,2,2,"ng-template",null,2,ln),y()),2&e){const r=Ge(3);p("ngClass",ye(3,axe,i.readonly,i.disabled)),m(1),p("ngIf",!i.isCustomIcon)("ngIfElse",r)}},dependencies:[Ze,qn,qe,St,at],styles:[".p-rating-icon{cursor:pointer;display:inline-flex}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}\n"],encapsulation:2,changeDetection:0}),n})(),M$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,nt]}),n})();const uxe=["rb"],dxe=function(n,t,e){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":n,"p-disabled":t,"p-radiobutton-label-focus":e}};function hxe(n,t){if(1&n){const e=N();_(0,"label",4),S("click",function(r){return C(e),I(f().select(r))}),L(1),y()}if(2&n){const e=f(),i=Ge(3);ce(e.labelStyleClass),p("ngClass",an(5,dxe,i.checked,e.disabled,e.focused)),ie("for",e.inputId),m(1),se(e.label)}}const pxe=function(n,t,e){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":n,"p-radiobutton-disabled":t,"p-radiobutton-focused":e}},fxe=function(n,t,e){return{"p-radiobutton-box":!0,"p-highlight":n,"p-disabled":t,"p-focus":e}},mxe={provide:kt,useExisting:Fe(()=>_xe),multi:!0};let gxe=(()=>{class n{constructor(){this.accessors=[]}add(e,i){this.accessors.push([e,i])}remove(e){this.accessors=this.accessors.filter(i=>i[1]!==e)}select(e){this.accessors.forEach(i=>{this.isSameGroup(i,e)&&i[1]!==e&&i[1].writeValue(e.value)})}isSameGroup(e,i){return!!e[0].control&&e[0].control.root===i.control.control.root&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_xe=(()=>{class n{constructor(e,i,r){this.cd=e,this.injector=i,this.registry=r,this.onClick=new R,this.onFocus=new R,this.onBlur=new R,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.control=this.injector.get(bs),this.checkName(),this.registry.add(this.control,this)}handleClick(e,i,r){e.preventDefault(),!this.disabled&&(this.select(e),r&&i.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:e,value:this.value}))}writeValue(e){this.checked=e==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}onChange(e){this.select(e)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}return n.\u0275fac=function(e){return new(e||n)(x(tt),x(Ti),x(gxe))},n.\u0275cmp=Ae({type:n,selectors:[["p-radioButton"]],viewQuery:function(e,i){if(1&e&&ge(uxe,5),2&e){let r;Q(r=Y())&&(i.inputViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[Ue([mxe])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(e,i){if(1&e){const r=N();_(0,"div",0)(1,"div",1)(2,"input",2,3),S("change",function(o){return i.onChange(o)})("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)}),y()(),_(4,"div",4),S("click",function(o){C(r);const a=Ge(3);return I(i.handleClick(o,a,!0))}),j(5,"span",5),y()(),v(6,hxe,2,9,"label",6)}2&e&&(ce(i.styleClass),p("ngStyle",i.style)("ngClass",an(15,pxe,i.checked,i.disabled,i.focused)),m(2),p("checked",i.checked)("disabled",i.disabled),ie("id",i.inputId)("name",i.name)("value",i.value)("tabindex",i.tabindex)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy),m(2),p("ngClass",an(19,fxe,i.checked,i.disabled,i.focused)),m(2),p("ngIf",i.label))},dependencies:[Ze,qe,at],encapsulation:2,changeDetection:0}),n})(),R$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee]}),n})();Sc([bt({transform:"{{transform}}",opacity:0}),fn("{{transition}}",bt({transform:"none",opacity:1}))]),Sc([fn("{{transition}}",bt({transform:"{{transform}}",opacity:0}))]);let P$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,$r,pn,$r,nt]}),n})();function Oxe(n,t){if(1&n&&(_(0,"span",10),L(1),y()),2&n){const e=f(2);ie("id",e.id+"_header"),m(1),se(e.header)}}function Fxe(n,t){1&n&&$(0)}function Lxe(n,t){}function Nxe(n,t){1&n&&v(0,Lxe,0,0,"ng-template")}function Vxe(n,t){if(1&n){const e=N();_(0,"button",11),S("click",function(r){return C(e),I(f(2).onIconClick(r))})("keydown.enter",function(r){return C(e),I(f(2).onIconClick(r))}),j(1,"span"),y()}if(2&n){const e=f(2);ie("aria-label","collapse button")("id",e.id+"-label")("aria-controls",e.id+"-content")("aria-expanded",!e.collapsed),m(1),ce(e.collapsed?e.expandIcon:e.collapseIcon)}}const Bxe=function(n,t,e){return{"p-panel-icons-start":n,"p-panel-icons-end":t,"p-panel-icons-center":e}};function Uxe(n,t){if(1&n){const e=N();_(0,"div",6),S("click",function(r){return C(e),I(f().onHeaderClick(r))}),v(1,Oxe,2,2,"span",7),Dn(2,1),v(3,Fxe,1,0,"ng-container",4),_(4,"div",8),v(5,Nxe,1,0,null,4),v(6,Vxe,2,6,"button",9),y()()}if(2&n){const e=f();ie("id",e.id+"-titlebar"),m(1),p("ngIf",e.header),m(2),p("ngTemplateOutlet",e.headerTemplate),m(1),p("ngClass",an(6,Bxe,"start"===e.iconPos,"end"===e.iconPos,"center"===e.iconPos)),m(1),p("ngTemplateOutlet",e.iconTemplate),m(1),p("ngIf",e.toggleable)}}function Hxe(n,t){1&n&&$(0)}function zxe(n,t){1&n&&$(0)}function $xe(n,t){if(1&n&&(_(0,"div",12),Dn(1,2),v(2,zxe,1,0,"ng-container",4),y()),2&n){const e=f();m(2),p("ngTemplateOutlet",e.footerTemplate)}}const jxe=["*",[["p-header"]],[["p-footer"]]],Gxe=function(n,t){return{"p-panel p-component":!0,"p-panel-toggleable":n,"p-panel-expanded":t}},qxe=function(n){return{transitionParams:n,height:"0",opacity:"0"}},Wxe=function(n){return{value:"hidden",params:n}},Kxe=function(n){return{transitionParams:n,height:"*",opacity:"1"}},Qxe=function(n){return{value:"visible",params:n}},Yxe=["*","p-header","p-footer"];let Zxe=0,Jxe=(()=>{class n{constructor(e){this.el=e,this.collapsed=!1,this.iconPos="end",this.expandIcon="pi pi-plus",this.collapseIcon="pi pi-minus",this.showHeader=!0,this.toggler="icon",this.collapsedChange=new R,this.onBeforeToggle=new R,this.onAfterToggle=new R,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-panel-"+Zxe++}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":default:this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"icons":this.iconTemplate=e.template}})}onHeaderClick(e){"header"===this.toggler&&this.toggle(e)}onIconClick(e){"icon"===this.toggler&&this.toggle(e)}toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(e):this.collapse(e)),e.preventDefault()}expand(e){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(e){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})}}return n.\u0275fac=function(e){return new(e||n)(x(ze))},n.\u0275cmp=Ae({type:n,selectors:[["p-panel"]],contentQueries:function(e,i,r){if(1&e&&(dt(r,fg,5),dt(r,gt,4)),2&e){let s;Q(s=Y())&&(i.footerFacet=s.first),Q(s=Y())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{toggleable:"toggleable",header:"header",collapsed:"collapsed",style:"style",styleClass:"styleClass",iconPos:"iconPos",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:"showHeader",toggler:"toggler",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:Yxe,decls:7,vars:23,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],["role","tablist",1,"p-panel-icons",3,"ngClass"],["type","button","class","p-panel-header-icon p-panel-toggler p-link","pRipple","","role","tab",3,"click","keydown.enter",4,"ngIf"],[1,"p-panel-title"],["type","button","pRipple","","role","tab",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown.enter"],[1,"p-panel-footer"]],template:function(e,i){1&e&&(pr(jxe),_(0,"div",0),v(1,Uxe,7,10,"div",1),_(2,"div",2),S("@panelContent.done",function(s){return i.onToggleDone(s)}),_(3,"div",3),Dn(4),v(5,Hxe,1,0,"ng-container",4),y(),v(6,$xe,3,1,"div",5),y()()),2&e&&(ce(i.styleClass),p("ngClass",ye(12,Gxe,i.toggleable,!i.collapsed&&i.toggleable))("ngStyle",i.style),ie("id",i.id),m(1),p("ngIf",i.showHeader),m(1),p("@panelContent",i.collapsed?B(17,Wxe,B(15,qxe,i.animating?i.transitionOptions:"0ms")):B(21,Qxe,B(19,Kxe,i.animating?i.transitionOptions:"0ms"))),ie("id",i.id+"-content")("aria-hidden",i.collapsed)("aria-labelledby",i.id+"-titlebar"),m(3),p("ngTemplateOutlet",i.contentTemplate),m(1),p("ngIf",i.footerFacet||i.footerTemplate))},dependencies:[Ze,qe,St,at,Mn],styles:[".p-panel-header{display:flex;align-items:center}.p-panel-title{line-height:1;order:1}.p-panel-header-icon{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-panel-toggleable.p-panel-expanded .p-toggleable-content:not(.ng-animating){overflow:visible}.p-panel-toggleable .p-toggleable-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[Gs("panelContent",[ch("hidden",bt({height:"0"})),ch("void",bt({height:"{{height}}"}),{params:{height:"0"}}),ch("visible",bt({height:"*"})),Cn("visible <=> hidden",[fn("{{transitionParams}}")]),Cn("void => hidden",fn("{{transitionParams}}")),Cn("void => visible",fn("{{transitionParams}}"))])]},changeDetection:0}),n})(),O$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,nt,pn,nt]}),n})(),L$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,Xi,pn,Nu,Xi,Nu]}),n})(),MDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,nt]}),n})(),eAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,nt,pn,Ee,nt]}),n})();const tAe=function(n,t){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":t}};function nAe(n,t){if(1&n&&j(0,"span",3),2&n){const e=f();ce(e.checked?e.onIcon:e.offIcon),p("ngClass",ye(3,tAe,"left"===e.iconPos,"right"===e.iconPos))}}const iAe=function(n,t,e){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":n,"p-highlight":t,"p-disabled":e}},rAe={provide:kt,useExisting:Fe(()=>N$),multi:!0};let N$=(()=>{class n{constructor(e){this.cd=e,this.iconPos="left",this.onChange=new R,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(e){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:e,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return n.\u0275fac=function(e){return new(e||n)(x(tt))},n.\u0275cmp=Ae({type:n,selectors:[["p-toggleButton"]],hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[Ue([rAe])],decls:4,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(e,i){1&e&&(_(0,"div",0),S("click",function(s){return i.toggle(s)})("keydown.enter",function(s){return i.toggle(s)}),v(1,nAe,1,6,"span",1),_(2,"span",2),L(3),y()()),2&e&&(ce(i.styleClass),p("ngClass",an(8,iAe,i.onIcon&&i.offIcon&&!i.hasOnLabel&&!i.hasOffLabel,i.checked,i.disabled))("ngStyle",i.style),ie("tabindex",i.disabled?null:"0")("aria-checked",i.checked),m(1),p("ngIf",i.onIcon||i.offIcon),m(2),se(i.checked?i.hasOnLabel?i.onLabel:"":i.hasOffLabel?i.offLabel:""))},dependencies:[Ze,qe,at,Mn],styles:['.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0 none}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}'],changeDetection:0}),n})(),sAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Ee,pn]}),n})(),oAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({providers:[ko,qF],imports:[Ee,iee,Ou,aL,_D,aL,$r,pL,sL,_D,s$,o$,a$,l$,p$,h$,nf,u$,rf,m$,b$,w$,po,Vx,I$,rv,E$,pn,_5,x$,A$,fL,bg,k$,y5,M$,R$,P$,Xi,O$,L$,MDe,eAe,sAe,d5]}),n})();!function eA(n,t,e){const i=n.\u0275cmp;i.directiveDefs=()=>("function"==typeof t?t():t).map(tA),i.pipeDefs=()=>("function"==typeof e?e():e).map(bi)}(gx,[qn,qe,at,Ru,Yp,Lx,da,gt,Ro,vg,Fu,zx,c$,$x,v$,u1e,Mn,Tl,mC,JSe,Jxe,N$,w5],[]);class aAe{constructor(){this.username="",this.password=""}}class V${constructor(){this.username="",this.password="",this.email="",this.status=""}}class B${constructor(){this.id="",this.username="",this.email="",this.password="",this.status=""}}let U$=(()=>{class n{constructor(e){this.http=e}adicionarUsername(e){return this.http.post("https://65393dcfe3b530c8d9e82950.mockapi.io/api/dice/user",e)}verificarUsername(){return this.http.get("https://65393dcfe3b530c8d9e82950.mockapi.io/api/dice/user")}alterarUsername(e){return this.http.put("https://65393dcfe3b530c8d9e82950.mockapi.io/api/dice/user/"+e.id,e)}}return n.\u0275fac=function(e){return new(e||n)(ee(ah))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();function lAe(n,t){1&n&&(_(0,"small",17),L(1,"Usu\xe1rio n\xe3o foi informado."),y())}function cAe(n,t){1&n&&(_(0,"small",17),L(1,"Senha n\xe3o foi informada."),y())}function uAe(n,t){if(1&n){const e=N();_(0,"small",18),S("click",function(){return C(e),I(f(3).exibirDialogAlterarSenha())}),L(1,"Esqueceu sua senha?"),y()}}function dAe(n,t){if(1&n){const e=N();_(0,"div")(1,"h2"),L(2,"Insira seu usu\xe1rio"),y(),_(3,"div",7)(4,"span",8)(5,"input",9),S("ngModelChange",function(r){return C(e),I(f(2).loginFiltro.username=r)}),y(),_(6,"label",10),L(7,"Usu\xe1rio"),y()(),v(8,lAe,2,0,"small",11),y(),_(9,"div",7)(10,"span",8)(11,"p-password",12),S("ngModelChange",function(r){return C(e),I(f(2).loginFiltro.password=r)}),y(),_(12,"label",10),L(13,"Senha"),y()(),v(14,cAe,2,0,"small",11),v(15,uAe,2,0,"small",13),y(),_(16,"div",7)(17,"button",14),S("click",function(){return C(e),I(f(2).verificaCamposLogin())}),y()(),_(18,"div",15)(19,"label",16),S("click",function(){return C(e),I(f(2).exibirDialogInscrevase())}),L(20,"Inscreva-se gratuitamente!"),y()()()}if(2&n){const e=f(2);m(5),p("ngModel",e.loginFiltro.username),m(3),p("ngIf",e.usernameInvalidLogin&&!e.loginFiltro.username),m(3),p("feedback",!1)("ngModel",e.loginFiltro.password)("toggleMask",!0),m(3),p("ngIf",e.passwordInvalidLogin&&!e.loginFiltro.password),m(1),p("ngIf",e.redefinirSenha)}}function hAe(n,t){1&n&&(_(0,"small",17),L(1,"E-mail n\xe3o foi informado."),y())}function pAe(n,t){1&n&&(_(0,"small",17),L(1,"Usu\xe1rio n\xe3o foi informado."),y())}function fAe(n,t){1&n&&(_(0,"small",17),L(1,"Senha n\xe3o foi informada."),y())}function mAe(n,t){if(1&n){const e=N();_(0,"div")(1,"i",19),S("click",function(){return C(e),I(f(2).retornarLogin())}),y(),_(2,"h2"),L(3,"Realize seu cadastro"),y(),_(4,"div",7)(5,"span",8)(6,"input",20),S("ngModelChange",function(r){return C(e),I(f(2).registerFiltro.email=r)}),y(),_(7,"label",10),L(8,"E-mail"),y()(),v(9,hAe,2,0,"small",11),y(),_(10,"div",7)(11,"span",8)(12,"input",9),S("ngModelChange",function(r){return C(e),I(f(2).registerFiltro.username=r)}),y(),_(13,"label",10),L(14,"Usu\xe1rio"),y()(),v(15,pAe,2,0,"small",11),y(),_(16,"div",7)(17,"span",8)(18,"p-password",21),S("ngModelChange",function(r){return C(e),I(f(2).registerFiltro.password=r)}),y(),_(19,"label",22),L(20,"Senha"),y()(),v(21,fAe,2,0,"small",11),y(),_(22,"div",7)(23,"button",23),S("click",function(){return C(e),I(f(2).verificaCamposCadastro())}),y()()()}if(2&n){const e=f(2);m(6),p("ngModel",e.registerFiltro.email),m(3),p("ngIf",e.usernameInvalidRegister&&!e.registerFiltro.email),m(3),p("ngModel",e.registerFiltro.username),m(3),p("ngIf",e.usernameInvalidRegister&&!e.registerFiltro.username),m(3),p("ngModel",e.registerFiltro.password)("toggleMask",!0),m(3),p("ngIf",e.passwordInvalidRegister&&!e.registerFiltro.password)}}function gAe(n,t){if(1&n){const e=N();_(0,"div")(1,"i",19),S("click",function(){return C(e),I(f(2).retornarLogin())}),y(),_(2,"h2"),L(3,"Altere sua senha"),y(),_(4,"div",7)(5,"span",8)(6,"input",20),S("ngModelChange",function(r){return C(e),I(f(2).forgotPassword.email=r)}),y(),_(7,"label",10),L(8,"E-mail"),y()()(),_(9,"div",7)(10,"span",8)(11,"p-password",21),S("ngModelChange",function(r){return C(e),I(f(2).forgotPassword.password=r)}),y(),_(12,"label",22),L(13,"Nova Senha"),y()()(),_(14,"div",7)(15,"span",8)(16,"p-password",21),S("ngModelChange",function(r){return C(e),I(f(2).confirmepassword=r)}),y(),_(17,"label",22),L(18,"Confirma\xe7\xe3o da Senha"),y()()(),_(19,"div",7)(20,"button",24),S("click",function(){return C(e),I(f(2).verificarCamposAlterarSenha())}),y()()()}if(2&n){const e=f(2);m(6),p("ngModel",e.forgotPassword.email),m(5),p("ngModel",e.forgotPassword.password)("toggleMask",!0),m(5),p("ngModel",e.confirmepassword)("toggleMask",!0)}}function _Ae(n,t){if(1&n&&(_(0,"div",2)(1,"div",3),v(2,dAe,21,7,"div",4),v(3,mAe,24,7,"div",4),v(4,gAe,21,5,"div",4),y(),_(5,"div",5),j(6,"img",6),y()()),2&n){const e=f();m(2),p("ngIf",!e.indCadastroLogin&&!e.ativarAlterarSenha),m(1),p("ngIf",e.indCadastroLogin&&!e.ativarAlterarSenha),m(1),p("ngIf",e.ativarAlterarSenha)}}let H$=(()=>{class n{constructor(e,i,r){this.router=e,this.messageService=i,this.loginService=r,this.loginFiltro=new aAe,this.registerFiltro=new V$,this.forgotPassword=new B$,this.operacao="",this.exibirDialog=!1,this.usernameInvalidLogin=!1,this.passwordInvalidLogin=!1,this.emailInvalidRegister=!1,this.usernameInvalidRegister=!1,this.passwordInvalidRegister=!1,this.indCadastroLogin=!1,this.redefinirSenha=!1,this.ativarAlterarSenha=!1,this.confirmepassword=""}ngOnInit(){this.operacao=Kn.LOGIN}verificaCamposLogin(){this.messageService.clear(),this.redefinirSenha=!1,this.loginFiltro.username||this.loginFiltro.password?this.loginFiltro.username?this.loginFiltro.password?(this.usernameInvalidLogin=!1,this.passwordInvalidLogin=!1,this.validarLogin()):(this.passwordInvalidLogin=!0,this.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:"Senha invalida.",life:3e3})):(this.usernameInvalidLogin=!0,this.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:"Usu\xe1rio invalido.",life:3e3})):(this.usernameInvalidLogin=!0,this.passwordInvalidLogin=!0,this.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:"Usu\xe1rio e Senha invalida.",life:3e3}))}validarLogin(){this.loginService.verificarUsername().subscribe(e=>{let i=!1,r="",s="";for(let o=0;o<e.length;o++)if(this.loginFiltro.username==e[o].username&&this.loginFiltro.password==e[o].password){i=!0,r=e[o].id,s=e[o].username;break}i?this.router.navigate(["/menu",r,s]):(this.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:"Usu\xe1rio e Senha n\xe3o encontrados.",life:3e3}),this.redefinirSenha=!0)},e=>{this.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:e,life:3e3})})}exibirDialogInscrevase(){this.registerFiltro=new V$,this.emailInvalidRegister=!1,this.usernameInvalidRegister=!1,this.passwordInvalidRegister=!1,this.indCadastroLogin=!0}verificaCamposCadastro(){this.messageService.clear(),this.registerFiltro.username||this.registerFiltro.password||this.registerFiltro.email?this.registerFiltro.email?this.registerFiltro.username?this.registerFiltro.password?(this.emailInvalidRegister=!1,this.usernameInvalidRegister=!1,this.passwordInvalidRegister=!1,this.realizarCadastroUsername()):(this.passwordInvalidRegister=!0,this.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:"Senha invalida.",life:3e3})):(this.usernameInvalidRegister=!0,this.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:"Usu\xe1rio invalido.",life:3e3})):(this.emailInvalidRegister=!0,this.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:"E-mail invalido.",life:3e3})):(this.emailInvalidRegister=!0,this.usernameInvalidRegister=!0,this.passwordInvalidRegister=!0,this.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:"Campos invalidos. Verifique os campos informados.",life:3e3}))}realizarCadastroUsername(){this.registerFiltro.status="Ativo",this.loginService.adicionarUsername(this.registerFiltro).subscribe(e=>{this.router.navigate(["/menu",e.id,e.username])},e=>{console.error("Erro ao adicionar dados:",e)})}retornarLogin(){this.usernameInvalidLogin=!1,this.passwordInvalidLogin=!1,this.indCadastroLogin=!1,this.ativarAlterarSenha=!1}limparMensagem(){this.messageService.clear()}exibirDialogAlterarSenha(){this.forgotPassword=new B$,this.indCadastroLogin=!0,this.ativarAlterarSenha=!0}verificarCamposAlterarSenha(){this.forgotPassword.email||this.forgotPassword.password||this.confirmepassword?this.forgotPassword.email?this.forgotPassword.password&&this.confirmepassword&&this.forgotPassword.password==this.confirmepassword?this.verificarEmailUser():this.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:"Campos invalidos. Senhas n\xe3o conferem ou n\xe3o foram informadas.",life:3e3}):this.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:"E-mail invalido.",life:3e3}):this.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:"Campos invalidos. Verifique os campos informados.",life:3e3})}verificarEmailUser(){this.loginService.verificarUsername().subscribe(e=>{if(e){let i=!1;for(let r=0;r<e.length;r++)e[r].email==this.forgotPassword.email&&(i=!0,this.forgotPassword.id=e[r].id,this.forgotPassword.username=e[r].username,this.forgotPassword.status=e[r].status);i?this.alterarSenha():this.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:"Campos invalidos. Verifique o email informado.",life:3e3})}},e=>{console.error("Erro ao adicionar dados:",e)})}alterarSenha(){this.loginService.alterarUsername(this.forgotPassword).subscribe(e=>{e&&this.router.navigate(["/menu",e.id,e.username])},e=>{console.error("Erro ao adicionar dados:",e)})}}return n.\u0275fac=function(e){return new(e||n)(x(wn),x(ko),x(U$))},n.\u0275cmp=Ae({type:n,selectors:[["app-login"]],decls:2,vars:1,consts:[["position","top-center",3,"onClose"],["class","container",4,"ngIf"],[1,"container"],[1,"login-form"],[4,"ngIf"],[1,"logo-form"],["src","assets/img/logo.jpeg",1,"logo-form-img"],[1,"form-group"],[1,"p-float-label"],["id","float-input","type","text","pInputText","",1,"width",3,"ngModel","ngModelChange"],["for","float-input"],["id","username2-help","class","p-invalid","style","color: red;",4,"ngIf"],["id","float-input",1,"width",3,"feedback","ngModel","toggleMask","ngModelChange"],["id","username2-help","class","p-invalid esqueceuHover","style","color: red;",3,"click",4,"ngIf"],["pButton","","type","button","label","Entrar",1,"p-button-outlined","p-button-success",2,"width","100%",3,"click"],[1,"form-group","inscreva"],[1,"inscreva",3,"click"],["id","username2-help",1,"p-invalid",2,"color","red"],["id","username2-help",1,"p-invalid","esqueceuHover",2,"color","red",3,"click"],[1,"pi","pi-arrow-left","iconRetorno",2,"font-size","2rem",3,"click"],["id","float-input","type","text","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}","pInputText","",1,"width",3,"ngModel","ngModelChange"],[1,"width",3,"ngModel","toggleMask","ngModelChange"],["for","inputtext",1,"width"],["pButton","","type","button","label","Cadastrar",1,"p-button-outlined","p-button-success",2,"width","100%",3,"click"],["pButton","","type","button","label","Alterar Senha",1,"p-button-outlined","p-button-success",2,"width","100%",3,"click"]],template:function(e,i){1&e&&(_(0,"p-toast",0),S("onClose",function(){return i.limparMensagem()}),y(),v(1,_Ae,7,3,"div",1)),2&e&&(m(1),p("ngIf","login"==i.operacao))},dependencies:[qe,Ru,Yp,Nx,da,Ro,Fu,C$,vg],styles:[".login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:35vw;height:60vh;left:10vw;background-color:#fdfdfd;margin:20px;border-radius:10px;box-shadow:5px 5px 15px #0000004d;position:absolute;z-index:1}.login-form[_ngcontent-%COMP%]   .forms[_ngcontent-%COMP%]{flex-direction:column;justify-content:right}.logo-form-img[_ngcontent-%COMP%]{height:100%;border-radius:10px;margin:0;width:100%}.logo-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:50vw;height:80vh;right:10vw;background-color:#989898;color:#fff;border-radius:10px;box-shadow:5px 5px 15px #0000004d;position:absolute;z-index:0}.form-group[_ngcontent-%COMP%]{margin-top:5vh}.inscreva[_ngcontent-%COMP%]{text-align:center;cursor:pointer}.inscreva[_ngcontent-%COMP%]:hover{color:#590a0a;text-decoration:underline}.col-lg-4[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   Cadastrar[_ngcontent-%COMP%]{margin-left:80px}.iconRetorno[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px}.iconRetorno[_ngcontent-%COMP%]:hover, .esqueceuHover[_ngcontent-%COMP%]:hover{color:#989898;cursor:pointer;text-decoration:underline}"]}),n})();const yAe=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:H$},{path:"menu/:userId/:username",component:w5}];let vAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Xi.forRoot(yAe),Xi]}),n})(),bAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ae({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&j(0,"router-outlet")},dependencies:[$0]}),n})();const wAe=[{path:"login",component:H$}];let CAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Xi.forChild(wAe),Xi]}),n})(),IAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({providers:[ko,qF],imports:[Ee,CAe,Ou,_D,s$,o$,a$,$r,l$,p$,h$,sL,nf,u$,rf,m$,b$,w$,po,Vx,I$,rv,E$,pn,_5,pL,x$,A$,fL,bg,k$,y5,M$,R$,P$,Xi,O$,L$]}),n})(),TAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n,bootstrap:[bAe]}),n.\u0275inj=de({providers:[_g,U$],imports:[C2,vAe,Ou,IAe,Xi,oAe]}),n})();(function FK(){wO=!1})(),gZ().bootstrapModule(TAe).catch(n=>console.error(n))}},ov=>{ov(ov.s=673)}]);